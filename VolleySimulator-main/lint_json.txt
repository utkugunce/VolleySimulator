[{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\gunceldurum\\OneLigDetailedGroupsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[818,821],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[818,821],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\n\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport { sortStandings } from \"../../utils/calculatorUtils\";\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport LeagueActionBar from \"../../components/LeagueTemplate/LeagueActionBar\";\r\nimport { LEAGUE_CONFIGS } from \"../../components/LeagueTemplate/types\";\r\n\r\ninterface OneLigDetailedGroupsClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function OneLigDetailedGroupsClient({ initialTeams, initialMatches }: OneLigDetailedGroupsClientProps) {\r\n    const [allTeams] = useState<TeamStats[]>(initialTeams);\r\n    const [allMatches] = useState<Match[]>(initialMatches.map((m: any) => ({\r\n        ...m,\r\n        matchDate: m.date || m.matchDate\r\n    })));\r\n\r\n    const groups = useMemo(() => {\r\n        return [...new Set(initialTeams.map(t => t.groupName))].sort();\r\n    }, [initialTeams]);\r\n\r\n    const [activeGroup, setActiveGroup] = useState<string>(groups[0] || \"\");\r\n\r\n    // Filter data for active group\r\n    const groupTeams = useMemo(() => sortStandings(allTeams.filter(t => t.groupName === activeGroup)), [allTeams, activeGroup]);\r\n    const groupMatches = useMemo(() => allMatches.filter(m => m.groupName === activeGroup), [allMatches, activeGroup]);\r\n\r\n    const playedCount = groupMatches.filter(m => m.isPlayed).length;\r\n    const totalCount = groupMatches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    const totalCount = groupMatches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    const groupedMatches = useMemo(() => {\r\n        const matchesByDate: Record<string, { formatted: string; matches: Match[] }> = {};\r\n        const upcomingMatches = groupMatches.filter(m => !m.isPlayed);\r\n\r\n        upcomingMatches.forEach(match => {\r\n            const { formatted, sortKey } = formatDate(match.matchDate);\r\n            if (!matchesByDate[sortKey]) {\r\n                matchesByDate[sortKey] = { formatted, matches: [] };\r\n            }\r\n            matchesByDate[sortKey].matches.push(match);\r\n        });\r\n\r\n        const sortedDates = Object.keys(matchesByDate).sort();\r\n        return sortedDates.reduce((acc, dateKey) => {\r\n            acc[matchesByDate[dateKey].formatted] = matchesByDate[dateKey].matches;\r\n            return acc;\r\n        }, {} as Record<string, Match[]>);\r\n    }, [groupMatches]);\r\n\r\n    const bottomTwoTeams = useMemo(() => groupTeams.slice(-2).map(t => t.name), [groupTeams]);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans overflow-hidden\">\r\n            <div className=\"max-w-7xl mx-auto space-y-1 h-full flex flex-col\">\r\n                <div className=\"space-y-3 bg-slate-900/40 p-3 rounded-2xl border border-slate-800/60 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                    {/* Action Bar using LeagueTemplate */}\r\n                    <LeagueActionBar\r\n                        config={LEAGUE_CONFIGS['1lig']}\r\n                        title={`${LEAGUE_CONFIGS['1lig'].shortName} - ${activeGroup}`}\r\n                        subtitle=\"Kad─▒nlar 1. Ligi Analiz ve Puan Durumu\"\r\n                        selectorLabel=\"Grup\"\r\n                        selectorValue={activeGroup}\r\n                        selectorOptions={groups}\r\n                        onSelectorChange={setActiveGroup}\r\n                        progress={completionRate}\r\n                        progressLabel={`%${completionRate}`}\r\n                    >\r\n                        {/* Leader Badge */}\r\n                        <div className=\"hidden sm:flex bg-slate-950/50 px-3 py-1.5 rounded-lg border border-slate-800 text-center flex-col justify-center h-full min-h-[32px]\">\r\n                            <div className=\"text-[9px] font-bold text-slate-500 uppercase leading-none mb-0.5\">Lider</div>\r\n                            <div className=\"text-xs font-bold text-white truncate max-w-[100px] leading-none\">{groupTeams[0]?.name}</div>\r\n                        </div>\r\n                        {/* Live Badge */}\r\n                        <div className=\"px-3 h-8 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase hidden sm:inline\">Otomatik G├╝ncelleme</span>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase sm:hidden\">CANLI</span>\r\n                        </div>\r\n                    </LeagueActionBar>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-2 h-full\">\r\n                        <div className=\"lg:col-span-2 space-y-1 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôï</span> Puan Durumu Detaylar─▒\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 max-h-[calc(100vh-200px)]\">\r\n                                <StandingsTable\r\n                                    teams={groupTeams}\r\n                                    playoffSpots={4}\r\n                                    relegationSpots={activeGroup.includes('B') ? 2 : 0}\r\n                                    compact={true}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôà</span> Gelecek Ma├ğlar\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 relative\">\r\n                                <div className=\"absolute inset-0 overflow-y-auto p-2 space-y-2\">\r\n                                    {Object.keys(groupedMatches).length === 0 ? (\r\n                                        <div className=\"flex flex-col items-center justify-center h-full text-slate-500 text-xs italic\">\r\n                                            Ma├ğ bulunamad─▒ veya sezon tamamland─▒.\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"space-y-2\">\r\n                                            {Object.entries(groupedMatches).map(([date, matches], dateIdx) => (\r\n                                                <div key={date} className={dateIdx > 0 ? 'mt-3' : ''}>\r\n                                                    <div className=\"sticky top-0 bg-amber-600/20 px-2 py-1 rounded border border-amber-500/30 mb-2 z-10\">\r\n                                                        <span className=\"text-[10px] font-bold text-amber-400 uppercase tracking-wide\">\r\n                                                            {date}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div className=\"px-2 space-y-1\">\r\n                                                        {matches.map(match => {\r\n                                                            const isRelegationBattle = activeGroup.includes('B') && (bottomTwoTeams.includes(match.homeTeam) || bottomTwoTeams.includes(match.awayTeam));\r\n                                                            return (\r\n                                                                <div key={match.id || `${match.homeTeam}-${match.awayTeam}`} className={`bg-slate-900/30 border border-slate-800/50 rounded-lg p-2 hover:bg-slate-800/50 transition-colors group ${isRelegationBattle ? 'border-rose-900/50 bg-rose-900/5' : ''}`}>\r\n                                                                    <div className=\"flex items-center justify-between gap-2\">\r\n                                                                        <div className=\"flex-1 flex items-center justify-end gap-2 overflow-hidden\">\r\n                                                                            <div className=\"text-[11px] font-bold text-slate-200 truncate group-hover:text-amber-500 transition-colors\">{match.homeTeam}</div>\r\n                                                                            <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                                                        </div>\r\n                                                                        <div className=\"px-2 py-0.5 bg-slate-950 rounded text-[9px] font-mono text-slate-500 font-bold whitespace-nowrap border border-slate-900 shadow-inner\">\r\n                                                                            {match.matchTime && match.matchTime !== '00:00' ? match.matchTime : '20:00'}\r\n                                                                        </div>\r\n                                                                        <div className=\"flex-1 flex items-center justify-start gap-2 overflow-hidden\">\r\n                                                                            <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                                                            <div className=\"text-[11px] font-bold text-slate-200 truncate group-hover:text-amber-500 transition-colors\">{match.awayTeam}</div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                    <div className=\"mt-1.5 pt-1.5 border-t border-slate-800/50 flex justify-between items-center\">\r\n                                                                        <div className=\"flex items-center gap-1 text-[9px] text-slate-500\">\r\n                                                                            <span>­şôı</span>\r\n                                                                            <span className=\"truncate max-w-[120px]\">{match.venue || 'Salon Belirtilmemi┼ş'}</span>\r\n                                                                        </div>\r\n                                                                        {isRelegationBattle && (\r\n                                                                            <div className=\"flex items-center gap-1 px-1.5 py-0.5 bg-rose-950/50 border border-rose-900/50 rounded text-[8px] text-rose-400 font-bold animate-pulse\">\r\n                                                                                <span>ÔÜá´©Å</span>\r\n                                                                                <span>K├£ME D├£┼ŞME HATTI</span>\r\n                                                                            </div>\r\n                                                                        )}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            );\r\n                                                        })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main >\r\n    );\r\n}\r\n\r\n// Helper functions moved outside component\r\nconst dayNames = ['PAZAR', 'PAZARTES─░', 'SALI', '├çAR┼ŞAMBA', 'PER┼ŞEMBE', 'CUMA', 'CUMARTES─░'];\r\n\r\nconst formatDate = (dateStr?: string) => {\r\n    if (!dateStr || dateStr.trim() === '') return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n    try {\r\n        const date = new Date(dateStr);\r\n        if (isNaN(date.getTime())) return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        const dayName = dayNames[date.getDay()];\r\n        return { formatted: `${day}/${month}/${year} ${dayName}`, sortKey: dateStr };\r\n    } catch {\r\n        return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n    }\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\gunceldurum\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\playoffs\\OneLigPlayoffsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoaded' is assigned a value but never used.","line":25,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1563,1566],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1563,1566],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\nimport Link from \"next/link\";\r\nimport {\r\n    PlayoffGroup,\r\n    calculateGroupStandings,\r\n    generate1LigSemiGroups,\r\n    generate1LigFinalGroups,\r\n    applyOverridesToGroups\r\n} from \"../../utils/playoffUtils\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\n\r\nimport TeamAvatar from \"../../components/TeamAvatar\";\r\n\r\ninterface OneLigPlayoffsClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function OneLigPlayoffsClient({ initialTeams, initialMatches }: OneLigPlayoffsClientProps) {\r\n    const [groupOverrides, setGroupOverrides] = useState<Record<string, string>>({});\r\n    const [playoffOverrides, setPlayoffOverrides] = useState<Record<string, string>>({});\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const loadSaved = () => {\r\n            const savedPlayoff = localStorage.getItem('1ligPlayoffScenarios');\r\n            if (savedPlayoff) {\r\n                try {\r\n                    setPlayoffOverrides(JSON.parse(savedPlayoff));\r\n                } catch (e) { console.error(e); }\r\n            }\r\n\r\n            const savedGroup = localStorage.getItem('1ligGroupScenarios');\r\n            if (savedGroup) {\r\n                try {\r\n                    const parsed = JSON.parse(savedGroup);\r\n                    let flatOverrides: Record<string, string> = {};\r\n                    Object.values(parsed).forEach((groupObj: any) => {\r\n                        flatOverrides = { ...flatOverrides, ...groupObj };\r\n                    });\r\n                    setGroupOverrides(flatOverrides);\r\n                } catch (e) { console.error(e); }\r\n            }\r\n            setIsLoaded(true);\r\n        };\r\n\r\n        Promise.resolve().then(loadSaved);\r\n    }, []);\r\n\r\n    const baseStandings = useMemo(() => {\r\n        const calculatedTeams = calculateLiveStandings(initialTeams, initialMatches, groupOverrides);\r\n        return calculateGroupStandings(calculatedTeams);\r\n    }, [initialTeams, initialMatches, groupOverrides]);\r\n\r\n    const semiGroups = useMemo(() => {\r\n        const ss = generate1LigSemiGroups(baseStandings);\r\n        return applyOverridesToGroups(ss, playoffOverrides, 'semi');\r\n    }, [baseStandings, playoffOverrides]);\r\n\r\n    const finalGroups = useMemo(() => {\r\n        const fs = generate1LigFinalGroups(semiGroups);\r\n        return applyOverridesToGroups(fs, playoffOverrides, 'final');\r\n    }, [semiGroups, playoffOverrides]);\r\n\r\n    const remainingMatchesCount = useMemo(() => {\r\n        let remaining = initialMatches.filter((m: Match) => !m.isPlayed).length;\r\n        remaining = Math.max(0, remaining - Object.keys(groupOverrides).length);\r\n        return remaining;\r\n    }, [initialMatches, groupOverrides]);\r\n\r\n    const isGroupsComplete = remainingMatchesCount === 0;\r\n\r\n    const renderStageGroups = (stage: string, groups: PlayoffGroup[], title: string, color: string) => {\r\n        return (\r\n            <div className=\"space-y-4\">\r\n                <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                    <span className={`w-3 h-3 rounded-full ${color}`}></span>\r\n                    {title}\r\n                </h2>\r\n                <div className={`grid grid-cols-1 ${groups.length === 1 ? 'md:grid-cols-1 max-w-2xl' : 'md:grid-cols-2'} gap-4`}>\r\n                    {groups.map(group => {\r\n                        const groupPrefix = `${stage}-${group.groupName}-`;\r\n                        const groupMatches = Object.keys(playoffOverrides).filter(k => k.startsWith(groupPrefix)).length;\r\n                        const totalMatches = 6;\r\n                        const isComplete = groupMatches >= totalMatches;\r\n\r\n                        return (\r\n                            <Link\r\n                                key={group.groupName}\r\n                                href={`/1lig/playoffs/${stage}/${group.groupName}`}\r\n                                className=\"block bg-slate-900 border border-slate-800 rounded-lg overflow-hidden hover:border-slate-600 hover:shadow-lg transition-all group\"\r\n                            >\r\n                                <div className={`h-2 ${color}/50`}></div>\r\n                                <div className=\"p-4\">\r\n                                    <div className=\"flex justify-between items-center mb-2\">\r\n                                        <h3 className=\"font-bold text-white text-lg group-hover:text-emerald-400 transition-colors\">\r\n                                            {group.groupName === 'Final' ? 'Final Grubu' : `${group.groupName}. Grup`}\r\n                                        </h3>\r\n                                        {isComplete ? (\r\n                                            <span className=\"text-xs bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded border border-emerald-500/20\">Tamamland─▒</span>\r\n                                        ) : (\r\n                                            <span className=\"text-xs bg-slate-800 text-slate-400 px-2 py-0.5 rounded text-nowrap\">{totalMatches - groupMatches} Ma├ğ Eksik</span>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"space-y-0.5\">\r\n                                        <div className=\"flex items-center justify-between text-[10px] text-slate-500 px-2 pb-1 border-b border-slate-800/50\">\r\n                                            <span>#</span>\r\n                                            <span className=\"flex-1 px-2\">Tak─▒m</span>\r\n                                            <span className=\"w-12 text-center text-[9px]\">Kaynak</span>\r\n                                            <span>P</span>\r\n                                        </div>\r\n                                        {group.teams.map((team, idx) => (\r\n                                            <div key={team.name} className={`flex items-center justify-between text-xs py-1 px-2 rounded ${idx < 2 ? 'bg-emerald-500/5' : ''}`}>\r\n                                                <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                                                    <span className={`w-3 text-center text-[10px] ${idx < 2 ? 'text-emerald-400 font-bold' : 'text-slate-500'}`}>{idx + 1}</span>\r\n                                                    <TeamAvatar name={team.name} size=\"xs\" />\r\n                                                    <span className={`truncate ${idx < 2 ? 'text-slate-200 font-medium' : 'text-slate-400'}`}>{team.name}</span>\r\n                                                </div>\r\n                                                <span className=\"w-12 text-center text-[9px] text-slate-600 truncate px-1\">\r\n                                                    {team.sourceGroup}\r\n                                                </span>\r\n                                                <span className={`font-bold ml-2 w-4 text-center ${idx < 2 ? 'text-white' : 'text-slate-500'}`}>\r\n                                                    {team.scenarioPoints ?? 0}\r\n                                                </span>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <div className=\"mt-2 pt-2 border-t border-slate-800 text-[10px] text-slate-500 flex items-center gap-1\">\r\n                                        <span className={`w-2 h-2 rounded-full ${stage === 'final' ? 'bg-amber-500' : 'bg-emerald-500'}`}></span>\r\n                                        <span>{stage === 'final' ? 'Sultanlar Ligi\\'ne Y├╝kselir' : 'Finale Y├╝kselir'}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 md:p-8 font-sans\">\r\n            <div className=\"max-w-7xl mx-auto space-y-8\">\r\n                <div className=\"flex flex-col gap-1\">\r\n                    <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">1. Lig Play-Off</h1>\r\n                    <p className=\"text-[10px] text-slate-400 hidden sm:block\">Sultanlar Ligi y├╝kselme m├╝cadelesi</p>\r\n                </div>\r\n\r\n                {!isGroupsComplete && (\r\n                    <div className=\"bg-amber-500/10 border border-amber-500/20 text-amber-200 p-4 rounded-lg flex items-center gap-3\">\r\n                        <span className=\"text-2xl\">ÔÜá´©Å</span>\r\n                        <div>\r\n                            <p className=\"font-bold text-sm\">Grup Ma├ğlar─▒ Hen├╝z Tamamlanmad─▒</p>\r\n                            <p className=\"text-xs opacity-70\">\r\n                                Play-Off senaryolar─▒ mevcut grup s─▒ralamalar─▒na g├Âre hesaplanmaktad─▒r.\r\n                                Kesin sonu├ğlar i├ğin ├Ânce grup ma├ğlar─▒n─▒ tamamlay─▒n.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {(() => {\r\n                    const finalGroup = finalGroups[0];\r\n                    if (!finalGroup) return null;\r\n\r\n                    const groupMatches = Object.keys(playoffOverrides).filter(k => k.startsWith(`final-${finalGroup.groupName}-`)).length;\r\n                    const totalMatches = 6;\r\n\r\n                    if (groupMatches < totalMatches) return null;\r\n\r\n                    const promotedTeams = finalGroup.teams.slice(0, 2).map((t, i) => ({ ...t, rank: i + 1 }));\r\n\r\n                    if (promotedTeams.length === 0) return null;\r\n\r\n                    return (\r\n                        <div className=\"bg-gradient-to-r from-emerald-900/50 via-slate-900 to-emerald-900/30 border border-emerald-500/30 rounded-xl p-6 relative overflow-hidden\">\r\n                            <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-2 relative z-10\">\r\n                                <span className=\"text-3xl\">­şÄë</span>\r\n                                <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-teal-200\">\r\n                                    Sultanlar Ligi&apos;ne Y├╝kselen Tak─▒mlar\r\n                                </span>\r\n                            </h2>\r\n\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 relative z-10\">\r\n                                <div className=\"flex flex-col gap-3\">\r\n                                    {promotedTeams.map((team, idx) => (\r\n                                        <div key={idx} className={`flex items-center gap-3 p-3 rounded-lg border backdrop-blur-sm transition-transform hover:scale-[1.02] ${team.rank === 1 ? 'bg-amber-500/10 border-amber-500/40' : 'bg-slate-700/30 border-slate-600/50'}`}>\r\n                                            <div className={`w-10 h-10 flex items-center justify-center rounded-full text-lg font-bold shadow-lg ${team.rank === 1 ? 'bg-gradient-to-b from-amber-300 to-amber-600 text-white' : 'bg-gradient-to-b from-slate-300 to-slate-500 text-white'}`}>\r\n                                                {team.rank === 1 ? '­şÑç' : '­şÑê'}\r\n                                            </div>\r\n                                            <TeamAvatar name={team.name} size=\"md\" />\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"font-bold text-white text-lg leading-tight\">{team.name}</div>\r\n                                                <div className={`text-xs ${team.rank === 1 ? 'text-amber-400' : 'text-slate-400'}`}>\r\n                                                    1. Lig {team.rank === 1 ? '┼Şampiyonu' : '─░kincisi'}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className={`text-2xl ${team.rank === 1 ? 'text-amber-400' : 'text-slate-500'}`}>\r\n                                                {team.rank === 1 ? '­şææ' : 'Ô¡É'}\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <div className=\"flex flex-col items-center justify-center gap-4 bg-slate-800/30 rounded-xl p-6 border border-slate-700/50\">\r\n                                    <div className=\"text-8xl animate-bounce\">­şÅå</div>\r\n                                    <div className=\"text-center\">\r\n                                        <div className=\"text-lg font-bold text-white mb-1\">Turnuva Tamamland─▒</div>\r\n                                        <div className=\"text-sm text-slate-400\">1. Lig Play-Off 2025-26</div>\r\n                                    </div>\r\n                                    <div className=\"text-xs text-slate-500 mt-2 text-center\">\r\n                                        ­şÄè Tebrikler! Sultanlar Ligi&apos;ne y├╝kselmeye hak kazand─▒n─▒z!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })()}\r\n\r\n                {isGroupsComplete ? (\r\n                    (() => {\r\n                        const semiMatchCount = Object.keys(playoffOverrides).filter(k => k.startsWith('semi-')).length;\r\n                        const isSemiComplete = semiMatchCount >= 12;\r\n\r\n                        return (\r\n                            <div className=\"space-y-12\">\r\n                                {renderStageGroups('semi', semiGroups, 'Yar─▒ Final Gruplar─▒', 'bg-blue-500')}\r\n\r\n                                <div className=\"relative\">\r\n                                    {!isSemiComplete && (\r\n                                        <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-xl py-8\">\r\n                                            <div className=\"text-4xl mb-2\">­şöÆ</div>\r\n                                            <h3 className=\"text-lg font-bold text-white mb-1\">Final Grubu Kilitli</h3>\r\n                                            <p className=\"text-slate-400 text-xs text-center max-w-sm\">\r\n                                                Final grubunu a├ğmak i├ğin Yar─▒ Final gruplar─▒n─▒ tamamlay─▒n.\r\n                                            </p>\r\n                                            <p className=\"text-blue-400 text-sm font-medium mt-2\">\r\n                                                {12 - semiMatchCount} / 12 ma├ğ eksik\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className={!isSemiComplete ? 'opacity-30 pointer-events-none select-none' : ''}>\r\n                                        {renderStageGroups('final', finalGroups, 'Final Grubu', 'bg-emerald-500')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })()\r\n                ) : (\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-20 flex flex-col items-center justify-start pt-16 rounded-xl\">\r\n                            <div className=\"text-6xl mb-4\">­şöÆ</div>\r\n                            <h3 className=\"text-xl font-bold text-white mb-2\">Play-Off Kilitli</h3>\r\n                            <p className=\"text-slate-400 text-sm text-center max-w-md mb-4\">\r\n                                Play-Off senaryolar─▒n─▒ d├╝zenleyebilmek i├ğin ├Ânce t├╝m grup ma├ğlar─▒n─▒ tahmin etmeniz gerekmektedir.\r\n                            </p>\r\n                            <p className=\"text-amber-400 font-medium\">\r\n                                {remainingMatchesCount} ma├ğ eksik\r\n                            </p>\r\n                            <Link href=\"/1lig/tahminoyunu\" className=\"mt-4 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-lg transition-colors\">\r\n                                Tahminleri Tamamla ÔåÆ\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"opacity-30 pointer-events-none select-none space-y-12\">\r\n                            {renderStageGroups('semi', semiGroups, 'Yar─▒ Final Gruplar─▒', 'bg-blue-500')}\r\n                            {renderStageGroups('final', finalGroups, 'Final Grubu', 'bg-emerald-500')}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\playoffs\\[stage]\\[groupId]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TeamStats' is defined but never used.","line":5,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":22,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'saveStatus' is assigned a value but never used.","line":33,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'initialRanks' is assigned a value but never used.","line":36,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { Match, TeamStats } from \"../../../../types\";\r\nimport Link from \"next/link\";\r\nimport {\r\n    GroupStanding,\r\n    PlayoffGroup,\r\n    PlayoffMatch,\r\n    SCORES,\r\n    calculateGroupStandings,\r\n    generate1LigSemiGroups,\r\n    generate1LigFinalGroups,\r\n    generateGroupFixture,\r\n    applyOverridesToGroups\r\n} from \"../../../../utils/playoffUtils\";\r\n\r\n\r\nexport default function OneLigPlayoffGroupDetailPage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const stage = params.stage as 'semi' | 'final';\r\n    const groupId = params.groupId as string;\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentGroup, setCurrentGroup] = useState<PlayoffGroup | null>(null);\r\n    const [groupFixture, setGroupFixture] = useState<PlayoffMatch[]>([]);\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [originalFixture, setOriginalFixture] = useState<Match[]>([]);\r\n    const [baseStandings, setBaseStandings] = useState<GroupStanding[]>([]);\r\n\r\n    const [saveStatus, setSaveStatus] = useState<'saved' | 'saving' | 'idle'>('idle');\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [predicting, setPredicting] = useState(false);\r\n    const [initialRanks, setInitialRanks] = useState<Map<string, number>>(new Map());\r\n\r\n    // 1. Load Overrides\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('1ligPlayoffScenarios');\r\n        if (saved) {\r\n            try {\r\n                setOverrides(JSON.parse(saved));\r\n            } catch (e) { console.error(e); }\r\n        }\r\n        setIsLoaded(true);\r\n    }, []);\r\n\r\n    // 2. Fetch Base Data\r\n    useEffect(() => {\r\n        async function fetchBaseData() {\r\n            try {\r\n                setLoading(true);\r\n                const res = await fetch(\"/api/1lig\");\r\n                if (!res.ok) throw new Error(\"Veri ├ğekilemedi\");\r\n                const data = await res.json();\r\n                setOriginalFixture(data.fixture);\r\n                // Important: Need to ensure calculateGroupStandings returns 'teams' array\r\n                const standings = calculateGroupStandings(data.teams);\r\n                setBaseStandings(standings);\r\n            } catch (err) { console.error(err); }\r\n            finally { setLoading(false); }\r\n        }\r\n        fetchBaseData();\r\n    }, []);\r\n\r\n    // 3. Auto-save\r\n    useEffect(() => {\r\n        if (!isLoaded) return;\r\n        setSaveStatus('saving');\r\n        const timer = setTimeout(() => {\r\n            localStorage.setItem('1ligPlayoffScenarios', JSON.stringify(overrides));\r\n            setSaveStatus('saved');\r\n        }, 500);\r\n        return () => clearTimeout(timer);\r\n    }, [overrides, isLoaded]);\r\n\r\n    // 4. Core Logic\r\n    useEffect(() => {\r\n        if (!originalFixture.length || !baseStandings.length) return;\r\n\r\n        // 1. Lig Logic: Semi -> Final\r\n        const semis = generate1LigSemiGroups(baseStandings);\r\n\r\n        let targetGroups: PlayoffGroup[] = [];\r\n\r\n        if (stage === 'semi') {\r\n            targetGroups = semis;\r\n        } else if (stage === 'final') {\r\n            const updatedSemis = applyOverridesToGroups(semis, overrides, 'semi');\r\n            targetGroups = generate1LigFinalGroups(updatedSemis);\r\n        }\r\n\r\n        const foundGroup = targetGroups.find(g => g.groupName === groupId);\r\n\r\n        if (foundGroup) {\r\n            const rankMap = new Map<string, number>();\r\n            foundGroup.teams.forEach((t, i) => rankMap.set(t.name, i + 1));\r\n            setInitialRanks(rankMap);\r\n\r\n            const updatedGroupArray = applyOverridesToGroups([foundGroup], overrides, stage);\r\n            setCurrentGroup(updatedGroupArray[0]);\r\n\r\n            const fixture = generateGroupFixture([foundGroup], stage);\r\n            setGroupFixture(fixture);\r\n        }\r\n\r\n    }, [baseStandings, originalFixture, overrides, stage, groupId]);\r\n\r\n    function handleScoreSelect(matchId: string, score: string | null) {\r\n        setOverrides(prev => {\r\n            const next = { ...prev };\r\n            if (score === null) delete next[matchId];\r\n            else next[matchId] = score;\r\n            return next;\r\n        });\r\n    }\r\n\r\n    function predictGroupMatches() {\r\n        if (!currentGroup) return;\r\n        setPredicting(true);\r\n        try {\r\n            const predictions: Record<string, string> = {};\r\n            const scores = ['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'];\r\n            groupFixture.forEach(match => {\r\n                const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n                predictions[match.id] = randomScore;\r\n            });\r\n            setOverrides(prev => ({ ...prev, ...predictions }));\r\n        } finally { setPredicting(false); }\r\n    }\r\n\r\n    const stageInfo = stage === 'semi'\r\n        ? { title: 'Yar─▒ Final', color: 'from-blue-600 to-blue-500', text: 'text-blue-500', nextStage: 'Final' }\r\n        : { title: 'Final', color: 'from-emerald-600 to-emerald-500', text: 'text-emerald-500', nextStage: 'Sultanlar Ligi' };\r\n\r\n    const navGroups = stage === 'semi' ? ['I', 'II'] : ['Final'];\r\n\r\n    if (loading) return <div className=\"h-screen flex items-center justify-center bg-slate-950\"><div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-white\"></div></div>;\r\n    if (!currentGroup) return <div className=\"h-screen flex items-center justify-center bg-slate-950 text-white\">Grup Bulunamad─▒</div>;\r\n\r\n    return (\r\n        <main className=\"h-screen overflow-hidden bg-slate-950 text-slate-100 flex flex-col p-2 sm:p-4 font-sans\">\r\n            <div className=\"w-full max-w-[1400px] mx-auto flex flex-col h-full gap-3\">\r\n                {/* Header */}\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between bg-slate-900 border border-slate-800 rounded-lg p-2 gap-2 flex-shrink-0\">\r\n                    <div className=\"flex items-center gap-3 w-full sm:w-auto overflow-hidden\">\r\n                        <Link href=\"/1lig/playoffs\" className=\"flex-shrink-0 p-1.5 bg-slate-800 hover:bg-slate-700 rounded transition-colors text-slate-400 hover:text-white text-xs flex items-center gap-1\">\r\n                            <span>ÔåÉ</span> <span className=\"hidden sm:inline\">Play-off Ana Sayfa</span>\r\n                        </Link>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <h1 className=\"text-lg font-bold text-white tracking-tight truncate flex items-center gap-2\">\r\n                                <span className={`${stageInfo.text}`}>{stageInfo.title}</span>\r\n                                <span className=\"text-slate-600\">|</span>\r\n                                <span>{currentGroup.groupName === 'Final' ? 'Final Grubu' : `${currentGroup.groupName}. Grup`}</span>\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"flex items-center gap-1 bg-slate-950/50 p-1 rounded-md\">\r\n                            {navGroups.map(gId => (\r\n                                <Link\r\n                                    key={gId}\r\n                                    href={`/1lig/playoffs/${stage}/${gId}`}\r\n                                    className={`px-2.5 py-1 text-xs font-bold rounded transition-all ${gId === groupId ? 'bg-gradient-to-r ' + stageInfo.color + ' text-white' : 'text-slate-500 hover:bg-slate-800'}`}\r\n                                >\r\n                                    {gId}\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n                        <button onClick={() => {\r\n                            const ids = groupFixture.map(m => m.id);\r\n                            setOverrides(prev => { const n = { ...prev }; ids.forEach(id => delete n[id]); return n; });\r\n                        }} className=\"px-2 py-1 bg-slate-800 text-rose-400 text-xs rounded hover:bg-rose-900/20\">S─▒f─▒rla</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"grid lg:grid-cols-12 gap-3 flex-1 min-h-0\">\r\n                    {/* Standings */}\r\n                    <div className=\"lg:col-span-5 flex flex-col h-full gap-3\">\r\n                        <div className=\"flex flex-col gap-0 min-h-0\">\r\n                            <div className={`bg-gradient-to-r ${stageInfo.color} px-3 py-1.5 rounded-t-lg shadow`}><h2 className=\"text-xs font-bold text-white text-center\">PUAN DURUMU</h2></div>\r\n                            <div className=\"bg-slate-900 border border-slate-800 rounded-b-lg overflow-x-auto\">\r\n                                <table className=\"w-full text-xs text-left table-fixed\">\r\n                                    <thead className=\"bg-slate-800 text-slate-400 uppercase text-[9px]\">\r\n                                        <tr>\r\n                                            <th scope=\"col\" className=\"px-1 py-2 w-6 text-center\">#</th>\r\n                                            <th scope=\"col\" className=\"px-2 py-2 text-left w-auto\">Tak─▒m</th>\r\n                                            <th scope=\"col\" className=\"px-1 py-1 text-center w-6\">O</th>\r\n                                            <th scope=\"col\" className=\"px-1 py-1 text-center w-6\">G</th>\r\n                                            <th scope=\"col\" className=\"px-1 py-1 text-center w-6\">M</th>\r\n                                            <th scope=\"col\" className=\"px-1 py-1 text-center w-7 font-bold text-slate-200\">P</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody className=\"divide-y divide-slate-800/50\">\r\n                                        {currentGroup.teams.map((team, idx) => {\r\n                                            const isQualifying = idx < 2;\r\n                                            return (\r\n                                                <tr key={team.name} className={`hover:bg-slate-800/50 ${isQualifying ? 'bg-emerald-950/10' : ''}`}>\r\n                                                    <td className={`px-1 py-1.5 text-center font-medium ${isQualifying ? 'text-emerald-400' : 'text-slate-500'}`}>{idx + 1}</td>\r\n                                                    <td className=\"px-2 py-1.5\">\r\n                                                        <div className=\"font-semibold text-white text-xs truncate w-24 sm:w-auto\">{team.name}</div>\r\n                                                        <div className=\"text-[9px] text-slate-500\">{team.sourceGroup}</div>\r\n                                                    </td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-slate-400\">{team.scenarioPlayed}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-emerald-400\">{team.scenarioWins}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-rose-400\">{team.scenarioLosses}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center font-bold text-white bg-slate-800/30 rounded\">{team.scenarioPoints}</td>\r\n                                                </tr>\r\n                                            );\r\n                                        })}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Projection */}\r\n                        <div className=\"bg-slate-900 border border-slate-800 rounded-lg p-3 flex-1\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-wide mb-3 text-center border-b border-slate-800/50 pb-2\">­şö« {stageInfo.nextStage} Yolculu─şu</h3>\r\n                            <div className=\"space-y-2\">\r\n                                <div className={`flex items-center gap-3 p-2 rounded-lg border ${stage === 'final' ? 'bg-amber-500/10 border-amber-500/30' : 'bg-emerald-950/10 border-emerald-900/30'}`}>\r\n                                    <div className=\"w-6 h-6 flex items-center justify-center rounded text-xs font-bold bg-white/10\">1</div>\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"text-xs font-bold text-white\">{currentGroup.teams[0]?.name || '-'}</div>\r\n                                        <div className=\"text-[10px] text-emerald-400\">{stage === 'final' ? 'Sultanlar Ligi\\'ne Y├╝kselir ­şÅå' : 'Final Grubuna Y├╝kselir'}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={`flex items-center gap-3 p-2 rounded-lg border ${stage === 'final' ? 'bg-emerald-500/10 border-emerald-500/30' : 'bg-emerald-950/10 border-emerald-900/30'}`}>\r\n                                    <div className=\"w-6 h-6 flex items-center justify-center rounded text-xs font-bold bg-white/10\">2</div>\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"text-xs font-bold text-white\">{currentGroup.teams[1]?.name || '-'}</div>\r\n                                        <div className=\"text-[10px] text-emerald-400\">{stage === 'final' ? 'Sultanlar Ligi\\'ne Y├╝kselir ­şÅå' : 'Final Grubuna Y├╝kselir'}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Fixtures */}\r\n                    <div className=\"lg:col-span-7 flex flex-col h-full gap-2 min-h-0\">\r\n                        <div className=\"flex items-center justify-between px-1\">\r\n                            <h2 className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider\">Ma├ğ Fikst├╝r├╝</h2>\r\n                            <button onClick={predictGroupMatches} disabled={predicting} className=\"px-2 py-1 bg-purple-600/20 text-purple-300 border border-purple-500/30 text-[10px] rounded hover:text-white transition-colors\">\r\n                                {predicting ? '...' : 'T├╝m├╝n├╝ Tahmin Et'}\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"flex-1 overflow-y-auto pr-1\">\r\n                            <div className=\"grid grid-cols-1 gap-2 pb-2\">\r\n                                {groupFixture.map((match, mIdx) => {\r\n                                    const currentScore = overrides[match.id];\r\n                                    return (\r\n                                        <div key={match.id} className=\"bg-slate-900 border border-slate-800 rounded p-2 flex items-center gap-3\">\r\n                                            <div className=\"text-[9px] font-bold text-slate-600 w-4 text-center\">{mIdx + 1}.</div>\r\n                                            <div className=\"flex-1 flex flex-col gap-1.5\">\r\n                                                <div className=\"flex items-center justify-between text-[11px]\">\r\n                                                    <div className=\"w-[45%] text-right font-medium text-slate-300 truncate\">{match.homeTeam}</div>\r\n                                                    <div className=\"text-[9px] text-slate-600\">v</div>\r\n                                                    <div className=\"w-[45%] text-left font-medium text-slate-300 truncate\">{match.awayTeam}</div>\r\n                                                </div>\r\n                                                <div className=\"flex justify-center gap-1\">\r\n                                                    {SCORES.map(score => {\r\n                                                        const isSelected = currentScore === score;\r\n                                                        const homeWin = parseInt(score.split('-')[0]) > parseInt(score.split('-')[1]);\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={score}\r\n                                                                onClick={() => handleScoreSelect(match.id, isSelected ? null : score)}\r\n                                                                className={`w-8 h-5 flex items-center justify-center rounded-[3px] text-[9px] font-bold border transition-all ${isSelected ? (homeWin ? 'bg-emerald-600 border-emerald-500 text-white' : 'bg-rose-600 border-rose-500 text-white') : 'bg-slate-950 border-slate-800 text-slate-500 hover:bg-slate-800'}`}\r\n                                                            >\r\n                                                                {score}\r\n                                                            </button>\r\n                                                        )\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\playoffs\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\stats\\OneLigStatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\stats\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\tahminoyunu\\OneLigCalculatorClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1240,1243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1240,1243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1483,1486],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1483,1486],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3024,3027],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3024,3027],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":227,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":227,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9972,9975],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9972,9975],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { TeamStats, Match, Achievement } from \"../../types\";\r\n\r\nimport { useToast, AchievementToast, AchievementsPanel } from \"../../components\";\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport FixtureList from \"../../components/Calculator/FixtureList\";\r\nimport ShareButton from \"../../components/ShareButton\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\nimport { calculateElo } from \"../../utils/eloCalculator\";\r\nimport { useGameState, ACHIEVEMENTS } from \"../../utils/gameState\";\r\nimport { sounds } from \"../../utils/sounds\";\r\n\r\ninterface OneLigCalculatorClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function OneLigCalculatorClient({ initialTeams, initialMatches }: OneLigCalculatorClientProps) {\r\n    const { showToast, showUndoToast } = useToast();\r\n    const searchParams = useSearchParams();\r\n    const groupParam = searchParams.get(\"group\");\r\n    const standingsRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Normalize data\r\n    const normalizedTeams = useMemo(() => initialTeams.map((t: any) => ({\r\n        ...t,\r\n        name: t.name.toLocaleUpperCase('tr-TR'),\r\n        groupName: t.groupName.includes('A') ? 'A GRUBU' : 'B GRUBU'\r\n    })), [initialTeams]);\r\n\r\n    const normalizedMatches = useMemo(() => initialMatches.map((m: any) => ({\r\n        ...m,\r\n        homeTeam: m.homeTeam.toLocaleUpperCase('tr-TR'),\r\n        awayTeam: m.awayTeam.toLocaleUpperCase('tr-TR'),\r\n        matchDate: m.date || m.matchDate,\r\n        groupName: m.groupName.includes('A') ? 'A GRUBU' : 'B GRUBU'\r\n    })), [initialMatches]);\r\n\r\n    // Data State\r\n    const [allTeams] = useState<TeamStats[]>(normalizedTeams);\r\n    const [allMatches] = useState<Match[]>(normalizedMatches);\r\n    const groups = useMemo(() => [...new Set(normalizedTeams.map(t => t.groupName))].sort(), [normalizedTeams]);\r\n\r\n    // UI State\r\n    const [selectedGroup, setSelectedGroup] = useState<string>(groupParam && groups.includes(groupParam) ? groupParam : (groups[0] || \"A GRUBU\"));\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [showAchievements, setShowAchievements] = useState(false);\r\n    const [showAutoMenu, setShowAutoMenu] = useState(false);\r\n    const [showResetMenu, setShowResetMenu] = useState(false);\r\n    const [newAchievement, setNewAchievement] = useState<Achievement | null>(null);\r\n\r\n    // Game State\r\n    const { gameState, addXP, recordPrediction, unlockAchievement, hasAchievement } = useGameState();\r\n\r\n    // Load saved scenarios on mount\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('1ligGroupScenarios');\r\n        if (saved) {\r\n            try {\r\n                const parsed = JSON.parse(saved);\r\n                let flatOverrides: Record<string, string> = {};\r\n                Object.values(parsed).forEach((groupObj: any) => {\r\n                    flatOverrides = { ...flatOverrides, ...groupObj };\r\n                });\r\n                setOverrides(flatOverrides);\r\n            } catch (e) { console.error(e); }\r\n        }\r\n    }, []);\r\n\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...overrides };\r\n        const wasNew = !overrides[matchId];\r\n\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n            if (wasNew) {\r\n                addXP(10);\r\n                sounds.scoreSelect();\r\n                if (!hasAchievement('first_prediction')) {\r\n                    const wasUnlocked = unlockAchievement('first_prediction');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.first_prediction as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n                if (gameState.stats.totalPredictions >= 49 && !hasAchievement('game_addict')) {\r\n                    const wasUnlocked = unlockAchievement('game_addict');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.game_addict as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n                recordPrediction(true);\r\n            }\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setOverrides(newOverrides);\r\n    };\r\n\r\n    // Persist overrides to localStorage\r\n    useEffect(() => {\r\n        if (!selectedGroup) return;\r\n        const saved = localStorage.getItem('1ligGroupScenarios');\r\n        const globalObj = saved ? JSON.parse(saved) : {};\r\n        const newGlobalObj = { ...globalObj };\r\n        groups.forEach(g => {\r\n            const groupMatches = allMatches.filter(m => m.groupName === g);\r\n            const groupOverrides: Record<string, string> = {};\r\n            groupMatches.forEach(m => {\r\n                const id = `${m.homeTeam}-${m.awayTeam}`;\r\n                if (overrides[id]) groupOverrides[id] = overrides[id];\r\n            });\r\n            newGlobalObj[g] = groupOverrides;\r\n        });\r\n        localStorage.setItem('1ligGroupScenarios', JSON.stringify(newGlobalObj));\r\n    }, [overrides, groups, allMatches, selectedGroup]);\r\n\r\n    const activeGroup = selectedGroup || groups[0];\r\n\r\n    const activeTeams = useMemo(() =>\r\n        allTeams.filter(t => t.groupName === activeGroup),\r\n        [allTeams, activeGroup]\r\n    );\r\n\r\n    const activeMatches = useMemo(() =>\r\n        allMatches.filter(m => m.groupName === activeGroup),\r\n        [allMatches, activeGroup]\r\n    );\r\n\r\n    const handleResetGroup = () => {\r\n        if (!confirm(`${activeGroup} grubundaki tahminleriniz silinecek. Emin misiniz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        const groupMatches = allMatches.filter(m => m.groupName === activeGroup);\r\n        groupMatches.forEach(m => {\r\n            const id = `${m.homeTeam}-${m.awayTeam}`;\r\n            delete newOverrides[id];\r\n        });\r\n        setOverrides(newOverrides);\r\n        showToast(`${activeGroup} tahminleri s─▒f─▒rland─▒`, \"success\");\r\n    };\r\n\r\n    const handleResetAll = () => {\r\n        const previousOverrides = { ...overrides };\r\n        setOverrides({});\r\n        localStorage.removeItem('1ligGroupScenarios');\r\n        showUndoToast(\"T├╝m 1. Lig tahminleri s─▒f─▒rland─▒\", () => {\r\n            setOverrides(previousOverrides);\r\n            localStorage.setItem('1ligGroupScenarios', JSON.stringify(previousOverrides));\r\n        });\r\n    };\r\n\r\n    // Memoize standings calculations\r\n    const initialStandings = useMemo(() =>\r\n        calculateLiveStandings(activeTeams, activeMatches, {}),\r\n        [activeTeams, activeMatches]\r\n    );\r\n\r\n    const initialRanks = useMemo(() => {\r\n        const ranks = new Map<string, number>();\r\n        initialStandings.forEach((team, idx) => ranks.set(team.name, idx + 1));\r\n        return ranks;\r\n    }, [initialStandings]);\r\n\r\n    const liveStandings = useMemo(() =>\r\n        calculateLiveStandings(activeTeams, activeMatches, overrides),\r\n        [activeTeams, activeMatches, overrides]\r\n    );\r\n\r\n    const currentRanks = useMemo(() => {\r\n        const ranks = new Map<string, number>();\r\n        liveStandings.forEach((team, idx) => ranks.set(team.name, idx + 1));\r\n        return ranks;\r\n    }, [liveStandings]);\r\n\r\n    // Export / Import Handlers\r\n    const handleSaveAllScenarios = () => {\r\n        try {\r\n            const exportData = {\r\n                league: '1. Lig',\r\n                groupScenarios: JSON.parse(localStorage.getItem('1ligGroupScenarios') || '{}'),\r\n                date: new Date().toISOString()\r\n            };\r\n            const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData, null, 2));\r\n            const a = document.createElement('a');\r\n            a.href = dataStr;\r\n            a.download = `1lig-tahmin-${new Date().toLocaleDateString('tr-TR')}.json`;\r\n            a.click();\r\n            showToast(\"1. Lig senaryosu indirildi\", \"success\");\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleScrollToNextMatch = () => {\r\n        const nextMatch = activeMatches.find(m => !m.isPlayed && !overrides[`${m.homeTeam}-${m.awayTeam}`]);\r\n        if (nextMatch) {\r\n            const id = `match-${nextMatch.homeTeam}-${nextMatch.awayTeam}`;\r\n            const el = document.getElementById(id);\r\n            if (el) {\r\n                el.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n                el.classList.add('ring-2', 'ring-amber-500');\r\n                setTimeout(() => el.classList.remove('ring-2', 'ring-amber-500'), 2000);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleImportAllScenarios = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = (evt) => {\r\n            try {\r\n                const json = JSON.parse(evt.target?.result as string);\r\n                if (json.groupScenarios) {\r\n                    const convertedScenarios: Record<string, Record<string, string>> = {};\r\n                    for (const [groupName, groupData] of Object.entries(json.groupScenarios)) {\r\n                        convertedScenarios[groupName] = {};\r\n                        for (const [matchKey, score] of Object.entries(groupData as Record<string, string>)) {\r\n                            const newKey = matchKey.includes('|||') ? matchKey.replace('|||', '-') : matchKey;\r\n                            convertedScenarios[groupName][newKey] = score;\r\n                        }\r\n                    }\r\n                    localStorage.setItem('1ligGroupScenarios', JSON.stringify(convertedScenarios));\r\n                    let flat: Record<string, string> = {};\r\n                    Object.values(convertedScenarios).forEach((obj: any) => flat = { ...flat, ...obj });\r\n                    setOverrides(flat);\r\n                }\r\n                showToast(\"1. Lig senaryosu y├╝klendi\", \"success\");\r\n            } catch (err) { console.error(err); }\r\n        }\r\n        reader.readAsText(file);\r\n        e.target.value = '';\r\n    }\r\n\r\n    // Auto Simulation Logic\r\n    const handleSimulateSmart = () => {\r\n        if (!confirm(`${activeGroup} grubu i├ğin oynanmam─▒┼ş ma├ğlar g├╝ncel g├╝├ğ dengelerine g├Âre doldurulacak. Onayl─▒yor musunuz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        let count = 0;\r\n        const eloRatings = calculateElo(activeTeams, activeMatches.filter(m => m.isPlayed));\r\n        activeMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`${match.homeTeam}-${match.awayTeam}`]) return;\r\n            const homeElo = eloRatings.get(match.homeTeam) || 1200;\r\n            const awayElo = eloRatings.get(match.awayTeam) || 1200;\r\n            const winProb = 1 / (1 + Math.pow(10, (awayElo - homeElo) / 400));\r\n            const randomFactor = (Math.random() * 0.15) - 0.075;\r\n            const finalProb = winProb + randomFactor;\r\n            let score = \"0-0\";\r\n            if (finalProb > 0.60) score = \"3-0\";\r\n            else if (finalProb > 0.55) score = \"3-1\";\r\n            else if (finalProb > 0.50) score = \"3-2\";\r\n            else if (finalProb > 0.45) score = \"2-3\";\r\n            else if (finalProb > 0.40) score = \"1-3\";\r\n            else score = \"0-3\";\r\n            newOverrides[`${match.homeTeam}-${match.awayTeam}`] = score;\r\n            count++;\r\n        });\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ g├╝├ğ dengelerine g├Âre tahmin edildi! ­şğá`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    const handleSimulateRandom = () => {\r\n        if (!confirm(`${activeGroup} grubu i├ğin oynanmam─▒┼ş ma├ğlar RASTGELE skorlarla doldurulacak. Onayl─▒yor musunuz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        let count = 0;\r\n        const scores = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n        activeMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`${match.homeTeam}-${match.awayTeam}`]) return;\r\n            const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n            newOverrides[`${match.homeTeam}-${match.awayTeam}`] = randomScore;\r\n            count++;\r\n        });\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ rastgele tahmin edildi! ­şÄ▓`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-1 sm:p-2 font-sans\">\r\n            <div className=\"w-full max-w-7xl mx-auto flex flex-col h-full gap-2\">\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3 p-2 bg-slate-900/40 rounded-xl border border-slate-800\">\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto\">\r\n                        <div className=\"text-center sm:text-left\">\r\n                            <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">Arabica Coffee House</h1>\r\n                            <p className=\"text-[10px] text-slate-400 hidden sm:block\">Kad─▒nlar Voleybol 1.Ligi</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2 items-center w-full sm:w-auto\">\r\n                            <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden sm:inline whitespace-nowrap\">GRUP:</span>\r\n                            <select\r\n                                value={activeGroup}\r\n                                onChange={(e) => setSelectedGroup(e.target.value)}\r\n                                title=\"Grup Se├ğin\"\r\n                                className=\"appearance-none bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold rounded-lg px-4 py-2 border border-slate-700 focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all outline-none cursor-pointer min-w-[120px]\"\r\n                            >\r\n                                {groups.map(groupName => (\r\n                                    <option key={groupName} value={groupName} className=\"bg-slate-900\">\r\n                                        {groupName}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2 w-full sm:w-auto pb-1 sm:pb-0 justify-between sm:justify-end flex-wrap sm:flex-nowrap\">\r\n                        <div className=\"flex items-center gap-2 shrink-0\">\r\n                            <div className=\"relative\">\r\n                                <button\r\n                                    onClick={() => setShowAutoMenu(!showAutoMenu)}\r\n                                    className={`px-3 py-1.5 bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-1 shadow-lg shadow-amber-500/20 ${showAutoMenu ? 'ring-2 ring-amber-400' : ''}`}\r\n                                >\r\n                                    <span>ÔÜí</span>\r\n                                    <span className=\"hidden sm:inline\">Otomatik</span>\r\n                                    <span className=\"text-[8px] ml-0.5\">Ôû╝</span>\r\n                                </button>\r\n                                {showAutoMenu && (\r\n                                    <>\r\n                                        <div className=\"fixed inset-0 z-40\" onClick={() => setShowAutoMenu(false)}></div>\r\n                                        <div className=\"absolute top-full left-0 sm:left-auto sm:right-0 mt-2 w-48 bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                            <button\r\n                                                onClick={() => { handleSimulateSmart(); setShowAutoMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3 border-b border-slate-800\"\r\n                                            >\r\n                                                <div className=\"w-8 h-8 rounded-full bg-indigo-500/20 text-indigo-400 flex items-center justify-center text-lg\">­şğá</div>\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">G├╝├ğ Dengelerine G├Âre</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Tak─▒m g├╝├ğlerine g├Âre ger├ğek├ği tahmin</div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => { handleSimulateRandom(); setShowAutoMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3\"\r\n                                            >\r\n                                                <div className=\"w-8 h-8 rounded-full bg-fuchsia-500/20 text-fuchsia-400 flex items-center justify-center text-lg\">­şÄ▓</div>\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">Rastgele Da─ş─▒t</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Tamamen ┼şansa dayal─▒ sonu├ğlar</div>\r\n                                                </div>\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\".json\"\r\n                                onChange={handleImportAllScenarios}\r\n                                className=\"hidden\"\r\n                                id=\"import-upload-1lig\"\r\n                            />\r\n                            <label\r\n                                htmlFor=\"import-upload-1lig\"\r\n                                className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded-lg transition-all cursor-pointer flex items-center gap-1\"\r\n                                title=\"Senaryo Y├╝kle\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Y├╝kle</span>\r\n                            </label>\r\n                            <button\r\n                                onClick={handleSaveAllScenarios}\r\n                                className=\"px-3 py-1.5 bg-emerald-700 hover:bg-emerald-600 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-1\"\r\n                                title=\"Senaryoyu Kaydet\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Kaydet</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"w-px h-4 bg-slate-700 hidden sm:block shrink-0\"></div>\r\n                        <div className=\"flex items-center gap-2 shrink-0\">\r\n                            <button\r\n                                onClick={handleScrollToNextMatch}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white text-xs font-bold rounded-lg transition-all border border-slate-700 flex items-center gap-1\"\r\n                                title=\"Son kald─▒─ş─▒m ma├ğa git\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Kald─▒─ş─▒m Yer</span>\r\n                            </button>\r\n                            <div className=\"relative\">\r\n                                <button\r\n                                    onClick={() => setShowResetMenu(!showResetMenu)}\r\n                                    className={`px-3 py-1.5 bg-slate-800 hover:bg-rose-900/50 text-slate-400 hover:text-rose-400 text-xs font-bold rounded-lg transition-all border border-slate-700 flex items-center gap-1 ${showResetMenu ? 'ring-2 ring-rose-500/50' : ''}`}\r\n                                >\r\n                                    <span className=\"hidden sm:inline\">S─▒f─▒rla</span>\r\n                                    <span className=\"text-[8px] ml-0.5\">Ôû╝</span>\r\n                                </button>\r\n                                {showResetMenu && (\r\n                                    <>\r\n                                        <div className=\"fixed inset-0 z-40\" onClick={() => setShowResetMenu(false)}></div>\r\n                                        <div className=\"absolute top-full right-0 mt-2 w-48 bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                            <button\r\n                                                onClick={() => { handleResetGroup(); setShowResetMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3 border-b border-slate-800\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">Bu Grubu S─▒f─▒rla</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Sadece {activeGroup} silinir</div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => { handleResetAll(); setShowResetMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-rose-900/20 transition-colors flex items-center gap-3 group\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-rose-400 group-hover:text-rose-300\">T├╝m├╝n├╝ S─▒f─▒rla</div>\r\n                                                    <div className=\"text-[9px] text-rose-500/70 group-hover:text-rose-400/70\">B├╝t├╝n tahminler silinir</div>\r\n                                                </div>\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                            <ShareButton\r\n                                targetRef={standingsRef}\r\n                                championName={liveStandings[0]?.name}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    <div className=\"flex flex-col gap-4 relative\">\r\n                        <div ref={standingsRef} className=\"sticky top-14 z-10 max-h-[calc(100vh-120px)] overflow-auto custom-scrollbar\">\r\n                            <StandingsTable\r\n                                teams={liveStandings}\r\n                                playoffSpots={4}\r\n                                relegationSpots={activeGroup.includes('B') ? 2 : 0}\r\n                                initialRanks={initialRanks}\r\n                                compact={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <FixtureList\r\n                            matches={activeMatches}\r\n                            overrides={overrides}\r\n                            onScoreChange={handleScoreChange}\r\n                            teamRanks={currentRanks}\r\n                            totalTeams={activeTeams.length}\r\n                            relegationSpots={activeGroup.includes('B') ? 2 : 0}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {newAchievement && (\r\n                <AchievementToast\r\n                    achievement={newAchievement}\r\n                    onClose={() => setNewAchievement(null)}\r\n                />\r\n            )}\r\n            <AchievementsPanel\r\n                isOpen={showAchievements}\r\n                onClose={() => setShowAchievements(false)}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\tahminoyunu\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\1lig\\tahminoyunu\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\group\\[groupId]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ProgressRing' is defined but never used.","line":7,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TeamDiff' is defined but never used.","line":10,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":36},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1178,1181],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1178,1181],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":43,"column":8,"nodeType":"ArrayExpression","endLine":43,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData, groupId]","fix":{"range":[2124,2133],"text":"[fetchData, groupId]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'showToast'. Either include it or remove the dependency array.","line":74,"column":8,"nodeType":"ArrayExpression","endLine":74,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [searchParams, showToast]","fix":{"range":[3209,3223],"text":"[searchParams, showToast]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":121,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":121,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'handleCalculate', 'loading', and 'teams.length'. Either include them or remove the dependency array.","line":164,"column":8,"nodeType":"ArrayExpression","endLine":164,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [handleCalculate, loading, selectedTeam, teams.length]","fix":{"range":[6784,6798],"text":"[handleCalculate, loading, selectedTeam, teams.length]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":242,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":242,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useSearchParams } from \"next/navigation\";\r\nimport { TeamStats, Match, ScenarioOverride, ScenarioExport } from \"../../../types\";\r\nimport Link from \"next/link\";\r\nimport { TeamAvatar, ProgressRing, Confetti, useToast } from \"../../../components\";\r\nimport StandingsTable from \"../../../components/Calculator/StandingsTable\";\r\nimport { calculateLiveStandings } from \"../../../utils/calculatorUtils\";\r\nimport { compareStandings, TeamDiff } from \"../../../utils/scenarioUtils\";\r\nimport { useMemo } from \"react\";\r\n\r\nconst SCORES = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n\r\nexport default function GroupPage() {\r\n    const params = useParams();\r\n    const groupId = decodeURIComponent(params.groupId as string);\r\n    const { showToast } = useToast();\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [teams, setTeams] = useState<TeamStats[]>([]);\r\n    const [fixture, setFixture] = useState<Match[]>([]);\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [calculating, setCalculating] = useState(false);\r\n    const [result, setResult] = useState<any>(null);\r\n    const [selectedTeam, setSelectedTeam] = useState<string>(\"\");\r\n    const [activeTab, setActiveTab] = useState<'probability' | 'matches'>('probability');\r\n    const [predictingAll, setPredictingAll] = useState(false);\r\n    const [showConfetti, setShowConfetti] = useState(false);\r\n    const [allGroups, setAllGroups] = useState<string[]>([]);\r\n    const [showValidation, setShowValidation] = useState(false);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [saveStatus, setSaveStatus] = useState<'saved' | 'saving' | 'idle'>('idle');\r\n\r\n    const [showDashboard, setShowDashboard] = useState(false);\r\n    const [groupMatchCounts, setGroupMatchCounts] = useState<Record<string, number>>({});\r\n\r\n    const [isComparisonMode, setIsComparisonMode] = useState(false);\r\n    const [comparisonStandings, setComparisonStandings] = useState<TeamStats[] | null>(null);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [groupId]);\r\n\r\n    // Load saved overrides from localStorage on mount\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('groupScenarios');\r\n        if (saved) {\r\n            try {\r\n                const allScenarios = JSON.parse(saved);\r\n                if (allScenarios[groupId]) {\r\n                    setOverrides(allScenarios[groupId]);\r\n                }\r\n            } catch (e) {\r\n                console.error('Failed to load saved scenarios', e);\r\n            }\r\n        }\r\n        setIsLoaded(true);\r\n    }, [groupId]);\r\n\r\n    // Load scenario from URL query parameter\r\n    const searchParams = useSearchParams();\r\n    useEffect(() => {\r\n        const scenarioParam = searchParams.get('scenario');\r\n        if (scenarioParam) {\r\n            try {\r\n                const decoded = JSON.parse(atob(scenarioParam));\r\n                setOverrides(decoded);\r\n                showToast(\"Payla┼ş─▒lan senaryo y├╝klendi!\", \"success\");\r\n            } catch (e) {\r\n                console.error('Failed to decode scenario from URL', e);\r\n            }\r\n        }\r\n    }, [searchParams]);\r\n\r\n    // Save overrides to localStorage when they change\r\n    useEffect(() => {\r\n        if (!isLoaded) return; // Wait for initial load\r\n        setSaveStatus('saving');\r\n\r\n        const saved = localStorage.getItem('groupScenarios');\r\n        const allScenarios = saved ? JSON.parse(saved) : {};\r\n        allScenarios[groupId] = overrides;\r\n        localStorage.setItem('groupScenarios', JSON.stringify(allScenarios));\r\n\r\n        const timer = setTimeout(() => {\r\n            setSaveStatus('saved');\r\n        }, 500);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [overrides, groupId, isLoaded]);\r\n\r\n    const handleExportScenario = () => {\r\n        const exportData: ScenarioExport = {\r\n            version: '1.0',\r\n            league: '2lig',\r\n            timestamp: new Date().toISOString(),\r\n            groupId: groupId,\r\n            overrides: overrides,\r\n            metadata: {\r\n                completedMatches: fixture.filter(m => m.isPlayed).length,\r\n                totalMatches: fixture.length\r\n            }\r\n        };\r\n        const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData, null, 2));\r\n        const downloadAnchorNode = document.createElement('a');\r\n        downloadAnchorNode.setAttribute(\"href\", dataStr);\r\n        downloadAnchorNode.setAttribute(\"download\", `scenario-${groupId}-${new Date().toLocaleDateString('tr-TR').replace(/\\./g, '-')}.json`);\r\n        document.body.appendChild(downloadAnchorNode);\r\n        downloadAnchorNode.click();\r\n        downloadAnchorNode.remove();\r\n        showToast(\"Senaryo dosyas─▒ indirildi\", \"success\");\r\n    };\r\n\r\n    const handleShareScenario = async () => {\r\n        try {\r\n            const encoded = btoa(JSON.stringify(overrides));\r\n            const url = `${window.location.origin}${window.location.pathname}?scenario=${encoded}`;\r\n            await navigator.clipboard.writeText(url);\r\n            showToast(\"Payla┼ş─▒m linki kopyaland─▒!\", \"success\");\r\n        } catch (e) {\r\n            showToast(\"Link kopyalanamad─▒\", \"error\");\r\n        }\r\n    };\r\n\r\n    const handleImportScenario = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            try {\r\n                const json = JSON.parse(e.target?.result as string);\r\n\r\n                // Handle both old format (direct overrides) and new format (ScenarioExport)\r\n                let newOverrides = {};\r\n                if (json.version && json.overrides) {\r\n                    newOverrides = json.overrides;\r\n                    if (json.groupId && json.groupId !== groupId) {\r\n                        showToast(`Dikkat: Bu senaryo ${json.groupId} i├ğin haz─▒rlanm─▒┼ş`, \"info\");\r\n                    }\r\n                } else {\r\n                    newOverrides = json; // Legacy support\r\n                }\r\n\r\n                setOverrides(newOverrides);\r\n                showToast(\"Senaryo ba┼şar─▒yla y├╝klendi\", \"success\");\r\n                setShowConfetti(true);\r\n            } catch (error) {\r\n                console.error(\"Import error:\", error);\r\n                showToast(\"Dosya okunamad─▒ veya hatal─▒\", \"error\");\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n        // Reset input\r\n        event.target.value = '';\r\n    };\r\n\r\n    // Auto-calculate when team is selected\r\n    useEffect(() => {\r\n        if (selectedTeam && teams.length > 0 && !loading) {\r\n            handleCalculate();\r\n        }\r\n    }, [selectedTeam]);\r\n\r\n    async function fetchData() {\r\n        try {\r\n            setLoading(true);\r\n            const res = await fetch(\"/api/scrape\");\r\n            if (!res.ok) throw new Error(\"Veri ├ğekilemedi\");\r\n            const data = await res.json();\r\n\r\n            // Get all unique groups for navigation\r\n            const uniqueGroups = [...new Set(data.teams.map((t: TeamStats) => t.groupName))].sort((a, b) => {\r\n                const numA = parseInt((a as string).match(/\\d+/)?.[0] || \"0\");\r\n                const numB = parseInt((b as string).match(/\\d+/)?.[0] || \"0\");\r\n                return numA - numB;\r\n            }) as string[];\r\n            setAllGroups(uniqueGroups);\r\n\r\n            // Calculate matches per group\r\n            const counts: Record<string, number> = {};\r\n            uniqueGroups.forEach(g => {\r\n                counts[g] = data.fixture.filter((m: Match) => m.groupName === g).length;\r\n            });\r\n            setGroupMatchCounts(counts);\r\n\r\n            const groupTeams = data.teams.filter((t: TeamStats) => t.groupName === groupId);\r\n            const groupFixture = data.fixture.filter((m: Match) => m.groupName === groupId);\r\n\r\n            setTeams(groupTeams);\r\n            setFixture(groupFixture);\r\n\r\n            if (groupFixture.length > 0) {\r\n                setSelectedTeam(groupFixture[0].homeTeam);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    // Calculate standings from fixture (played matches only)\r\n    // Logic moved to utils/calculatorUtils\r\n    // const sortedTeams = calculateStandingsFromFixture(fixture); \r\n    // Replaced by memoized calculation below\r\n\r\n    // Current standings from played matches (no overrides)\r\n    const sortedTeams = useMemo(() => {\r\n        if (teams.length === 0) return [];\r\n        return calculateLiveStandings(teams, fixture, {});\r\n    }, [teams, fixture]);\r\n\r\n    const upcomingMatches = useMemo(() => fixture.filter(m => !m.isPlayed), [fixture]);\r\n\r\n    // Scenario standings (with overrides)\r\n    const scenarioStandings = useMemo(() => {\r\n        if (teams.length === 0) return [];\r\n        return calculateLiveStandings(teams, fixture, overrides);\r\n    }, [teams, fixture, overrides]);\r\n\r\n    const handleCompareScenario = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            try {\r\n                const json = JSON.parse(event.target?.result as string);\r\n                let importedOverrides = {};\r\n                if (json.version && json.overrides) {\r\n                    importedOverrides = json.overrides;\r\n                } else {\r\n                    importedOverrides = json; // Legacy\r\n                }\r\n\r\n                const calculated = calculateLiveStandings(teams, fixture, importedOverrides as Record<string, string>);\r\n                setComparisonStandings(calculated);\r\n                setIsComparisonMode(true);\r\n                showToast(\"Kar┼ş─▒la┼şt─▒rma modu aktif\", \"success\");\r\n            } catch (err) {\r\n                showToast(\"Dosya okunamad─▒\", \"error\");\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n    };\r\n\r\n    const activeStandings = isComparisonMode && comparisonStandings ? comparisonStandings : scenarioStandings;\r\n\r\n    const comparisonDiffs = useMemo(() => {\r\n        if (!isComparisonMode || !comparisonStandings) return undefined;\r\n        // Compare: Base = scenarioStandings, Target = comparisonStandings\r\n        return compareStandings(scenarioStandings, comparisonStandings);\r\n    }, [isComparisonMode, scenarioStandings, comparisonStandings]);\r\n\r\n    function handleScoreSelect(matchId: string, score: string | null) {\r\n        setOverrides(prev => {\r\n            const next = { ...prev };\r\n            if (score === null) delete next[matchId];\r\n            else next[matchId] = score;\r\n            return next;\r\n        });\r\n    }\r\n\r\n    async function handleCalculate() {\r\n        if (!selectedTeam) return;\r\n        setCalculating(true);\r\n        try {\r\n            const scenarioOverrides: ScenarioOverride[] = [];\r\n            upcomingMatches.forEach(m => {\r\n                const id = `${m.homeTeam}|||${m.awayTeam}`;\r\n                if (overrides[id]) {\r\n                    scenarioOverrides.push({ homeTeam: m.homeTeam, awayTeam: m.awayTeam, score: overrides[id] });\r\n                }\r\n            });\r\n\r\n            const res = await fetch(\"/api/calculate\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ teams: sortedTeams, fixture, targetTeam: selectedTeam, overrides: scenarioOverrides }),\r\n            });\r\n            setResult(await res.json());\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setCalculating(false);\r\n        }\r\n    }\r\n\r\n    const filledCount = upcomingMatches.filter(m => overrides[`${m.homeTeam}|||${m.awayTeam}`]).length;\r\n\r\n    // Group matches by date for the matches tab\r\n    const groupMatchesByDate = (matches: Match[]) => {\r\n        const byDate: Record<string, Match[]> = {};\r\n        matches.forEach(m => {\r\n            const date = m.matchDate || 'Tarih Belirsiz';\r\n            if (!byDate[date]) byDate[date] = [];\r\n            byDate[date].push(m);\r\n        });\r\n        return Object.entries(byDate).sort(([a], [b]) => a.localeCompare(b));\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 md:p-8 font-sans\">\r\n            <div className=\"max-w-6xl mx-auto space-y-6\">\r\n\r\n                {/* Header */}\r\n                <header className=\"flex flex-col md:flex-row justify-between items-center pb-4 border-b border-slate-800 gap-4\">\r\n                    <div>\r\n                        <h1 className=\"text-2xl md:text-3xl font-bold text-white tracking-tight flex items-center gap-4\">\r\n                            <span>­şÅÉ {groupId}</span>\r\n                            {/* Auto-Save Indicator */}\r\n                            {saveStatus === 'saving' && (\r\n                                <span className=\"text-xs font-normal text-slate-400 animate-pulse flex items-center gap-1.5 bg-slate-800/50 px-2 py-1 rounded-full border border-slate-700/50\">\r\n                                    <span className=\"w-1.5 h-1.5 bg-slate-400 rounded-full\"></span>\r\n                                    Kaydediliyor...\r\n                                </span>\r\n                            )}\r\n                            {saveStatus === 'saved' && (\r\n                                <span className=\"text-xs font-normal text-emerald-400 flex items-center gap-1.5 bg-emerald-950/30 px-2 py-1 rounded-full border border-emerald-500/20 animate-in fade-in slide-in-from-bottom-2 duration-300\">\r\n                                    <span className=\"text-xs\">Ô£ô</span>\r\n                                    Kaydedildi\r\n                                </span>\r\n                            )}\r\n                        </h1>\r\n                        <p className=\"text-slate-400 text-sm mt-1\">{teams.length} tak─▒m ÔÇó {upcomingMatches.length} kalan ma├ğ</p>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        {/* Dashboard Trigger */}\r\n                        <button\r\n                            onClick={() => setShowDashboard(true)}\r\n                            className=\"px-4 py-2 bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-400 border border-indigo-500/20 rounded-lg text-sm flex items-center gap-2 transition-all\"\r\n                        >\r\n                            <span>­şîÄ</span> Genel Durum\r\n                        </button>\r\n                        <button onClick={() => setOverrides({})} className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm\">S─▒f─▒rla</button>\r\n                        <Link href=\"/groups\" className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm\">ÔåÉ Gruplar</Link>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Dashboard Modal */}\r\n                {showDashboard && (\r\n                    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200\" onClick={() => setShowDashboard(false)}>\r\n                        <div className=\"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl p-6\" onClick={e => e.stopPropagation()}>\r\n                            <div className=\"flex justify-between items-center mb-6\">\r\n                                <h2 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                                    ­şîı Lig Durumu\r\n                                    <span className=\"text-sm font-normal text-slate-400 bg-slate-800 px-2 py-0.5 rounded-full\">T├╝m Gruplar</span>\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setShowDashboard(false)}\r\n                                    className=\"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    Ô£ò\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                                {allGroups.map(gId => {\r\n                                    // Get overrides for this group from localStorage\r\n                                    const saved = localStorage.getItem('groupScenarios');\r\n                                    const allScenarios = saved ? JSON.parse(saved) : {};\r\n                                    const groupOverrides = allScenarios[gId] || {};\r\n                                    const filled = Object.keys(groupOverrides).length;\r\n                                    const total = groupMatchCounts[gId] || 1; // Avoid div by zero\r\n                                    const percent = Math.min(100, Math.round((filled / total) * 100));\r\n                                    const isComplete = filled >= total;\r\n                                    const isCurrent = gId === groupId;\r\n\r\n                                    return (\r\n                                        <Link\r\n                                            key={gId}\r\n                                            href={`/group/${gId}`}\r\n                                            onClick={() => setShowDashboard(false)}\r\n                                            className={`relative group bg-slate-950 rounded-lg border p-4 transition-all hover:-translate-y-1 hover:shadow-xl ${isCurrent ? 'border-indigo-500/50 shadow-[0_0_15px_-5px_rgba(99,102,241,0.3)]' : 'border-slate-800 hover:border-slate-600'}`}\r\n                                        >\r\n                                            <div className=\"flex justify-between items-start mb-3 relative z-10\">\r\n                                                <div>\r\n                                                    <h3 className={`font-bold text-lg ${isCurrent ? 'text-indigo-400' : 'text-white'}`}>\r\n                                                        {gId}\r\n                                                    </h3>\r\n                                                    <p className=\"text-xs text-slate-400 mt-1\">\r\n                                                        {filled}/{total} Takmin\r\n                                                    </p>\r\n                                                </div>\r\n                                                {isComplete ? (\r\n                                                    <div className=\"bg-emerald-500/10 text-emerald-400 text-xs px-2 py-1 rounded border border-emerald-500/20 font-medium\">\r\n                                                        Tamamland─▒\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <div className=\"bg-amber-500/10 text-amber-400 text-xs px-2 py-1 rounded border border-amber-500/20 font-medium\">\r\n                                                        {total - filled} Eksik\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n\r\n                                            {/* Liquid Progress Bar */}\r\n                                            <div className=\"h-2 bg-slate-800 rounded-full overflow-hidden relative\">\r\n                                                <div\r\n                                                    className={`h-full rounded-full transition-all duration-1000 ease-out relative overflow-hidden ${isComplete ? 'bg-emerald-500' : 'bg-indigo-500'}`}\r\n                                                    style={{ width: `${percent}%` }}\r\n                                                >\r\n                                                    <div className=\"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite] translate-x-[-100%]\" style={{ backgroundImage: 'linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent)' }}></div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {isCurrent && (\r\n                                                <div className=\"absolute top-2 right-2 text-[10px] text-indigo-500 font-mono opacity-50\">\r\n                                                    AKT─░F\r\n                                                </div>\r\n                                            )}\r\n                                        </Link>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Group Navigation */}\r\n                {allGroups.length > 0 && (\r\n                    <div className=\"flex flex-wrap gap-1.5 p-2 bg-slate-900/50 rounded-lg border border-slate-800/50\">\r\n                        {allGroups.map(g => {\r\n                            const num = g.match(/\\d+/)?.[0] || g;\r\n                            const isActive = g === groupId;\r\n                            return (\r\n                                <Link\r\n                                    key={g}\r\n                                    href={`/group/${encodeURIComponent(g)}`}\r\n                                    className={`px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${isActive\r\n                                        ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30'\r\n                                        : 'bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white'\r\n                                        }`}\r\n                                >\r\n                                    {num}. Grup\r\n                                </Link>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex gap-2 border-b border-slate-800 pb-2\">\r\n                    <button\r\n                        onClick={() => setActiveTab('probability')}\r\n                        className={`px-4 py-2 rounded-t-lg font-medium text-sm transition-all duration-200 ${activeTab === 'probability' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' : 'bg-slate-800 text-slate-400 hover:bg-slate-700'}`}\r\n                    >\r\n                        ­şÄ▓ Olas─▒l─▒k Hesaplama\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab('matches')}\r\n                        className={`px-4 py-2 rounded-t-lg font-medium text-sm transition-all duration-200 flex items-center gap-2 ${activeTab === 'matches' ? 'bg-amber-600 text-white shadow-lg shadow-amber-500/30' : 'bg-slate-800 text-slate-400 hover:bg-slate-700'}`}\r\n                    >\r\n                        ­şÄ« T├╝m Ma├ğlar\r\n                        <span className={`px-1.5 py-0.5 rounded text-[10px] font-bold ${filledCount === upcomingMatches.length ? 'bg-emerald-500 text-white' : 'bg-slate-700 text-slate-300'}`}>\r\n                            {filledCount}/{upcomingMatches.length}\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Confetti celebration */}\r\n                <Confetti trigger={showConfetti} onComplete={() => setShowConfetti(false)} />\r\n\r\n                {loading ? (\r\n                    <div className=\"text-center py-20\">\r\n                        <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-white mx-auto mb-4 opacity-50\"></div>\r\n                        <p className=\"text-slate-500\">Y├╝kleniyor...</p>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        {/* Tab 1: Probability */}\r\n                        {activeTab === 'probability' && (\r\n                            <div className=\"grid lg:grid-cols-3 gap-6\">\r\n                                {/* Standings - Uses scenario standings when overrides exist */}\r\n                                <div className=\"space-y-4\">\r\n                                    <h2 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n                                        ­şôè Puan Durumu\r\n                                        {Object.keys(overrides).length > 0 && (\r\n                                            <span className=\"text-xs text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded\">(Senaryo)</span>\r\n                                        )}\r\n                                    </h2>\r\n                                    <div className=\"bg-slate-900 rounded-lg border border-slate-800 overflow-hidden\">\r\n                                        <table className=\"w-full text-xs\">\r\n                                            <thead className=\"bg-slate-800\">\r\n                                                <tr>\r\n                                                    <th className=\"px-3 py-2 text-left text-slate-400\">#</th>\r\n                                                    <th className=\"px-3 py-2 text-left text-slate-400\">Tak─▒m</th>\r\n                                                    <th className=\"px-3 py-2 text-center text-slate-400\">O</th>\r\n                                                    <th className=\"px-3 py-2 text-center text-slate-400\">G</th>\r\n                                                    <th className=\"px-3 py-2 text-center text-slate-400\">P</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {(() => {\r\n                                                    const standings = Object.keys(overrides).length > 0 ? scenarioStandings : sortedTeams;\r\n                                                    // FIX: Use activeStandings and comparison logic here instead of duplicate local logic\r\n                                                    // However, this Probability Tab table is SEPARATE from the StandingsTable comp?\r\n                                                    // Ah, NO. The file uses StandingsTable ONLY in one place?\r\n                                                    // Only lines 773-815 seems to use a manual table implementation.\r\n                                                    // lines 420-472 is ALSO a manual table implementation for 'Probability' tab list.\r\n                                                    // This file is messy with table duplication.\r\n                                                    // Let's create a StandingsTable usage here to replace this manual table if possible, or just hack it.\r\n                                                    // The manual table in Probability Tab is for *Selection*.\r\n                                                    // The sticky table (773) is for *Reference*.\r\n                                                    // Let's assume the user wants the Comparison view in the STICKY table (Line 773).\r\n                                                    return standings.map((team, idx) => {\r\n                                                        const isPlayoff = idx < 2;\r\n                                                        const isRelegation = idx >= standings.length - 2;\r\n                                                        return (\r\n                                                            <tr\r\n                                                                key={team.name}\r\n                                                                onClick={() => setSelectedTeam(team.name)}\r\n                                                                className={`border-t border-slate-800 cursor-pointer transition-all duration-300 hover:bg-slate-800/50 ${team.name === selectedTeam\r\n                                                                    ? 'bg-blue-900/30 border-l-4 border-l-blue-500'\r\n                                                                    : isPlayoff\r\n                                                                        ? 'bg-emerald-950/40 border-l-4 border-l-emerald-500'\r\n                                                                        : isRelegation\r\n                                                                            ? 'bg-rose-950/40 border-l-4 border-l-rose-500'\r\n                                                                            : ''\r\n                                                                    }`}\r\n                                                            >\r\n                                                                <td className=\"px-3 py-2\">\r\n                                                                    <div className=\"flex items-center gap-1\">\r\n                                                                        <span className={`font-bold ${isPlayoff ? 'text-emerald-400' : isRelegation ? 'text-rose-400' : 'text-slate-400'}`}>\r\n                                                                            {idx + 1}\r\n                                                                        </span>\r\n                                                                        {isPlayoff && <span className=\"text-[8px]\">­şÅå</span>}\r\n                                                                        {isRelegation && <span className=\"text-[8px]\">Ô¼ç´©Å</span>}\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                                <td className={`px-3 py-2 ${team.name === selectedTeam ? 'text-blue-400 font-medium' : isPlayoff ? 'text-emerald-300' : isRelegation ? 'text-rose-300' : 'text-white'}`}>\r\n                                                                    <div className=\"flex items-center gap-2\">\r\n                                                                        <TeamAvatar name={team.name} size=\"sm\" position={idx < 3 ? idx + 1 : undefined} />\r\n                                                                        <span className=\"truncate max-w-[100px]\">{team.name}</span>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                                <td className=\"px-3 py-2 text-center text-slate-400\">{team.played}</td>\r\n                                                                <td className=\"px-3 py-2 text-center text-slate-400\">{team.wins}</td>\r\n                                                                <td className=\"px-3 py-2 text-center font-bold text-white\">{team.points}</td>\r\n                                                            </tr>\r\n                                                        )\r\n                                                    });\r\n                                                })()}\r\n                                            </tbody>\r\n                                        </table>\r\n                                        <div className=\"text-[10px] text-slate-500 text-center py-2 border-t border-slate-800\">\r\n                                            ­şæå Tak─▒ma t─▒klayarak analiz g├Âr├╝nt├╝leyin\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Calculating indicator */}\r\n                                    {calculating && (\r\n                                        <div className=\"bg-blue-950/30 rounded-lg border border-blue-800 p-4 flex items-center gap-2\">\r\n                                            <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-blue-400 border-t-transparent\"></div>\r\n                                            <span className=\"text-sm text-blue-400\">Hesaplan─▒yor...</span>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* AI Analysis & Stats */}\r\n                                <div className=\"lg:col-span-2 space-y-4\">\r\n                                    {result ? (\r\n                                        <>\r\n                                            {/* Team Header */}\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <h2 className=\"text-xl font-bold text-white\">­şôè {selectedTeam}</h2>\r\n                                            </div>\r\n\r\n                                            {/* Probability Stats - TOP */}\r\n                                            <div className=\"bg-slate-900 rounded-lg border border-slate-800 p-4\">\r\n                                                <div className=\"grid grid-cols-3 gap-3 text-center\">\r\n                                                    <div className=\"bg-amber-950/30 p-4 rounded-lg\">\r\n                                                        <div className=\"text-3xl font-bold text-amber-400\">{result.championshipProbability?.toFixed(1)}%</div>\r\n                                                        <div className=\"text-sm text-slate-400 mt-1\">┼Şampiyonluk</div>\r\n                                                    </div>\r\n                                                    <div className=\"bg-emerald-950/30 p-4 rounded-lg\">\r\n                                                        <div className=\"text-3xl font-bold text-emerald-400\">{result.playoffProbability?.toFixed(1)}%</div>\r\n                                                        <div className=\"text-sm text-slate-400 mt-1\">Play-Off</div>\r\n                                                    </div>\r\n                                                    <div className=\"bg-rose-950/30 p-4 rounded-lg\">\r\n                                                        <div className=\"text-3xl font-bold text-rose-400\">{result.relegationProbability?.toFixed(1)}%</div>\r\n                                                        <div className=\"text-sm text-slate-400 mt-1\">D├╝┼şme</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Rank Range - PROMINENT */}\r\n                                            <div className=\"bg-slate-900 rounded-lg border border-slate-800 p-4\">\r\n                                                <h3 className=\"text-sm font-medium text-slate-400 mb-3\">­şôı Tahmini Sezon Sonu S─▒ralamas─▒</h3>\r\n                                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                                    <div className=\"bg-emerald-950/20 p-4 rounded-lg text-center border border-emerald-900/50\">\r\n                                                        <div className=\"text-xs text-emerald-400 mb-1\">En ─░yi ─░htimal</div>\r\n                                                        <div className=\"text-4xl font-bold text-emerald-400\">{result.bestRank}.</div>\r\n                                                        <div className=\"text-xs text-slate-500 mt-1\">s─▒ra</div>\r\n                                                    </div>\r\n                                                    <div className=\"bg-rose-950/20 p-4 rounded-lg text-center border border-rose-900/50\">\r\n                                                        <div className=\"text-xs text-rose-400 mb-1\">En K├Ât├╝ ─░htimal</div>\r\n                                                        <div className=\"text-4xl font-bold text-rose-400\">{result.worstRank}.</div>\r\n                                                        <div className=\"text-xs text-slate-500 mt-1\">s─▒ra</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* AI Analysis - BOTTOM */}\r\n                                            <div className=\"bg-slate-900 rounded-lg border border-slate-800 p-4\">\r\n                                                <h3 className=\"text-sm font-medium text-slate-400 mb-3\">­şñû AI Analizi</h3>\r\n                                                <p className=\"text-sm text-slate-300 whitespace-pre-line leading-relaxed\">{result.aiAnalysis}</p>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <div className=\"bg-slate-900 rounded-lg border border-slate-800 p-8 text-center text-slate-500\">\r\n                                            <p className=\"text-lg mb-2\">­şæê</p>\r\n                                            <p>Puan durumundan bir tak─▒ma t─▒klay─▒n</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Tab 2: All Matches */}\r\n                        {activeTab === 'matches' && (\r\n                            <div className=\"grid lg:grid-cols-2 gap-6\">\r\n                                {/* Upcoming Matches */}\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"flex justify-between items-center gap-2\">\r\n                                        <h2 className=\"text-lg font-semibold text-white\">­şÄ« Gelecek Ma├ğlar</h2>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <button\r\n                                                onClick={async () => {\r\n                                                    try {\r\n                                                        setPredictingAll(true);\r\n                                                        const response = await fetch('/api/predict-all', {\r\n                                                            method: 'POST',\r\n                                                            headers: { 'Content-Type': 'application/json' },\r\n                                                            body: JSON.stringify({\r\n                                                                teams: sortedTeams,\r\n                                                                upcomingMatches: upcomingMatches,\r\n                                                                allMatches: fixture // [NEW] Send full history for Elo calc\r\n                                                            })\r\n                                                        });\r\n\r\n                                                        if (!response.ok) {\r\n                                                            throw new Error(\"Tahminler al─▒namad─▒\");\r\n                                                        }\r\n\r\n                                                        const predictions = await response.json();\r\n                                                        setOverrides(prev => ({\r\n                                                            ...prev,\r\n                                                            ...predictions\r\n                                                        }));\r\n                                                        // Show success feedback\r\n                                                        setShowConfetti(true);\r\n                                                        showToast(`${Object.keys(predictions).length} ma├ğ tahmin edildi!`, 'success');\r\n                                                    } catch (error) {\r\n                                                        console.error(\"AI Prediction error:\", error);\r\n                                                        showToast(\"Tahminler yap─▒l─▒rken bir hata olu┼ştu.\", 'error');\r\n                                                    } finally {\r\n                                                        setPredictingAll(false);\r\n                                                    }\r\n                                                }}\r\n                                                disabled={predictingAll || upcomingMatches.length === 0}\r\n                                                className=\"flex items-center gap-2 px-3 py-1.5 bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-400 border border-indigo-500/20 rounded-md text-sm font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                            >\r\n                                                {predictingAll ? (\r\n                                                    <>\r\n                                                        <div className=\"w-3 h-3 border-2 border-indigo-400/30 border-t-indigo-400 rounded-full animate-spin\"></div>\r\n                                                        <span>Tahmin Ediliyor...</span>\r\n                                                    </>\r\n                                                ) : (\r\n                                                    <><span>­şö«</span> <span>T├╝m├╝n├╝ Tahmin Et</span></>\r\n                                                )}\r\n                                            </button>\r\n\r\n                                            <div className=\"flex bg-slate-800 rounded-md p-0.5 border border-slate-700\">\r\n                                                <button\r\n                                                    onClick={handleExportScenario}\r\n                                                    title=\"Senaryoyu ─░ndir\"\r\n                                                    className=\"p-1.5 hover:bg-slate-700 rounded text-slate-400 hover:text-emerald-400 transition-colors\"\r\n                                                >\r\n                                                    <span className=\"text-lg\">­şôÑ</span>\r\n                                                </button>\r\n                                                <label\r\n                                                    title=\"Senaryo Y├╝kle\"\r\n                                                    className=\"p-1.5 hover:bg-slate-700 rounded text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer\"\r\n                                                >\r\n                                                    <span className=\"text-lg\">­şôñ</span>\r\n                                                    <input\r\n                                                        type=\"file\"\r\n                                                        accept=\".json\"\r\n                                                        className=\"hidden\"\r\n                                                        onChange={handleImportScenario}\r\n                                                    />\r\n                                                </label>\r\n                                                <div className=\"w-px bg-slate-700 mx-1\"></div>\r\n                                                <label\r\n                                                    title={isComparisonMode ? \"Kar┼ş─▒la┼şt─▒rmay─▒ Kapat\" : \"Senaryo Kar┼ş─▒la┼şt─▒r\"}\r\n                                                    className={`p-1.5 hover:bg-slate-700 rounded transition-colors cursor-pointer font-bold ${isComparisonMode ? 'text-amber-400 bg-amber-950/30' : 'text-slate-400 hover:text-amber-400'}`}\r\n                                                >\r\n                                                    <span className=\"text-lg\">ÔÜû´©Å</span>\r\n                                                    <input\r\n                                                        type=\"file\"\r\n                                                        accept=\".json\"\r\n                                                        className=\"hidden\"\r\n                                                        onChange={handleCompareScenario}\r\n                                                        onClick={(e) => {\r\n                                                            if (isComparisonMode) {\r\n                                                                e.preventDefault();\r\n                                                                setIsComparisonMode(false);\r\n                                                                setComparisonStandings(null);\r\n                                                            }\r\n                                                        }}\r\n                                                    />\r\n                                                </label>\r\n                                                <div className=\"w-px bg-slate-700 mx-1\"></div>\r\n                                                <button\r\n                                                    onClick={handleShareScenario}\r\n                                                    title=\"Senaryo Payla┼ş\"\r\n                                                    className=\"p-1.5 hover:bg-slate-700 rounded text-slate-400 hover:text-cyan-400 transition-colors\"\r\n                                                >\r\n                                                    <span className=\"text-lg\">­şöù</span>\r\n                                                </button>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={() => {\r\n                                                    if (filledCount < upcomingMatches.length) {\r\n                                                        setShowValidation(true);\r\n                                                        showToast(\"L├╝tfen eksik ma├ğlar─▒ tamamlay─▒n\", \"error\");\r\n                                                    } else {\r\n                                                        setShowValidation(false);\r\n                                                        // It's already saved to localStorage, just show sync feedback\r\n                                                        showToast(\"Senaryo ba┼şar─▒yla kaydedildi!\", \"success\");\r\n                                                        setShowConfetti(true);\r\n                                                    }\r\n                                                }}\r\n                                                className=\"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 rounded-md text-sm font-medium transition-all\"\r\n                                            >\r\n                                                <span>­şÆ¥</span> <span>Kaydet</span>\r\n                                            </button>\r\n                                            {filledCount > 0 && (\r\n                                                <button onClick={() => {\r\n                                                    setOverrides({});\r\n                                                    setShowValidation(false);\r\n                                                }} className=\"text-xs text-rose-400 hover:text-rose-300 underline\">Temizle</button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* Missing matches warning - Only show when validation failed */}\r\n                                    {showValidation && filledCount < upcomingMatches.length && (\r\n                                        <div className=\"mb-4 bg-amber-950/30 border-l-4 border-l-amber-500 p-3 rounded-r-lg flex items-center justify-between animate-shake\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <span className=\"text-xl\">ÔÜá´©Å</span>\r\n                                                <div>\r\n                                                    <p className=\"text-sm font-medium text-amber-500\">Senaryo Tamamlanmad─▒</p>\r\n                                                    <p className=\"text-xs text-amber-400/80\">Analizin do─şru olmas─▒ i├ğin kalan <strong>{upcomingMatches.length - filledCount}</strong> ma├ğ─▒ da tahmin etmelisiniz.</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"text-[10px] text-amber-500/50 italic animate-pulse\">\r\n                                                A┼şa─ş─▒daki i┼şaretli ma├ğlar─▒ doldurun ­şæç\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                    {upcomingMatches.length === 0 ? (\r\n                                        <div className=\"bg-slate-900 rounded-lg border border-slate-800 p-8 text-center text-slate-500\">T├╝m ma├ğlar oynand─▒.</div>\r\n                                    ) : (\r\n                                        <div className=\"space-y-3\">\r\n                                            {groupMatchesByDate(upcomingMatches).map(([date, matches]) => (\r\n                                                <div key={date} className=\"bg-slate-900 rounded-lg border border-slate-800 overflow-hidden\">\r\n                                                    <div className=\"bg-slate-800 px-4 py-2 flex justify-between items-center\">\r\n                                                        <span className=\"font-medium text-white text-sm\">\r\n                                                            ­şôà {date === 'Tarih Belirsiz' ? date : new Date(date).toLocaleDateString('tr-TR', { weekday: 'short', day: 'numeric', month: 'short' })}\r\n                                                        </span>\r\n                                                        <span className=\"text-xs text-slate-400\">{matches.length} ma├ğ</span>\r\n                                                    </div>\r\n                                                    <div className=\"p-3 space-y-2\">\r\n                                                        {matches.map(match => {\r\n                                                            const matchId = `${match.homeTeam}|||${match.awayTeam}`;\r\n                                                            const currentScore = overrides[matchId];\r\n                                                            const isMissing = showValidation && filledCount > 0 && !currentScore;\r\n\r\n                                                            // Calculate Match Impact\r\n                                                            const homeIdx = scenarioStandings.findIndex(t => t.name === match.homeTeam);\r\n                                                            const awayIdx = scenarioStandings.findIndex(t => t.name === match.awayTeam);\r\n                                                            const homeRank = homeIdx + 1;\r\n                                                            const awayRank = awayIdx + 1;\r\n\r\n                                                            let impact: 'none' | 'medium' | 'high' = 'none';\r\n                                                            let impactLabel = '';\r\n\r\n                                                            // Logic:\r\n                                                            // 1. Top Clash: Both Top 4\r\n                                                            if (homeRank <= 4 && awayRank <= 4) { impact = 'high'; impactLabel = '­şöÑ Zirve Ma├ğ─▒'; }\r\n                                                            // 2. Playoff Decider: Rank 2 vs 3\r\n                                                            else if ((homeRank === 2 && awayRank === 3) || (homeRank === 3 && awayRank === 2)) { impact = 'high'; impactLabel = '­şöÑ Play-off Finali'; }\r\n                                                            // 3. Relegation 6-Pointer: Both Bottom 3\r\n                                                            else if (homeRank >= scenarioStandings.length - 2 && awayRank >= scenarioStandings.length - 2) { impact = 'high'; impactLabel = '­şöÑ D├╝┼şme Hatt─▒'; }\r\n                                                            // 4. Bubble Battle: Top 6 and close ranks\r\n                                                            else if (homeRank <= 6 && awayRank <= 6 && Math.abs(homeRank - awayRank) <= 2) { impact = 'medium'; impactLabel = 'ÔÜí Kritik'; }\r\n\r\n                                                            return (\r\n                                                                <div key={matchId} className={`bg-slate-950 p-2 rounded border transition-all duration-300 relative ${impact === 'high' ? 'border-amber-500/40 shadow-[0_0_10px_-5px_rgba(245,158,11,0.2)]' :\r\n                                                                    isMissing\r\n                                                                        ? 'border-amber-500/50 shadow-[0_0_15px_-5px_rgba(245,158,11,0.3)] animate-pulse-slow'\r\n                                                                        : 'border-slate-800/50'\r\n                                                                    }`}>\r\n\r\n                                                                    {/* Impact Badge */}\r\n                                                                    {impact !== 'none' && (\r\n                                                                        <div className={`absolute -top-2 left-1/2 -translate-x-1/2 text-[9px] font-bold px-1.5 py-0.5 rounded-full border shadow-sm z-10 ${impact === 'high'\r\n                                                                            ? 'bg-amber-950 text-amber-500 border-amber-500/50'\r\n                                                                            : 'bg-blue-950 text-blue-400 border-blue-500/50'\r\n                                                                            }`}>\r\n                                                                            {impactLabel}\r\n                                                                        </div>\r\n                                                                    )}\r\n\r\n                                                                    <div className=\"flex items-center justify-between gap-2 mb-2 mt-1\">\r\n                                                                        <div className=\"flex items-center gap-1.5 flex-1 min-w-0\">\r\n                                                                            <span className=\"text-[10px] w-4 text-center text-slate-500 font-mono\">#{homeRank}</span>\r\n                                                                            <span className={`text-xs truncate md:text-sm ${homeRank <= 2 ? 'text-emerald-400 font-medium' : 'text-slate-300'}`}>{match.homeTeam}</span>\r\n                                                                        </div>\r\n\r\n                                                                        <span className=\"text-[10px] text-slate-500 whitespace-nowrap\">{match.matchTime || 'vs'}</span>\r\n\r\n                                                                        <div className=\"flex items-center gap-1.5 flex-1 min-w-0 justify-end\">\r\n                                                                            <span className={`text-xs truncate md:text-sm text-right ${awayRank <= 2 ? 'text-emerald-400 font-medium' : 'text-slate-300'}`}>{match.awayTeam}</span>\r\n                                                                            <span className=\"text-[10px] w-4 text-center text-slate-500 font-mono\">#{awayRank}</span>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                    <div className=\"flex gap-1\">\r\n                                                                        {SCORES.map(score => {\r\n                                                                            const isSelected = currentScore === score;\r\n                                                                            const [h, a] = score.split('-').map(Number);\r\n                                                                            const isHomeWin = h > a;\r\n                                                                            return (\r\n                                                                                <button\r\n                                                                                    key={score}\r\n                                                                                    onClick={() => handleScoreSelect(matchId, isSelected ? null : score)}\r\n                                                                                    className={`flex-1 text-[10px] sm:text-xs py-2 sm:py-1.5 rounded border transition-all duration-200 active:scale-95 touch-target-sm ${isSelected\r\n                                                                                        ? isHomeWin\r\n                                                                                            ? 'bg-emerald-600 border-emerald-500 text-white shadow-lg shadow-emerald-500/30 animate-bounce-once'\r\n                                                                                            : 'bg-rose-600 border-rose-500 text-white shadow-lg shadow-rose-500/30 animate-bounce-once'\r\n                                                                                        : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:border-slate-600 hover:text-white'\r\n                                                                                        }`}\r\n                                                                                >\r\n                                                                                    {score}\r\n                                                                                </button>\r\n                                                                            );\r\n                                                                        })}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            );\r\n                                                        })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Dynamic Standings - Updates with scenario - STICKY */}\r\n                                <div className=\"lg:sticky lg:top-4 space-y-4 self-start\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <h2 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n                                            ­şôè Puan Durumu\r\n                                            {Object.keys(overrides).length > 0 && (\r\n                                                <span className=\"text-xs text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded animate-pulse\">\r\n                                                    Senaryo\r\n                                                </span>\r\n                                            )}\r\n                                        </h2>\r\n                                    </div>\r\n                                    <div className=\"h-[600px] bg-slate-900 rounded-lg border border-slate-800 overflow-hidden shadow-xl\">\r\n                                        <StandingsTable\r\n                                            teams={activeStandings}\r\n                                            compact={true}\r\n                                            comparisonDiffs={comparisonDiffs}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div >\r\n                        )\r\n                        }\r\n                    </>\r\n                )}\r\n            </div >\r\n        </main >\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\gunceldurum\\TwoLigDetailedGroupsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[818,821],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[818,821],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1009,1012],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1009,1012],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":82,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":85,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1017,1020],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1017,1020],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has a missing dependency: 'formatDate'. Either include it or remove the dependency array.","line":91,"column":8,"nodeType":"ArrayExpression","endLine":91,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [formatDate, groupMatches]","fix":{"range":[4003,4017],"text":"[formatDate, groupMatches]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\n\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport { sortStandings } from \"../../utils/calculatorUtils\";\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport LeagueActionBar from \"../../components/LeagueTemplate/LeagueActionBar\";\r\nimport { LEAGUE_CONFIGS } from \"../../components/LeagueTemplate/types\";\r\n\r\ninterface TwoLigDetailedGroupsClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function TwoLigDetailedGroupsClient({ initialTeams, initialMatches }: TwoLigDetailedGroupsClientProps) {\r\n    const [allTeams] = useState<TeamStats[]>(initialTeams);\r\n    const [allMatches] = useState<Match[]>(initialMatches.map((m: any) => ({\r\n        ...m,\r\n        matchDate: m.date || m.matchDate\r\n    })));\r\n\r\n    const groups = useMemo(() => {\r\n        return [...new Set(initialTeams.map(t => t.groupName))].sort((a: any, b: any) => {\r\n            const numA = parseInt(a.match(/\\d+/)?.[0] || \"0\");\r\n            const numB = parseInt(b.match(/\\d+/)?.[0] || \"0\");\r\n            return numA - numB;\r\n        });\r\n    }, [initialTeams]);\r\n\r\n    const [activeGroup, setActiveGroup] = useState<string>(groups[0] || \"\");\r\n\r\n    // Filter data for active group\r\n    const groupTeams = useMemo(() => sortStandings(allTeams.filter(t => t.groupName === activeGroup)), [allTeams, activeGroup]);\r\n    const groupMatches = useMemo(() => allMatches.filter(m => m.groupName === activeGroup), [allMatches, activeGroup]);\r\n\r\n    const playedCount = groupMatches.filter(m => m.isPlayed).length;\r\n    const totalCount = groupMatches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    // Turkish day names\r\n    const dayNames = ['PAZAR', 'PAZARTES─░', 'SALI', '├çAR┼ŞAMBA', 'PER┼ŞEMBE', 'CUMA', 'CUMARTES─░'];\r\n\r\n    // Helper: Parse DD.MM.YYYY\r\n    const parseDDMMYYYY = (dateStr: string) => {\r\n        const parts = dateStr.split('.');\r\n        if (parts.length === 3) {\r\n            const day = parseInt(parts[0], 10);\r\n            const month = parseInt(parts[1], 10) - 1; // JS months 0-11\r\n            const year = parseInt(parts[2], 10);\r\n            return new Date(year, month, day);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // Format date as DD/MM/YYYY + Day\r\n    const formatDate = (dateStr?: string) => {\r\n        if (!dateStr || dateStr.trim() === '') return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n        let date: Date | null = null;\r\n        if (dateStr.includes('.')) {\r\n            date = parseDDMMYYYY(dateStr);\r\n        } else {\r\n            date = new Date(dateStr);\r\n        }\r\n        if (!date || isNaN(date.getTime())) return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        const dayName = dayNames[date.getDay()];\r\n        return { formatted: `${day}/${month}/${year} ${dayName}`, sortKey: `${year}-${month}-${day}` };\r\n    };\r\n\r\n    const groupedMatches = useMemo(() => {\r\n        const matchesByDate: Record<string, { formatted: string; matches: Match[] }> = {};\r\n        const upcomingMatches = groupMatches.filter(m => !m.isPlayed);\r\n\r\n        upcomingMatches.forEach(match => {\r\n            const { formatted, sortKey } = formatDate(match.matchDate);\r\n            if (!matchesByDate[sortKey]) {\r\n                matchesByDate[sortKey] = { formatted, matches: [] };\r\n            }\r\n            matchesByDate[sortKey].matches.push(match);\r\n        });\r\n\r\n        const sortedDates = Object.keys(matchesByDate).sort();\r\n        return sortedDates.reduce((acc, dateKey) => {\r\n            acc[dateKey] = matchesByDate[dateKey];\r\n            return acc;\r\n        }, {} as Record<string, { formatted: string, matches: Match[] }>);\r\n    }, [groupMatches]);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans overflow-hidden\">\r\n            <div className=\"max-w-7xl mx-auto space-y-1 h-full flex flex-col\">\r\n                <div className=\"space-y-3 bg-slate-900/40 p-3 rounded-2xl border border-slate-800/60 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                    {/* Action Bar using LeagueTemplate */}\r\n                    <LeagueActionBar\r\n                        config={LEAGUE_CONFIGS['2lig']}\r\n                        title={`${LEAGUE_CONFIGS['2lig'].shortName} - ${activeGroup}`}\r\n                        subtitle=\"Kad─▒nlar 2. Ligi Analiz ve Puan Durumu\"\r\n                        selectorLabel=\"Grup\"\r\n                        selectorValue={activeGroup}\r\n                        selectorOptions={groups}\r\n                        onSelectorChange={setActiveGroup}\r\n                        progress={completionRate}\r\n                        progressLabel={`%${completionRate}`}\r\n                    >\r\n                        {/* Leader Badge */}\r\n                        <div className=\"hidden sm:flex bg-slate-950/50 px-3 py-1.5 rounded-lg border border-slate-800 text-center flex-col justify-center h-full min-h-[32px]\">\r\n                            <div className=\"text-[9px] font-bold text-slate-500 uppercase leading-none mb-0.5\">Lider</div>\r\n                            <div className=\"text-xs font-bold text-white truncate max-w-[100px] leading-none\">{groupTeams[0]?.name}</div>\r\n                        </div>\r\n                        {/* Live Badge */}\r\n                        <div className=\"px-3 h-8 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase hidden sm:inline\">Otomatik G├╝ncelleme</span>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase sm:hidden\">CANLI</span>\r\n                        </div>\r\n                    </LeagueActionBar>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-2 h-full\">\r\n                        <div className=\"lg:col-span-2 space-y-1 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôï</span> Puan Durumu Detaylar─▒\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 max-h-[calc(100vh-200px)]\">\r\n                                <StandingsTable teams={groupTeams} playoffSpots={2} relegationSpots={2} compact={true} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôà</span> Gelecek Ma├ğlar\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 relative\">\r\n                                <div className=\"absolute inset-0 overflow-y-auto p-2 space-y-2\">\r\n                                    {Object.keys(groupedMatches).length === 0 ? (\r\n                                        <div className=\"flex flex-col items-center justify-center h-full text-slate-500 text-xs italic\">\r\n                                            Ma├ğ bulunamad─▒ veya sezon tamamland─▒.\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"space-y-2\">\r\n                                            {Object.entries(groupedMatches).map(([dateKey, group], dateIdx) => (\r\n                                                <div key={dateKey} className={dateIdx > 0 ? 'mt-3' : ''}>\r\n                                                    <div className=\"sticky top-0 bg-emerald-600/20 px-2 py-1 rounded border border-emerald-500/30 mb-2 z-10\">\r\n                                                        <span className=\"text-[10px] font-bold text-emerald-400 uppercase tracking-wide\">\r\n                                                            {group.formatted}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div className=\"space-y-1.5\">\r\n                                                        {group.matches.map((match, idx) => (\r\n                                                            <div key={idx} className=\"flex items-center justify-between p-2 bg-slate-900/40 rounded border border-slate-800/50 hover:bg-slate-800/50 transition-colors group\">\r\n                                                                <div className=\"flex-1 flex items-center justify-end gap-2 overflow-hidden\">\r\n                                                                    <span className=\"text-xs font-bold text-slate-300 text-right truncate\">{match.homeTeam}</span>\r\n                                                                    <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                                                </div>\r\n                                                                <div className=\"px-3 flex flex-col items-center\">\r\n                                                                    <span className=\"text-[10px] font-bold text-slate-600 bg-slate-950 px-1.5 py-0.5 rounded border border-slate-800\">VS</span>\r\n                                                                    {match.matchTime && (\r\n                                                                        <span className=\"text-[9px] text-slate-500 mt-0.5\">{match.matchTime}</span>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                                <div className=\"flex-1 flex items-center justify-start gap-2 overflow-hidden\">\r\n                                                                    <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                                                    <span className=\"text-xs font-bold text-slate-300 text-left truncate\">{match.awayTeam}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\gunceldurum\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\playoffs\\TwoLigPlayoffsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoaded' is assigned a value but never used.","line":26,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\nimport Link from \"next/link\";\r\nimport {\r\n    generateQuarterGroups,\r\n    generateSemiGroups,\r\n    generateFinalGroups,\r\n    applyOverridesToGroups,\r\n    PlayoffGroup,\r\n    calculateGroupStandings\r\n} from \"../../utils/playoffUtils\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\n\r\nimport TeamAvatar from \"../../components/TeamAvatar\";\r\n\r\ninterface TwoLigPlayoffsClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function TwoLigPlayoffsClient({ initialTeams, initialMatches }: TwoLigPlayoffsClientProps) {\r\n    const [groupOverrides, setGroupOverrides] = useState<Record<string, string>>({});\r\n    const [playoffOverrides, setPlayoffOverrides] = useState<Record<string, string>>({});\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const loadSaved = () => {\r\n            const savedPlayoff = localStorage.getItem('playoffScenarios');\r\n            if (savedPlayoff) {\r\n                try {\r\n                    setPlayoffOverrides(JSON.parse(savedPlayoff));\r\n                } catch (e) { console.error(e); }\r\n            }\r\n\r\n            const savedGroup = localStorage.getItem('groupScenarios');\r\n            if (savedGroup) {\r\n                try {\r\n                    const parsed = JSON.parse(savedGroup);\r\n                    let flatOverrides: Record<string, string> = {};\r\n                    Object.values(parsed).forEach((groupObj: unknown) => {\r\n                        flatOverrides = { ...flatOverrides, ...(groupObj as Record<string, string>) };\r\n                    });\r\n                    setGroupOverrides(flatOverrides);\r\n                } catch (e) { console.error(e); }\r\n            }\r\n            setIsLoaded(true);\r\n        };\r\n\r\n        Promise.resolve().then(loadSaved);\r\n    }, []);\r\n\r\n    const baseStandings = useMemo(() => {\r\n        const calculatedTeams = calculateLiveStandings(initialTeams, initialMatches, groupOverrides);\r\n        return calculateGroupStandings(calculatedTeams);\r\n    }, [initialTeams, initialMatches, groupOverrides]);\r\n\r\n    const quarterGroups = useMemo(() => {\r\n        const qs = generateQuarterGroups(baseStandings, initialMatches);\r\n        return applyOverridesToGroups(qs, playoffOverrides, 'quarter');\r\n    }, [baseStandings, initialMatches, playoffOverrides]);\r\n\r\n    const semiGroups = useMemo(() => {\r\n        const ss = generateSemiGroups(quarterGroups);\r\n        return applyOverridesToGroups(ss, playoffOverrides, 'semi');\r\n    }, [quarterGroups, playoffOverrides]);\r\n\r\n    const finalGroups = useMemo(() => {\r\n        const fs = generateFinalGroups(semiGroups);\r\n        return applyOverridesToGroups(fs, playoffOverrides, 'final');\r\n    }, [semiGroups, playoffOverrides]);\r\n\r\n    const remainingGroupMatchesCount = useMemo(() => {\r\n        let remaining = initialMatches.filter((m: Match) => !m.isPlayed).length;\r\n        remaining = Math.max(0, remaining - Object.keys(groupOverrides).length);\r\n        return remaining;\r\n    }, [initialMatches, groupOverrides]);\r\n\r\n    const isGroupsComplete = remainingGroupMatchesCount === 0;\r\n\r\n    const renderStageGroups = (stage: string, groups: PlayoffGroup[], title: string, color: string) => {\r\n        return (\r\n            <div className=\"space-y-4\">\r\n                <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                    <span className={`w-3 h-3 rounded-full ${color}`}></span>\r\n                    {title}\r\n                </h2>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    {groups.map(group => {\r\n                        const groupPrefix = `${stage}-${group.groupName}-`;\r\n                        const groupMatchesCount = Object.keys(playoffOverrides).filter(k => k.startsWith(groupPrefix)).length;\r\n                        const totalMatches = 6;\r\n                        const isComplete = groupMatchesCount >= totalMatches;\r\n\r\n                        let displayName = group.groupName;\r\n                        if (stage === 'semi') {\r\n                            const map: Record<string, string> = { 'A': '1', 'B': '2', 'C': '3', 'D': '4' };\r\n                            displayName = map[group.groupName] || group.groupName;\r\n                        }\r\n\r\n                        return (\r\n                            <Link\r\n                                key={group.groupName}\r\n                                href={`/2lig/playoffs/${stage}/${group.groupName}`}\r\n                                className=\"block bg-slate-900 border border-slate-800 rounded-lg overflow-hidden hover:border-slate-600 hover:shadow-lg transition-all\"\r\n                            >\r\n                                <div className={`h-2 ${color}/50`}></div>\r\n                                <div className=\"p-4\">\r\n                                    <div className=\"flex justify-between items-center mb-2\">\r\n                                        <h3 className=\"font-bold text-white text-lg\">\r\n                                            {stage === 'semi' ? `${displayName}. Grup` : `Grup ${displayName}`}\r\n                                        </h3>\r\n                                        {isComplete ? (\r\n                                            <span className=\"text-xs bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded border border-emerald-500/20\">Tamamland─▒</span>\r\n                                        ) : (\r\n                                            <span className=\"text-xs bg-slate-800 text-slate-400 px-2 py-0.5 rounded\">{totalMatches - groupMatchesCount} Ma├ğ Eksik</span>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"space-y-0.5\">\r\n                                        <div className=\"flex items-center justify-between text-[10px] text-slate-500 px-2 pb-1 border-b border-slate-800/50\">\r\n                                            <span>#</span>\r\n                                            <span className=\"flex-1 px-2\">Tak─▒m</span>\r\n                                            <span>P</span>\r\n                                        </div>\r\n                                        {group.teams.map((team, idx) => (\r\n                                            <div key={team.name} className={`flex items-center justify-between text-xs py-1 px-2 rounded ${idx < 2 ? 'bg-emerald-500/5' : ''}`}>\r\n                                                <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                                                    <span className={`w-3 text-center text-[10px] ${idx < 2 ? 'text-emerald-400 font-bold' : 'text-slate-500'}`}>{idx + 1}</span>\r\n                                                    <TeamAvatar name={team.name} size=\"xs\" />\r\n                                                    <span className={`truncate ${idx < 2 ? 'text-slate-200 font-medium' : 'text-slate-400'}`}>{team.name}</span>\r\n                                                </div>\r\n                                                <span className={`font-bold ml-2 w-4 text-center ${idx < 2 ? 'text-white' : 'text-slate-500'}`}>\r\n                                                    {team.scenarioPoints ?? 0}\r\n                                                </span>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 md:p-8 font-sans\">\r\n            <div className=\"max-w-7xl mx-auto space-y-8\">\r\n                <div className=\"flex flex-col gap-1\">\r\n                    <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">Play-Off Senaryo Modu</h1>\r\n                    <p className=\"text-[10px] text-slate-400 hidden sm:block\">Turnuva sim├╝lasyonu ve e┼şle┼şme tahminleri</p>\r\n                </div>\r\n\r\n                {!isGroupsComplete && (\r\n                    <div className=\"bg-amber-500/10 border border-amber-500/20 text-amber-200 p-4 rounded-lg flex items-center gap-3\">\r\n                        <span className=\"text-2xl\">ÔÜá´©Å</span>\r\n                        <div>\r\n                            <p className=\"font-bold text-sm\">Grup Ma├ğlar─▒ Hen├╝z Tamamlanmad─▒</p>\r\n                            <p className=\"text-xs opacity-70\">\r\n                                Play-Off senaryolar─▒ mevcut grup s─▒ralamalar─▒na g├Âre hesaplanmaktad─▒r.\r\n                                Kesin sonu├ğlar i├ğin ├Ânce grup ma├ğlar─▒n─▒ tamamlay─▒n.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {(() => {\r\n                    const promotedTeams: Array<{ name: string; rank: 1 | 2; group: string }> = [];\r\n                    finalGroups.forEach(g => {\r\n                        const count = Object.keys(playoffOverrides).filter(k => k.startsWith(`final-${g.groupName}-`)).length;\r\n                        if (count >= 6) {\r\n                            if (g.teams[0]) promotedTeams.push({ name: g.teams[0].name, rank: 1, group: g.groupName });\r\n                            if (g.teams[1]) promotedTeams.push({ name: g.teams[1].name, rank: 2, group: g.groupName });\r\n                        }\r\n                    });\r\n\r\n                    if (promotedTeams.length === 0) return null;\r\n\r\n                    const champCount = promotedTeams.filter(t => t.rank === 1).length;\r\n                    const runnerUpCount = promotedTeams.filter(t => t.rank === 2).length;\r\n                    const totalPlayoffMatches = Object.keys(playoffOverrides).length;\r\n\r\n                    return (\r\n                        <div className=\"bg-gradient-to-r from-emerald-900/50 via-slate-900 to-emerald-900/30 border border-emerald-500/30 rounded-xl p-6 relative overflow-hidden\">\r\n                            <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-2 relative z-10\">\r\n                                <span className=\"text-3xl\">­şÄë</span>\r\n                                <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-teal-200\">\r\n                                    1. Lige Y├╝kselen Tak─▒mlar\r\n                                </span>\r\n                            </h2>\r\n\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 relative z-10\">\r\n                                <div className=\"flex flex-col gap-3\">\r\n                                    {promotedTeams.map((team, idx) => (\r\n                                        <div key={idx} className={`flex items-center gap-3 p-3 rounded-lg border backdrop-blur-sm transition-transform hover:scale-[1.02] ${team.rank === 1 ? 'bg-amber-500/10 border-amber-500/40' : 'bg-slate-700/30 border-slate-600/50'}`}>\r\n                                            <div className={`w-10 h-10 flex items-center justify-center rounded-full text-lg font-bold shadow-lg ${team.rank === 1 ? 'bg-gradient-to-b from-amber-300 to-amber-600 text-white' : 'bg-gradient-to-b from-slate-300 to-slate-500 text-white'}`}>\r\n                                                {team.rank === 1 ? '­şÑç' : '­şÑê'}\r\n                                            </div>\r\n                                            <TeamAvatar name={team.name} size=\"md\" />\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"font-bold text-white text-lg leading-tight\">{team.name}</div>\r\n                                                <div className={`text-xs ${team.rank === 1 ? 'text-amber-400' : 'text-slate-400'}`}>\r\n                                                    Final {team.group}. Grup {team.rank === 1 ? '┼Şampiyonu' : '─░kincisi'}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className={`text-2xl ${team.rank === 1 ? 'text-amber-400' : 'text-slate-500'}`}>\r\n                                                {team.rank === 1 ? '­şææ' : 'Ô¡É'}\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <div className=\"flex flex-col items-center justify-center gap-4 bg-slate-800/30 rounded-xl p-6 border border-slate-700/50\">\r\n                                    <div className=\"text-8xl animate-bounce\">­şÅå</div>\r\n                                    <div className=\"text-center\">\r\n                                        <div className=\"text-lg font-bold text-white mb-1\">Turnuva ├ûzeti</div>\r\n                                        <div className=\"text-sm text-slate-400\">2. Lig Play-Off 2025-26</div>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-3 gap-4 w-full mt-2\">\r\n                                        <div className=\"text-center p-3 bg-slate-900/50 rounded-lg\">\r\n                                            <div className=\"text-2xl font-bold text-amber-400\">{champCount}</div>\r\n                                            <div className=\"text-[10px] text-slate-500 uppercase tracking-wider\">┼Şampiyon</div>\r\n                                        </div>\r\n                                        <div className=\"text-center p-3 bg-slate-900/50 rounded-lg\">\r\n                                            <div className=\"text-2xl font-bold text-slate-300\">{runnerUpCount}</div>\r\n                                            <div className=\"text-[10px] text-slate-500 uppercase tracking-wider\">─░kinci</div>\r\n                                        </div>\r\n                                        <div className=\"text-center p-3 bg-slate-900/50 rounded-lg\">\r\n                                            <div className=\"text-2xl font-bold text-emerald-400\">{totalPlayoffMatches}</div>\r\n                                            <div className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Toplam Ma├ğ</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })()}\r\n\r\n                {isGroupsComplete ? (\r\n                    (() => {\r\n                        const quarterMatchCount = Object.keys(playoffOverrides).filter(k => k.startsWith('quarter-')).length;\r\n                        const isQuarterComplete = quarterMatchCount >= 24;\r\n\r\n                        const semiMatchCount = Object.keys(playoffOverrides).filter(k => k.startsWith('semi-')).length;\r\n                        const isSemiComplete = semiMatchCount >= 24;\r\n\r\n                        return (\r\n                            <div className=\"space-y-12\">\r\n                                {renderStageGroups('quarter', quarterGroups, '├çeyrek Final', 'bg-amber-500')}\r\n\r\n                                <div className=\"relative\">\r\n                                    {!isQuarterComplete && (\r\n                                        <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-xl py-8\">\r\n                                            <div className=\"text-4xl mb-2\">­şöÆ</div>\r\n                                            <h3 className=\"text-lg font-bold text-white mb-1\">Yar─▒ Final Kilitli</h3>\r\n                                            <p className=\"text-slate-400 text-xs text-center max-w-sm\">\r\n                                                Yar─▒ Final gruplar─▒n─▒ a├ğmak i├ğin ├çeyrek Final gruplar─▒n─▒ tamamlay─▒n.\r\n                                            </p>\r\n                                            <p className=\"text-amber-400 text-sm font-medium mt-2\">\r\n                                                {24 - quarterMatchCount} / 24 ma├ğ eksik\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className={!isQuarterComplete ? 'opacity-30 pointer-events-none select-none' : ''}>\r\n                                        {renderStageGroups('semi', semiGroups, 'Yar─▒ Final', 'bg-blue-500')}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"relative\">\r\n                                    {!isSemiComplete && (\r\n                                        <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-xl py-8\">\r\n                                            <div className=\"text-4xl mb-2\">­şöÆ</div>\r\n                                            <h3 className=\"text-lg font-bold text-white mb-1\">Final Grubu Kilitli</h3>\r\n                                            <p className=\"text-slate-400 text-xs text-center max-w-sm\">\r\n                                                Final grubunu a├ğmak i├ğin Yar─▒ Final gruplar─▒n─▒ tamamlay─▒n.\r\n                                            </p>\r\n                                            <p className=\"text-blue-400 text-sm font-medium mt-2\">\r\n                                                {24 - semiMatchCount} / 24 ma├ğ eksik\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className={!isSemiComplete ? 'opacity-30 pointer-events-none select-none' : ''}>\r\n                                        {renderStageGroups('final', finalGroups, 'Final Grubu', 'bg-emerald-500')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })()\r\n                ) : (\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-20 flex flex-col items-center justify-start pt-16 rounded-xl\">\r\n                            <div className=\"text-6xl mb-4\">­şöÆ</div>\r\n                            <h3 className=\"text-xl font-bold text-white mb-2\">Play-Off Kilitli</h3>\r\n                            <p className=\"text-slate-400 text-sm text-center max-w-md mb-4\">\r\n                                Play-Off senaryolar─▒n─▒ d├╝zenleyebilmek i├ğin ├Ânce t├╝m grup ma├ğlar─▒n─▒ tahmin etmeniz gerekmektedir.\r\n                            </p>\r\n                            <p className=\"text-amber-400 font-medium\">\r\n                                {remainingGroupMatchesCount} ma├ğ eksik\r\n                            </p>\r\n                            <Link href=\"/2lig/tahminoyunu\" className=\"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg transition-colors\">\r\n                                Tahminleri Tamamla ÔåÆ\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"opacity-30 pointer-events-none select-none space-y-12\">\r\n                            {renderStageGroups('quarter', quarterGroups, '├çeyrek Final', 'bg-amber-500')}\r\n                            {renderStageGroups('semi', semiGroups, 'Yar─▒ Final', 'bg-blue-500')}\r\n                            {renderStageGroups('final', finalGroups, 'Final Grubu', 'bg-emerald-500')}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\playoffs\\[stage]\\[groupId]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TeamStats' is defined but never used.","line":5,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":22,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'initialGroup' is assigned a value but never used.","line":28,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'saveStatus' is assigned a value but never used.","line":35,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { Match, TeamStats } from \"../../../../types\";\r\nimport Link from \"next/link\";\r\nimport {\r\n    GroupStanding,\r\n    PlayoffGroup,\r\n    PlayoffMatch,\r\n    SCORES,\r\n    calculateGroupStandings,\r\n    generateQuarterGroups,\r\n    generateSemiGroups,\r\n    generateFinalGroups,\r\n    generateGroupFixture,\r\n    applyOverridesToGroups\r\n} from \"../../../../utils/playoffUtils\";\r\n\r\nexport default function PlayoffGroupDetailPage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const stage = params.stage as 'quarter' | 'semi' | 'final';\r\n    const groupId = params.groupId as string;\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentGroup, setCurrentGroup] = useState<PlayoffGroup | null>(null);\r\n    const [initialGroup, setInitialGroup] = useState<PlayoffGroup | null>(null); // Stable seed state\r\n    const [groupFixture, setGroupFixture] = useState<PlayoffMatch[]>([]);\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [originalFixture, setOriginalFixture] = useState<Match[]>([]);\r\n    const [baseStandings, setBaseStandings] = useState<GroupStanding[]>([]);\r\n\r\n    // Auto-save status\r\n    const [saveStatus, setSaveStatus] = useState<'saved' | 'saving' | 'idle'>('idle');\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [predicting, setPredicting] = useState(false);\r\n\r\n    // Initial Rank Map for calculating diffs\r\n    const [initialRanks, setInitialRanks] = useState<Map<string, number>>(new Map());\r\n\r\n    // 1. Load Overrides from LocalStorage\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('playoffScenarios');\r\n        if (saved) {\r\n            try {\r\n                setOverrides(JSON.parse(saved));\r\n            } catch (e) {\r\n                console.error('Failed to load playoff scenarios', e);\r\n            }\r\n        }\r\n        setIsLoaded(true);\r\n    }, []);\r\n\r\n    // 2. Fetch Base Data (Once)\r\n    useEffect(() => {\r\n        async function fetchBaseData() {\r\n            try {\r\n                setLoading(true);\r\n                const res = await fetch(\"/api/scrape\");\r\n                if (!res.ok) throw new Error(\"Veri ├ğekilemedi\");\r\n                const data = await res.json();\r\n                setOriginalFixture(data.fixture);\r\n                const standings = calculateGroupStandings(data.teams);\r\n                setBaseStandings(standings);\r\n            } catch (err) {\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        fetchBaseData();\r\n    }, []);\r\n\r\n    // 3. Auto-save effect\r\n    useEffect(() => {\r\n        if (!isLoaded) return;\r\n\r\n        setSaveStatus('saving');\r\n        const timer = setTimeout(() => {\r\n            localStorage.setItem('playoffScenarios', JSON.stringify(overrides));\r\n            setSaveStatus('saved');\r\n        }, 500);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [overrides, isLoaded]);\r\n\r\n    // 4. Core Simulation Logic - Runs when Data is Ready OR Overrides Change OR Stage/Group Changes\r\n    useEffect(() => {\r\n        if (!originalFixture.length || !baseStandings.length) return;\r\n\r\n        // Reconstruct the playoff tree to get to *this* group state\r\n        const quarters = generateQuarterGroups(baseStandings, originalFixture);\r\n\r\n        let targetGroups: PlayoffGroup[] = [];\r\n\r\n        if (stage === 'quarter') {\r\n            targetGroups = quarters;\r\n        } else if (stage === 'semi') {\r\n            const updatedQuarters = applyOverridesToGroups(quarters, overrides, 'quarter');\r\n            targetGroups = generateSemiGroups(updatedQuarters);\r\n        } else if (stage === 'final') {\r\n            const updatedQuarters = applyOverridesToGroups(quarters, overrides, 'quarter');\r\n            const semis = generateSemiGroups(updatedQuarters);\r\n            const updatedSemis = applyOverridesToGroups(semis, overrides, 'semi');\r\n            targetGroups = generateFinalGroups(updatedSemis);\r\n        }\r\n\r\n        const foundGroup = targetGroups.find(g => g.groupName === groupId);\r\n\r\n        if (foundGroup) {\r\n            // Only set initialGroup if it's the first derivation for this specific group/stage context\r\n            // actually, we want initialGroup to be the 'base' state of this group before internal overrides are applied\r\n            // But 'foundGroup' ALREADY has incoming overrides applied (e.g. from Quarter finals)\r\n            // So foundGroup IS the seed for this stage.\r\n\r\n            // We only want to set initialGroup if it changes significantly (e.g. different teams)\r\n            // But simple equality check is complex.\r\n            // Let's rely on re-calculating it.\r\n\r\n            setInitialGroup(foundGroup);\r\n\r\n            const rankMap = new Map<string, number>();\r\n            foundGroup.teams.forEach((t, i) => rankMap.set(t.name, i + 1));\r\n            setInitialRanks(rankMap);\r\n\r\n            // Now apply *internal* overrides for *this* stage to this group\r\n            const updatedGroupArray = applyOverridesToGroups([foundGroup], overrides, stage);\r\n            setCurrentGroup(updatedGroupArray[0]);\r\n\r\n            const fixture = generateGroupFixture([foundGroup], stage);\r\n            setGroupFixture(fixture);\r\n        }\r\n\r\n    }, [baseStandings, originalFixture, overrides, stage, groupId]);\r\n\r\n\r\n    function handleScoreSelect(matchId: string, score: string | null) {\r\n        setOverrides(prev => {\r\n            const next = { ...prev };\r\n            if (score === null) {\r\n                delete next[matchId];\r\n            } else {\r\n                next[matchId] = score;\r\n            }\r\n            return next;\r\n        });\r\n    }\r\n\r\n    function predictGroupMatches() {\r\n        if (!currentGroup) return;\r\n        setPredicting(true);\r\n\r\n        try {\r\n            const predictions: Record<string, string> = {};\r\n            const scores = ['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'];\r\n            groupFixture.forEach(match => {\r\n                // Simple random prediction\r\n                const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n                predictions[match.id] = randomScore;\r\n            });\r\n\r\n            setOverrides(prev => ({ ...prev, ...predictions }));\r\n\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setPredicting(false);\r\n        }\r\n    }\r\n\r\n    const getStageInfo = () => {\r\n        switch (stage) {\r\n            case 'quarter': return { title: '├çeyrek Final', color: 'from-amber-600 to-amber-500', text: 'text-amber-500', nextStage: 'Yar─▒ Final' };\r\n            case 'semi': return { title: 'Yar─▒ Final', color: 'from-blue-600 to-blue-500', text: 'text-blue-500', nextStage: 'Final' };\r\n            case 'final': return { title: 'Final', color: 'from-emerald-600 to-emerald-500', text: 'text-emerald-500', nextStage: '┼Şampiyon' };\r\n            default: return { title: 'Play-Off', color: 'from-slate-600 to-slate-500', text: 'text-slate-500', nextStage: '-' };\r\n        }\r\n    };\r\n\r\n    const stageInfo = getStageInfo();\r\n\r\n    // Quick Navigation Groups\r\n    const stageGroups = {\r\n        quarter: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'],\r\n        semi: ['A', 'B', 'C', 'D'],\r\n        final: ['1', '2']\r\n    };\r\n    const currentStageGroups = stageGroups[stage] || [];\r\n\r\n    // Next Round Projection Logic\r\n    const getNextRoundMapping = (pos: 1 | 2) => {\r\n        if (stage === 'quarter') {\r\n            // Mapping based on official schema:\r\n            // Semi A -> 1. Grup\r\n            // Semi B -> 2. Grup\r\n            // Semi C -> 3. Grup\r\n            // Semi D -> 4. Grup\r\n            // Keys must be Uppercase because URL might be lowercase but internal names are Upper.\r\n            const map: Record<string, { 1: string, 2: string }> = {\r\n                'A': { 1: '1', 2: '4' }, 'B': { 1: '2', 2: '3' },\r\n                'C': { 1: '3', 2: '2' }, 'D': { 1: '4', 2: '1' },\r\n                'E': { 1: '1', 2: '4' }, 'F': { 1: '2', 2: '3' },\r\n                'G': { 1: '3', 2: '2' }, 'H': { 1: '4', 2: '1' }\r\n            };\r\n            const key = groupId.toUpperCase();\r\n            return map[key]?.[pos] || '??';\r\n        }\r\n        if (stage === 'semi') {\r\n            const map: Record<string, { 1: string, 2: string }> = {\r\n                'A': { 1: '1', 2: '2' }, 'B': { 1: '2', 2: '1' },\r\n                'C': { 1: '1', 2: '2' }, 'D': { 1: '2', 2: '1' }\r\n            };\r\n            const key = groupId.toUpperCase();\r\n            return map[key]?.[pos] || '??';\r\n        }\r\n        return '?';\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <main className=\"h-screen overflow-hidden bg-slate-950 text-slate-100 font-sans flex items-center justify-center p-4\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2 opacity-50\"></div>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    if (!currentGroup) {\r\n        return (\r\n            <main className=\"h-screen bg-slate-950 text-slate-100 p-4 font-sans flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-lg font-bold text-white mb-2\">Grup Bulunamad─▒</h2>\r\n                    <Link href=\"/2lig/playoffs\" className=\"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded text-xs text-white transition-colors\">\r\n                        Geri D├Ân\r\n                    </Link>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main className=\"h-screen overflow-hidden bg-slate-950 text-slate-100 flex flex-col p-2 sm:p-4 font-sans\">\r\n            <div className=\"w-full max-w-[1400px] mx-auto flex flex-col h-full gap-3\">\r\n\r\n                {/* Header & Nav Row */}\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between bg-slate-900 border border-slate-800 rounded-lg p-2 gap-2 flex-shrink-0\">\r\n                    <div className=\"flex items-center gap-3 w-full sm:w-auto overflow-hidden\">\r\n                        <Link href=\"/\" className=\"flex-shrink-0 p-1.5 bg-slate-800 hover:bg-slate-700 rounded transition-colors text-slate-400 hover:text-white text-xs flex items-center gap-1\">\r\n                            <span>ÔåÉ</span>\r\n                            <span className=\"hidden sm:inline\">Anasayfaya D├Ân</span>\r\n                        </Link>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <h1 className=\"text-lg font-bold text-white tracking-tight truncate flex items-center gap-2\">\r\n                                <span className={`${stageInfo.text}`}>{stageInfo.title}</span>\r\n                                <span className=\"text-slate-600\">|</span>\r\n                                <span>Grup {currentGroup.groupName}</span>\r\n                                <span className=\"text-xs font-normal text-slate-500 hidden sm:inline-block\">- Play-Off Senaryo</span>\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2 w-full sm:w-auto overflow-x-auto scrollbar-hide\">\r\n                        {/* Quick Nav */}\r\n                        <div className=\"flex items-center gap-1 bg-slate-950/50 p-1 rounded-md\">\r\n                            {currentStageGroups.map(gId => {\r\n                                const isActive = gId === groupId;\r\n                                return (\r\n                                    <Link\r\n                                        key={gId}\r\n                                        href={`/2lig/playoffs/${stage}/${gId}`}\r\n                                        replace\r\n                                        className={`px-2.5 py-1 text-xs font-bold rounded transition-all ${isActive\r\n                                            ? `bg-gradient-to-r ${stageInfo.color} text-white shadow`\r\n                                            : 'text-slate-500 hover:bg-slate-800 hover:text-slate-300'\r\n                                            }`}\r\n                                    >\r\n                                        {gId}\r\n                                    </Link>\r\n                                )\r\n                            })}\r\n                        </div>\r\n\r\n                        <div className=\"w-px h-6 bg-slate-800 mx-1 flex-shrink-0\"></div>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                const groupMatches = groupFixture.map(m => m.id);\r\n                                setOverrides(prev => {\r\n                                    const next = { ...prev };\r\n                                    groupMatches.forEach(id => delete next[id]);\r\n                                    return next;\r\n                                });\r\n                            }}\r\n                            className=\"px-2 py-1 bg-slate-800 hover:bg-rose-900/30 text-rose-400 hover:text-rose-300 text-xs rounded transition-colors whitespace-nowrap\"\r\n                        >\r\n                            S─▒f─▒rla\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Main Content Area - Auto Height */}\r\n                <div className=\"grid lg:grid-cols-12 gap-3 flex-1 min-h-0\">\r\n\r\n                    {/* Left Column: Standings + Projection (5 Cols) */}\r\n                    <div className=\"lg:col-span-5 flex flex-col h-full gap-3\">\r\n                        {/* Standings */}\r\n                        <div className=\"flex flex-col gap-0 min-h-0\">\r\n                            <div className={`bg-gradient-to-r ${stageInfo.color} px-3 py-1.5 rounded-t-lg shadow`}>\r\n                                <h2 className=\"text-xs font-bold text-white text-center tracking-wide\">PUAN DURUMU</h2>\r\n                            </div>\r\n                            <div className=\"bg-slate-900 border border-slate-800 rounded-b-lg overflow-x-auto\">\r\n                                <table className=\"w-full text-xs text-left table-fixed\">\r\n                                    <thead className=\"bg-slate-800 text-slate-400 uppercase text-[9px]\">\r\n                                        <tr>\r\n                                            <th className=\"px-1 py-2 w-6 text-center\">#</th>\r\n                                            <th className=\"px-2 py-2 text-left w-auto\">Tak─▒m</th>\r\n                                            <th className=\"px-1 py-1 text-center w-6\" title=\"Oynanan\">O</th>\r\n                                            <th className=\"px-1 py-1 text-center w-6\" title=\"Galibiyet\">G</th>\r\n                                            <th className=\"px-1 py-1 text-center w-6\" title=\"Ma─şlubiyet\">M</th>\r\n                                            <th className=\"px-1 py-1 text-center w-7 font-bold text-slate-200\" title=\"Puan\">P</th>\r\n                                            <th className=\"px-1 py-1 text-center w-6\" title=\"Al─▒nan\">AS</th>\r\n                                            <th className=\"px-1 py-1 text-center w-6\" title=\"Verilen\">VS</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody className=\"divide-y divide-slate-800/50\">\r\n                                        {currentGroup.teams.map((team, idx) => {\r\n                                            const isQualifying = idx < 2;\r\n                                            const oldRank = initialRanks.get(team.name);\r\n                                            const currentRank = idx + 1;\r\n                                            const hasMatches = groupFixture.some(m => overrides[m.id]);\r\n\r\n                                            let diffIcon = null;\r\n                                            if (hasMatches && oldRank) {\r\n                                                const diff = oldRank - currentRank;\r\n                                                if (diff > 0) diffIcon = <span className=\"text-emerald-500 text-[9px]\">Ôû▓</span>;\r\n                                                else if (diff < 0) diffIcon = <span className=\"text-rose-500 text-[9px]\">Ôû╝</span>;\r\n                                            }\r\n\r\n                                            return (\r\n                                                <tr key={team.name} className={`hover:bg-slate-800/50 transition-colors ${isQualifying ? 'bg-emerald-950/10' : ''}`}>\r\n                                                    <td className=\"px-1 py-1.5 text-slate-500 text-center relative\">\r\n                                                        <span className={`text-sm font-medium ${isQualifying ? 'text-emerald-400' : 'text-slate-500'}`}>{idx + 1}</span>\r\n                                                        {diffIcon && <div className=\"absolute top-0.5 right-0\">{diffIcon}</div>}\r\n                                                    </td>\r\n                                                    <td className=\"px-2 py-1.5\">\r\n                                                        <div className=\"font-semibold text-white text-xs truncate leading-tight w-24 sm:w-auto\" title={team.name}>{team.name}</div>\r\n                                                        <div className=\"text-[9px] text-slate-500 truncate mt-0.5\">{team.sourceGroup}</div>\r\n                                                    </td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-slate-400\">{team.scenarioPlayed}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-emerald-400\">{team.scenarioWins}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-rose-400\">{team.scenarioLosses}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center font-bold text-white text-sm bg-slate-800/30 rounded\">{team.scenarioPoints}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-slate-500\">{team.scenarioSetsWon}</td>\r\n                                                    <td className=\"px-1 py-1.5 text-center text-slate-500\">{team.scenarioSetsLost}</td>\r\n                                                </tr>\r\n                                            );\r\n                                        })}\r\n                                    </tbody>\r\n                                </table>\r\n                                <div className=\"p-1.5 text-[9px] text-slate-600 text-center border-t border-slate-800/50\">\r\n                                    ─░lk 2 tak─▒m bir sonraki tura y├╝kselir.\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Next Round Projection */}\r\n                        <div className=\"bg-slate-900 border border-slate-800 rounded-lg p-3 flex-1\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-wide mb-3 text-center border-b border-slate-800/50 pb-2\">\r\n                                ­şö« {stageInfo.nextStage} Yolculu─şu\r\n                            </h3>\r\n                            <div className=\"space-y-2\">\r\n                                {/* 1st Place */}\r\n                                <div className={`flex items-center gap-3 p-2 rounded-lg border ${stage === 'final' ? 'bg-amber-500/10 border-amber-500/30' : 'bg-emerald-950/10 border-emerald-900/30'}`}>\r\n                                    <div className={`w-6 h-6 flex items-center justify-center rounded text-xs font-bold ${stage === 'final' ? 'bg-amber-500/20 text-amber-500' : 'bg-emerald-500/10 text-emerald-500'}`}>1</div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"text-xs font-bold text-white truncate\">{currentGroup.teams[0]?.name || '-'}</div>\r\n                                        <div className={`text-[10px] ${stage === 'final' ? 'text-amber-400 font-bold' : 'text-emerald-400'}`}>\r\n                                            {stage === 'final' ? '1. Lige Y├╝kselir ­şÅå' : `Yar─▒ Final ${getNextRoundMapping(1)}. Grup'a gider`}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-xl opacity-20\">{stage === 'final' ? '­şÑç' : 'Ô£ê´©Å'}</div>\r\n                                </div>\r\n\r\n                                {/* 2nd Place */}\r\n                                <div className={`flex items-center gap-3 p-2 rounded-lg border ${stage === 'final' ? 'bg-emerald-500/10 border-emerald-500/30' : 'bg-slate-800/30 border-slate-700/30'}`}>\r\n                                    <div className={`w-6 h-6 flex items-center justify-center rounded text-xs font-bold ${stage === 'final' ? 'bg-emerald-500/20 text-emerald-500' : 'bg-slate-700/50 text-slate-400'}`}>2</div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"text-xs font-semibold text-slate-300 truncate\">{currentGroup.teams[1]?.name || '-'}</div>\r\n                                        <div className={`text-[10px] ${stage === 'final' ? 'text-emerald-400 font-bold' : 'text-slate-500'}`}>\r\n                                            {stage === 'final' ? '1. Lige Y├╝kselir ­şÅå' : `Yar─▒ Final ${getNextRoundMapping(2)}. Grup'a gider`}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-xl opacity-20\">{stage === 'final' ? '­şÑê' : 'Ô£ê´©Å'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right Column: Fixtures (7 Cols) */}\r\n                    <div className=\"lg:col-span-7 flex flex-col h-full gap-2 min-h-0\">\r\n                        <div className=\"flex items-center justify-between px-1\">\r\n                            <h2 className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider\">Ma├ğ Fikst├╝r├╝</h2>\r\n                            <button\r\n                                onClick={predictGroupMatches}\r\n                                disabled={predicting}\r\n                                className=\"px-2 py-1 bg-purple-600/20 hover:bg-purple-600/40 text-purple-300 hover:text-white border border-purple-500/30 disabled:opacity-50 text-[10px] rounded transition-colors flex items-center gap-1.5\"\r\n                            >\r\n                                {predicting ? <span className=\"animate-spin\">ÔÅ│</span> : '­şö«'}\r\n                                {predicting ? '...' : 'T├╝m├╝n├╝ Tahmin Et'}\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Fixture Grid - Scrollable if needed, but designed to fit */}\r\n                        <div className=\"flex-1 overflow-y-auto min-h-0 pr-1\">\r\n                            <div className=\"grid grid-cols-1 gap-2 pb-2\">\r\n                                {groupFixture.map((match, mIdx) => {\r\n                                    const currentScore = overrides[match.id];\r\n                                    return (\r\n                                        <div key={match.id} className=\"bg-slate-900 border border-slate-800 rounded p-2 hover:border-slate-700 transition-colors group flex items-center gap-3\">\r\n                                            {/* Match Index */}\r\n                                            <div className=\"text-[9px] font-bold text-slate-600 w-4 text-center shrink-0\">\r\n                                                {mIdx + 1}.\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-1 flex flex-col gap-1.5 min-w-0\">\r\n                                                {/* Teams Row */}\r\n                                                <div className=\"flex items-center justify-between text-[11px] leading-tight\">\r\n                                                    <div className=\"w-[45%] text-right font-medium text-slate-300 truncate\" title={match.homeTeam}>{match.homeTeam}</div>\r\n                                                    <div className=\"text-[9px] text-slate-600 font-mono shrink-0\">v</div>\r\n                                                    <div className=\"w-[45%] text-left font-medium text-slate-300 truncate\" title={match.awayTeam}>{match.awayTeam}</div>\r\n                                                </div>\r\n\r\n                                                {/* Scores Row */}\r\n                                                <div className=\"flex justify-center gap-1\">\r\n                                                    {SCORES.map(score => {\r\n                                                        const isSelected = currentScore === score;\r\n                                                        const [h, a] = score.split('-').map(Number);\r\n                                                        const homeWin = h > a;\r\n\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={score}\r\n                                                                onClick={() => handleScoreSelect(match.id, isSelected ? null : score)}\r\n                                                                className={`w-8 h-5 flex items-center justify-center rounded-[3px] text-[9px] font-bold transition-all border ${isSelected\r\n                                                                    ? homeWin\r\n                                                                        ? 'bg-emerald-600 border-emerald-500 text-white'\r\n                                                                        : 'bg-rose-600 border-rose-500 text-white'\r\n                                                                    : 'bg-slate-950 border-slate-800 text-slate-500 hover:bg-slate-800 hover:text-slate-300'\r\n                                                                    }`}\r\n                                                            >\r\n                                                                {score}\r\n                                                            </button>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\playoffs\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\stats\\TwoLigStatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\stats\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\tahminoyunu\\TwoLigCalculatorClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1282,1285],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1282,1285],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1317,1320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1317,1320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1383,1386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1383,1386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":100,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":103,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1769,1772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1769,1772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":108,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":111,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1777,1780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1777,1780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2960,2963],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2960,2963],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":224,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":224,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9875,9878],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9875,9878],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { TeamStats, Match, Achievement } from \"../../types\";\r\n\r\nimport { useToast, AchievementToast, AchievementsPanel } from \"../../components\";\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport FixtureList from \"../../components/Calculator/FixtureList\";\r\nimport ShareButton from \"../../components/ShareButton\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\nimport { calculateElo } from \"../../utils/eloCalculator\";\r\nimport { useGameState, ACHIEVEMENTS } from \"../../utils/gameState\";\r\nimport { sounds } from \"../../utils/sounds\";\r\n\r\ninterface TwoLigCalculatorClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function TwoLigCalculatorClient({ initialTeams, initialMatches }: TwoLigCalculatorClientProps) {\r\n    const { showToast, showUndoToast } = useToast();\r\n    const searchParams = useSearchParams();\r\n    const groupParam = searchParams.get(\"group\");\r\n    const standingsRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Normalize data (Matching original fetchData logic)\r\n    const normalizedData = useMemo(() => {\r\n        const teamsData: any[] = initialTeams.filter((item: any) => item.name && !item.homeTeam);\r\n        const matchesData: any[] = initialMatches;\r\n\r\n        return { teams: teamsData, matches: matchesData };\r\n    }, [initialTeams, initialMatches]);\r\n\r\n    // Data State\r\n    const [allTeams] = useState<TeamStats[]>(normalizedData.teams);\r\n    const [allMatches] = useState<Match[]>(normalizedData.matches);\r\n    const groups = useMemo(() => [...new Set(normalizedData.teams.map(t => t.groupName))].sort((a: any, b: any) => {\r\n        const numA = parseInt(a.match(/\\d+/)?.[0] || \"0\");\r\n        const numB = parseInt(b.match(/\\d+/)?.[0] || \"0\");\r\n        return numA - numB;\r\n    }), [normalizedData.teams]);\r\n\r\n    // UI State\r\n    const [selectedGroup, setSelectedGroup] = useState<string>(groupParam && groups.includes(groupParam) ? groupParam : (groups[0] || \"1. GRUP\"));\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [showAchievements, setShowAchievements] = useState(false);\r\n    const [showAutoMenu, setShowAutoMenu] = useState(false);\r\n    const [showResetMenu, setShowResetMenu] = useState(false);\r\n    const [newAchievement, setNewAchievement] = useState<Achievement | null>(null);\r\n\r\n    // Game State\r\n    const { gameState, addXP, recordPrediction, unlockAchievement, hasAchievement } = useGameState();\r\n\r\n    // Load saved scenarios on mount\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('groupScenarios');\r\n        if (saved) {\r\n            try {\r\n                const parsed = JSON.parse(saved);\r\n                let flatOverrides: Record<string, string> = {};\r\n                Object.values(parsed).forEach((groupObj: any) => {\r\n                    flatOverrides = { ...flatOverrides, ...groupObj };\r\n                });\r\n                setOverrides(flatOverrides);\r\n            } catch (e) { console.error(e); }\r\n        }\r\n    }, []);\r\n\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...overrides };\r\n        const wasNew = !overrides[matchId];\r\n\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n            if (wasNew) {\r\n                addXP(10);\r\n                sounds.scoreSelect();\r\n                if (!hasAchievement('first_prediction')) {\r\n                    const wasUnlocked = unlockAchievement('first_prediction');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.first_prediction as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n                if (gameState.stats.totalPredictions >= 49 && !hasAchievement('game_addict')) {\r\n                    const wasUnlocked = unlockAchievement('game_addict');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.game_addict as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n                recordPrediction(true);\r\n            }\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setOverrides(newOverrides);\r\n    };\r\n\r\n    // Persist overrides to localStorage\r\n    useEffect(() => {\r\n        if (!selectedGroup) return;\r\n        const saved = localStorage.getItem('groupScenarios');\r\n        const globalObj = saved ? JSON.parse(saved) : {};\r\n        const newGlobalObj = { ...globalObj };\r\n        groups.forEach(g => {\r\n            const groupMatches = allMatches.filter(m => m.groupName === g);\r\n            const groupOverrides: Record<string, string> = {};\r\n            groupMatches.forEach(m => {\r\n                const id = `${m.homeTeam}-${m.awayTeam}`;\r\n                if (overrides[id]) groupOverrides[id] = overrides[id];\r\n            });\r\n            newGlobalObj[g] = groupOverrides;\r\n        });\r\n        localStorage.setItem('groupScenarios', JSON.stringify(newGlobalObj));\r\n    }, [overrides, groups, allMatches, selectedGroup]);\r\n\r\n    const activeGroup = selectedGroup || groups[0];\r\n\r\n    const activeTeams = useMemo(() =>\r\n        allTeams.filter(t => t.groupName === activeGroup),\r\n        [allTeams, activeGroup]\r\n    );\r\n\r\n    const activeMatches = useMemo(() =>\r\n        allMatches.filter(m => m.groupName === activeGroup),\r\n        [allMatches, activeGroup]\r\n    );\r\n\r\n    const handleResetGroup = () => {\r\n        if (!confirm(`${activeGroup} grubundaki tahminleriniz silinecek. Emin misiniz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        const groupMatches = allMatches.filter(m => m.groupName === activeGroup);\r\n        groupMatches.forEach(m => {\r\n            const id = `${m.homeTeam}-${m.awayTeam}`;\r\n            delete newOverrides[id];\r\n        });\r\n        setOverrides(newOverrides);\r\n        showToast(`${activeGroup} tahminleri s─▒f─▒rland─▒`, \"success\");\r\n    };\r\n\r\n    const handleResetAll = () => {\r\n        const previousOverrides = { ...overrides };\r\n        setOverrides({});\r\n        localStorage.removeItem('groupScenarios');\r\n        showUndoToast(\"T├╝m 2. Lig tahminleri s─▒f─▒rland─▒\", () => {\r\n            setOverrides(previousOverrides);\r\n            localStorage.setItem('groupScenarios', JSON.stringify(previousOverrides));\r\n        });\r\n    };\r\n\r\n    // Memoize standings calculations\r\n    const initialStandings = useMemo(() =>\r\n        calculateLiveStandings(activeTeams, activeMatches, {}),\r\n        [activeTeams, activeMatches]\r\n    );\r\n\r\n    const initialRanks = useMemo(() => {\r\n        const ranks = new Map<string, number>();\r\n        initialStandings.forEach((team, idx) => ranks.set(team.name, idx + 1));\r\n        return ranks;\r\n    }, [initialStandings]);\r\n\r\n    const liveStandings = useMemo(() =>\r\n        calculateLiveStandings(activeTeams, activeMatches, overrides),\r\n        [activeTeams, activeMatches, overrides]\r\n    );\r\n\r\n    const currentRanks = useMemo(() => {\r\n        const ranks = new Map<string, number>();\r\n        liveStandings.forEach((team, idx) => ranks.set(team.name, idx + 1));\r\n        return ranks;\r\n    }, [liveStandings]);\r\n\r\n    // Export / Import Handlers\r\n    const handleSaveAllScenarios = () => {\r\n        try {\r\n            const exportData = {\r\n                league: '2. Lig',\r\n                groupScenarios: JSON.parse(localStorage.getItem('groupScenarios') || '{}'),\r\n                date: new Date().toISOString()\r\n            };\r\n            const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData, null, 2));\r\n            const a = document.createElement('a');\r\n            a.href = dataStr;\r\n            a.download = `senaryo-${new Date().toLocaleDateString('tr-TR')}.json`;\r\n            a.click();\r\n            showToast(\"Senaryo indirildi\", \"success\");\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleScrollToNextMatch = () => {\r\n        const nextMatch = activeMatches.find(m => !m.isPlayed && !overrides[`${m.homeTeam}-${m.awayTeam}`]);\r\n        if (nextMatch) {\r\n            const id = `match-${nextMatch.homeTeam}-${nextMatch.awayTeam}`;\r\n            const el = document.getElementById(id);\r\n            if (el) {\r\n                el.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n                el.classList.add('ring-2', 'ring-emerald-500');\r\n                setTimeout(() => el.classList.remove('ring-2', 'ring-emerald-500'), 2000);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleImportAllScenarios = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = (evt) => {\r\n            try {\r\n                const json = JSON.parse(evt.target?.result as string);\r\n                if (json.groupScenarios) {\r\n                    const convertedScenarios: Record<string, Record<string, string>> = {};\r\n                    for (const [groupName, groupData] of Object.entries(json.groupScenarios)) {\r\n                        convertedScenarios[groupName] = {};\r\n                        for (const [matchKey, score] of Object.entries(groupData as Record<string, string>)) {\r\n                            const newKey = matchKey.includes('|||') ? matchKey.replace('|||', '-') : matchKey;\r\n                            convertedScenarios[groupName][newKey] = score;\r\n                        }\r\n                    }\r\n                    localStorage.setItem('groupScenarios', JSON.stringify(convertedScenarios));\r\n                    let flat: Record<string, string> = {};\r\n                    Object.values(convertedScenarios).forEach((obj: any) => flat = { ...flat, ...obj });\r\n                    setOverrides(flat);\r\n                }\r\n                showToast(\"Senaryo y├╝klendi\", \"success\");\r\n            } catch (err) { console.error(err); }\r\n        }\r\n        reader.readAsText(file);\r\n        e.target.value = '';\r\n    }\r\n\r\n    // Auto Simulation Logic\r\n    const handleSimulateSmart = () => {\r\n        if (!confirm(`${activeGroup} grubu i├ğin oynanmam─▒┼ş ma├ğlar g├╝ncel g├╝├ğ dengelerine g├Âre doldurulacak. Onayl─▒yor musunuz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        let count = 0;\r\n        const eloRatings = calculateElo(activeTeams, activeMatches.filter(m => m.isPlayed));\r\n        activeMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`${match.homeTeam}-${match.awayTeam}`]) return;\r\n            const homeElo = eloRatings.get(match.homeTeam) || 1200;\r\n            const awayElo = eloRatings.get(match.awayTeam) || 1200;\r\n            const winProb = 1 / (1 + Math.pow(10, (awayElo - homeElo) / 400));\r\n            const randomFactor = (Math.random() * 0.15) - 0.075;\r\n            const finalProb = winProb + randomFactor;\r\n            let score = \"0-0\";\r\n            if (finalProb > 0.60) score = \"3-0\";\r\n            else if (finalProb > 0.55) score = \"3-1\";\r\n            else if (finalProb > 0.50) score = \"3-2\";\r\n            else if (finalProb > 0.45) score = \"2-3\";\r\n            else if (finalProb > 0.40) score = \"1-3\";\r\n            else score = \"0-3\";\r\n            newOverrides[`${match.homeTeam}-${match.awayTeam}`] = score;\r\n            count++;\r\n        });\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ g├╝├ğ dengelerine g├Âre tahmin edildi! ­şğá`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    const handleSimulateRandom = () => {\r\n        if (!confirm(`${activeGroup} grubu i├ğin oynanmam─▒┼ş ma├ğlar RASTGELE skorlarla doldurulacak. Onayl─▒yor musunuz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        let count = 0;\r\n        const scores = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n        activeMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`${match.homeTeam}-${match.awayTeam}`]) return;\r\n            const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n            newOverrides[`${match.homeTeam}-${match.awayTeam}`] = randomScore;\r\n            count++;\r\n        });\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ rastgele tahmin edildi! ­şÄ▓`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-1 sm:p-2 font-sans\">\r\n            <div className=\"w-full max-w-7xl mx-auto flex flex-col h-full gap-2\">\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3 p-2 bg-slate-900/40 rounded-xl border border-slate-800\">\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto\">\r\n                        <div className=\"text-center sm:text-left\">\r\n                            <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">Kad─▒nlar 2. Lig</h1>\r\n                            <p className=\"text-[10px] text-slate-400 hidden sm:block\">Tahmin Oyunu</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2 items-center w-full sm:w-auto\">\r\n                            <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden sm:inline whitespace-nowrap\">GRUP:</span>\r\n                            <select\r\n                                value={activeGroup}\r\n                                onChange={(e) => setSelectedGroup(e.target.value)}\r\n                                title=\"Grup Se├ğin\"\r\n                                className=\"flex-1 sm:flex-none px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold rounded-lg border border-slate-700 hover:border-slate-600 outline-none cursor-pointer transition-all focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500\"\r\n                            >\r\n                                {groups.map(groupName => (\r\n                                    <option key={groupName} value={groupName} className=\"bg-slate-900 text-white py-2\">\r\n                                        {groupName}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2 w-full sm:w-auto pb-1 sm:pb-0 justify-between sm:justify-end flex-wrap sm:flex-nowrap\">\r\n                        <div className=\"flex items-center gap-2 shrink-0\">\r\n                            <div className=\"relative\">\r\n                                <button\r\n                                    onClick={() => setShowAutoMenu(!showAutoMenu)}\r\n                                    className={`px-3 py-1.5 bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-1 shadow-lg shadow-amber-500/20 ${showAutoMenu ? 'ring-2 ring-amber-400' : ''}`}\r\n                                >\r\n                                    <span className=\"hidden sm:inline\">Otomatik</span>\r\n                                    <span className=\"text-[8px] ml-0.5\">Ôû╝</span>\r\n                                </button>\r\n                                {showAutoMenu && (\r\n                                    <>\r\n                                        <div className=\"fixed inset-0 z-40\" onClick={() => setShowAutoMenu(false)}></div>\r\n                                        <div className=\"absolute top-full right-0 sm:left-auto sm:right-0 mt-2 w-48 bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                            <button\r\n                                                onClick={() => { handleSimulateSmart(); setShowAutoMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3 border-b border-slate-800\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">G├╝├ğ Dengelerine G├Âre</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Tak─▒m g├╝├ğlerine g├Âre ger├ğek├ği tahmin</div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => { handleSimulateRandom(); setShowAutoMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">Rastgele Da─ş─▒t</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Tamamen ┼şansa dayal─▒ sonu├ğlar</div>\r\n                                                </div>\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\".json\"\r\n                                onChange={handleImportAllScenarios}\r\n                                className=\"hidden\"\r\n                                id=\"import-upload-2lig\"\r\n                            />\r\n                            <label\r\n                                htmlFor=\"import-upload-2lig\"\r\n                                className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded-lg transition-all cursor-pointer flex items-center gap-1\"\r\n                                title=\"Senaryo Y├╝kle\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Y├╝kle</span>\r\n                            </label>\r\n                            <button\r\n                                onClick={handleSaveAllScenarios}\r\n                                className=\"px-3 py-1.5 bg-emerald-700 hover:bg-emerald-600 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-1\"\r\n                                title=\"Senaryoyu Kaydet\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Kaydet</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"w-px h-4 bg-slate-700 hidden sm:block shrink-0\"></div>\r\n                        <div className=\"flex items-center gap-2 shrink-0\">\r\n                            <button\r\n                                onClick={handleScrollToNextMatch}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white text-xs font-bold rounded-lg transition-all border border-slate-700 flex items-center gap-1\"\r\n                                title=\"Son kald─▒─ş─▒m ma├ğa git\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Kald─▒─ş─▒m Yer</span>\r\n                            </button>\r\n                            <div className=\"relative\">\r\n                                <button\r\n                                    onClick={() => setShowResetMenu(!showResetMenu)}\r\n                                    className={`px-3 py-1.5 bg-slate-800 hover:bg-rose-900/50 text-slate-400 hover:text-rose-400 text-xs font-bold rounded-lg transition-all border border-slate-700 flex items-center gap-1 ${showResetMenu ? 'ring-2 ring-rose-500/50' : ''}`}\r\n                                >\r\n                                    <span className=\"hidden sm:inline\">S─▒f─▒rla</span>\r\n                                    <span className=\"text-[8px] ml-0.5\">Ôû╝</span>\r\n                                </button>\r\n                                {showResetMenu && (\r\n                                    <>\r\n                                        <div className=\"fixed inset-0 z-40\" onClick={() => setShowResetMenu(false)}></div>\r\n                                        <div className=\"absolute top-full right-0 mt-2 w-48 bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                            <button\r\n                                                onClick={() => { handleResetGroup(); setShowResetMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3 border-b border-slate-800\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">Bu Grubu S─▒f─▒rla</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Sadece {activeGroup} silinir</div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => { handleResetAll(); setShowResetMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-rose-900/20 transition-colors flex items-center gap-3 group\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-rose-400 group-hover:text-rose-300\">T├╝m├╝n├╝ S─▒f─▒rla</div>\r\n                                                    <div className=\"text-[9px] text-rose-500/70 group-hover:text-rose-400/70\">B├╝t├╝n tahminler silinir</div>\r\n                                                </div>\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                            <ShareButton\r\n                                targetRef={standingsRef}\r\n                                championName={liveStandings[0]?.name}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    <div className=\"flex flex-col gap-4 relative\">\r\n                        <div ref={standingsRef} className=\"sticky top-14 z-10 max-h-[calc(100vh-120px)] overflow-auto custom-scrollbar\">\r\n                            <StandingsTable teams={liveStandings} initialRanks={initialRanks} compact={true} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <FixtureList\r\n                            matches={activeMatches}\r\n                            overrides={overrides}\r\n                            onScoreChange={handleScoreChange}\r\n                            teamRanks={currentRanks}\r\n                            totalTeams={activeTeams.length}\r\n                            relegationSpots={2}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {newAchievement && (\r\n                <AchievementToast\r\n                    achievement={newAchievement}\r\n                    onClose={() => setNewAchievement(null)}\r\n                />\r\n            )}\r\n            <AchievementsPanel\r\n                isOpen={showAchievements}\r\n                onClose={() => setShowAchievements(false)}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\2lig\\tahminoyunu\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\anasayfa\\AnasayfaClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport dynamic from \"next/dynamic\";\r\nimport Link from \"next/link\";\r\nimport { useState, useMemo } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useGameState, getLevelTitle, getXPForNextLevel } from \"../utils/gameState\";\r\nimport { useTutorial } from \"../components/TutorialModal\";\r\nimport { LEVEL_THRESHOLDS, TeamStats, Match } from \"../types\";\r\nimport TeamAvatar from \"../components/TeamAvatar\";\r\n\r\nconst TutorialModal = dynamic(() => import(\"../components/TutorialModal\").then(mod => ({ default: mod.default })), {\r\n    loading: () => null,\r\n    ssr: false,\r\n});\r\n\r\n\r\ninterface AnasayfaClientProps {\r\n    initialLig1: { teams: TeamStats[], fixture: Match[] };\r\n    initialLig2: { teams: TeamStats[], fixture: Match[] };\r\n    initialVsl: { teams: TeamStats[], fixture: Match[] };\r\n}\r\n\r\nconst sortStandings = (teams: TeamStats[]): TeamStats[] => {\r\n    return [...teams].sort((a, b) => {\r\n        if (b.points !== a.points) return b.points - a.points;\r\n        const aAvg = a.setsLost > 0 ? a.setsWon / a.setsLost : a.setsWon;\r\n        const bAvg = b.setsLost > 0 ? b.setsWon / b.setsLost : b.setsWon;\r\n        if (bAvg !== aAvg) return bAvg - aAvg;\r\n        return b.setsWon - a.setsWon;\r\n    });\r\n};\r\n\r\nexport default function AnasayfaClient({ initialLig1, initialLig2, initialVsl }: AnasayfaClientProps) {\r\n    const { user } = useAuth();\r\n    const { gameState } = useGameState();\r\n    const { showTutorial, closeTutorial } = useTutorial();\r\n\r\n    // XP Progress calculation\r\n    const currentLevelXP = LEVEL_THRESHOLDS[gameState.level - 1] || 0;\r\n    const nextLevelXP = getXPForNextLevel(gameState.level);\r\n    const progress = gameState.xp - currentLevelXP;\r\n    const required = nextLevelXP - currentLevelXP;\r\n    const percentage = (progress / required) * 100;\r\n\r\n    // Derived State\r\n    const lig1Groups = useMemo(() => [...new Set(initialLig1.teams.map(t => t.groupName))].sort(), [initialLig1.teams]);\r\n    const lig2Groups = useMemo(() => [...new Set(initialLig2.teams.map(t => t.groupName))].sort(), [initialLig2.teams]);\r\n\r\n    const lig1TopTeams = useMemo(() => sortStandings(initialLig1.teams.filter(t => t.groupName === lig1Groups[0])).slice(0, 3), [initialLig1.teams, lig1Groups]);\r\n    const lig2TopTeams = useMemo(() => sortStandings(initialLig2.teams.filter(t => t.groupName === lig2Groups[0])).slice(0, 3), [initialLig2.teams, lig2Groups]);\r\n    const vslTopTeams = useMemo(() => sortStandings(initialVsl.teams).slice(0, 3), [initialVsl.teams]);\r\n\r\n    const lig1UpcomingMatches = useMemo(() => initialLig1.fixture.filter(m => !m.isPlayed).slice(0, 3), [initialLig1.fixture]);\r\n    const lig2UpcomingMatches = useMemo(() => initialLig2.fixture.filter(m => !m.isPlayed).slice(0, 3), [initialLig2.fixture]);\r\n    const vslUpcomingMatches = useMemo(() => initialVsl.fixture.filter(m => !m.isPlayed).slice(0, 3), [initialVsl.fixture]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950\">\r\n            {/* Hero Header */}\r\n            <div className=\"bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 px-4 py-6 relative overflow-hidden\">\r\n                <div className=\"relative max-w-4xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white mb-1\">\r\n                                Ho┼ş Geldin, {user?.user_metadata?.name || 'Oyuncu'}!\r\n                            </h1>\r\n                            <p className=\"text-white/70 text-sm\">{getLevelTitle(gameState.level)}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <div className=\"text-3xl font-bold text-white\">Lv.{gameState.level}</div>\r\n                            <div className=\"text-xs text-white/60\">{gameState.xp} XP</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* XP Progress Bar */}\r\n                    <div className=\"mt-4\">\r\n                        <div className=\"h-2 bg-white/20 rounded-full overflow-hidden\">\r\n                            <div\r\n                                className=\"h-full bg-gradient-to-r from-amber-400 to-orange-400 transition-all duration-500\"\r\n                                style={{ width: `${Math.min(percentage, 100)}%` }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex justify-between text-xs text-white/60 mt-1\">\r\n                            <span>{progress} / {required} XP</span>\r\n                            <span>{gameState.achievements.length} Ba┼şar─▒m</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-4xl mx-auto px-4 mt-4 space-y-6 pb-6\">\r\n\r\n                {/* Quick Actions */}\r\n                <div className=\"grid grid-cols-3 gap-3\">\r\n                    <Link\r\n                        href=\"/vsl/tahminoyunu\"\r\n                        className=\"bg-gradient-to-br from-red-600 to-rose-700 rounded-2xl p-4 text-center shadow-xl shadow-red-500/20 hover:scale-[1.02] transition-all\"\r\n                    >\r\n                        <div className=\"font-bold text-white text-lg mb-1\">Volley</div>\r\n                        <div className=\"font-bold text-white\">Sultanlar Ligi</div>\r\n                        <div className=\"text-xs text-white/60\">Tahmin Oyunu</div>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/1lig/tahminoyunu\"\r\n                        className=\"bg-gradient-to-br from-amber-600 to-orange-700 rounded-2xl p-4 text-center shadow-xl shadow-amber-500/20 hover:scale-[1.02] transition-all\"\r\n                    >\r\n                        <div className=\"font-bold text-white text-lg mb-1\">1. Lig</div>\r\n                        <div className=\"font-bold text-white\">Kad─▒nlar</div>\r\n                        <div className=\"text-xs text-white/60\">Tahmin Oyunu</div>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/2lig/tahminoyunu\"\r\n                        className=\"bg-gradient-to-br from-emerald-600 to-teal-700 rounded-2xl p-4 text-center shadow-xl shadow-emerald-500/20 hover:scale-[1.02] transition-all\"\r\n                    >\r\n                        <div className=\"font-bold text-white text-lg mb-1\">2. Lig</div>\r\n                        <div className=\"font-bold text-white\">Kad─▒nlar</div>\r\n                        <div className=\"text-xs text-white/60\">Tahmin Oyunu</div>\r\n                    </Link>\r\n                </div>\r\n\r\n                {/* 1. Lig Summary */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-amber-600 to-orange-600 px-4 py-3 flex items-center justify-between\">\r\n                        <h2 className=\"font-bold text-white flex items-center gap-2\">\r\n                            Arabica Coffee House 1. Lig\r\n                        </h2>\r\n                        <Link href=\"/1lig/gunceldurum\" className=\"text-xs text-white/80 hover:text-white\">\r\n                            T├╝m├╝n├╝ G├Âr ÔåÆ\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"p-4 grid md:grid-cols-2 gap-4\">\r\n                        {/* Standings Preview */}\r\n                        <div>\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-2\">Puan Durumu ({lig1Groups[0]})</h3>\r\n                            <div className=\"space-y-1\">\r\n                                {lig1TopTeams.map((team, i) => (\r\n                                    <div key={team.name} className=\"flex items-center gap-2 p-2 bg-slate-800/50 rounded-lg\">\r\n                                        <div className={`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${i === 0 ? \"bg-amber-500 text-white\" : \"bg-slate-700 text-slate-400\"\r\n                                            }`}>{i + 1}</div>\r\n                                        <TeamAvatar name={team.name} size=\"xs\" />\r\n                                        <span className=\"flex-1 text-sm text-slate-300 truncate\">{team.name}</span>\r\n                                        <span className=\"text-xs text-slate-400\">{team.played}M</span>\r\n                                        <span className=\"font-bold text-white text-sm\">{team.points}P</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Upcoming Matches */}\r\n                        <div>\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-2\">Yakla┼şan Ma├ğlar</h3>\r\n                            <div className=\"space-y-1\">\r\n                                {lig1UpcomingMatches.map((match, i) => (\r\n                                    <div key={i} className=\"flex items-center gap-2 p-2 bg-slate-800/50 rounded-lg text-xs\">\r\n                                        <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                        <span className=\"flex-1 text-slate-300 truncate text-right\">{match.homeTeam}</span>\r\n                                        <span className=\"px-2 py-0.5 bg-slate-700 rounded text-slate-300\">vs</span>\r\n                                        <span className=\"flex-1 text-slate-300 truncate\">{match.awayTeam}</span>\r\n                                        <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Vodafone Sultanlar Ligi Summary */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-red-600 to-rose-600 px-4 py-3 flex items-center justify-between\">\r\n                        <h2 className=\"font-bold text-white flex items-center gap-2\">\r\n                            Vodafone Sultanlar Ligi\r\n                        </h2>\r\n                        <Link href=\"/vsl/gunceldurum\" className=\"text-xs text-white/80 hover:text-white\">\r\n                            T├╝m├╝n├╝ G├Âr ÔåÆ\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"p-4 grid md:grid-cols-2 gap-4\">\r\n                        {/* Standings Preview */}\r\n                        <div>\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-2\">Puan Durumu</h3>\r\n                            <div className=\"space-y-1\">\r\n                                {vslTopTeams.map((team, i) => (\r\n                                    <div key={team.name} className=\"flex items-center gap-2 p-2 bg-slate-800/50 rounded-lg\">\r\n                                        <div className={`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${i === 0 ? \"bg-red-600 text-white\" : \"bg-slate-700 text-slate-400\"\r\n                                            }`}>{i + 1}</div>\r\n                                        <TeamAvatar name={team.name} size=\"xs\" />\r\n                                        <span className=\"flex-1 text-sm text-slate-300 truncate\">{team.name}</span>\r\n                                        <span className=\"text-xs text-slate-400\">{team.played}M</span>\r\n                                        <span className=\"font-bold text-white text-sm\">{team.points}P</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Upcoming Matches */}\r\n                        <div>\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-2\">Yakla┼şan Ma├ğlar</h3>\r\n                            <div className=\"space-y-1\">\r\n                                {vslUpcomingMatches.map((match, i) => (\r\n                                    <div key={i} className=\"flex items-center gap-2 p-2 bg-slate-800/50 rounded-lg text-xs\">\r\n                                        <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                        <span className=\"flex-1 text-slate-300 truncate text-right\">{match.homeTeam}</span>\r\n                                        <span className=\"px-2 py-0.5 bg-slate-700 rounded text-slate-300\">vs</span>\r\n                                        <span className=\"flex-1 text-slate-300 truncate\">{match.awayTeam}</span>\r\n                                        <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 2. Lig Summary */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-emerald-600 to-teal-600 px-4 py-3 flex items-center justify-between\">\r\n                        <h2 className=\"font-bold text-white flex items-center gap-2\">\r\n                            Kad─▒nlar 2. Lig\r\n                        </h2>\r\n                        <Link href=\"/2lig/gunceldurum\" className=\"text-xs text-white/80 hover:text-white\">\r\n                            T├╝m├╝n├╝ G├Âr ÔåÆ\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"p-4 grid md:grid-cols-2 gap-4\">\r\n                        {/* Standings Preview */}\r\n                        <div>\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-2\">Puan Durumu ({lig2Groups[0]})</h3>\r\n                            <div className=\"space-y-1\">\r\n                                {lig2TopTeams.map((team, i) => (\r\n                                    <div key={team.name} className=\"flex items-center gap-2 p-2 bg-slate-800/50 rounded-lg\">\r\n                                        <div className={`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${i === 0 ? \"bg-emerald-500 text-white\" : \"bg-slate-700 text-slate-400\"\r\n                                            }`}>{i + 1}</div>\r\n                                        <TeamAvatar name={team.name} size=\"xs\" />\r\n                                        <span className=\"flex-1 text-sm text-slate-300 truncate\">{team.name}</span>\r\n                                        <span className=\"text-xs text-slate-400\">{team.played}M</span>\r\n                                        <span className=\"font-bold text-white text-sm\">{team.points}P</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Upcoming Matches */}\r\n                        <div>\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-2\">Yakla┼şan Ma├ğlar</h3>\r\n                            <div className=\"space-y-1\">\r\n                                {lig2UpcomingMatches.map((match, i) => (\r\n                                    <div key={i} className=\"flex items-center gap-2 p-2 bg-slate-800/50 rounded-lg text-xs\">\r\n                                        <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                        <span className=\"flex-1 text-slate-300 truncate text-right\">{match.homeTeam}</span>\r\n                                        <span className=\"px-2 py-0.5 bg-slate-700 rounded text-slate-300\">vs</span>\r\n                                        <span className=\"flex-1 text-slate-300 truncate\">{match.awayTeam}</span>\r\n                                        <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Stats Card */}\r\n                <div className=\"grid grid-cols-4 gap-2\">\r\n                    <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-3 text-center\">\r\n                        <div className=\"text-xl font-bold text-amber-400\">{gameState.stats.totalPredictions}</div>\r\n                        <div className=\"text-[10px] text-slate-400\">Tahmin</div>\r\n                    </div>\r\n                    <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-3 text-center\">\r\n                        <div className=\"text-xl font-bold text-emerald-400\">{gameState.stats.correctPredictions}</div>\r\n                        <div className=\"text-[10px] text-slate-400\">Do─şru</div>\r\n                    </div>\r\n                    <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-3 text-center\">\r\n                        <div className=\"text-xl font-bold text-orange-400\">{gameState.stats.bestStreak}</div>\r\n                        <div className=\"text-[10px] text-slate-400\">En ─░yi Seri</div>\r\n                    </div>\r\n                    <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-3 text-center\">\r\n                        <div className=\"text-xl font-bold text-cyan-400\">{gameState.achievements.length}</div>\r\n                        <div className=\"text-[10px] text-slate-400\">Ba┼şar─▒m</div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Changelog */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-purple-600 to-indigo-600 px-4 py-3 flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-lg\">­şåò</span>\r\n                            <h2 className=\"font-bold text-white\">Son G├╝ncellemeler</h2>\r\n                        </div>\r\n                        <span className=\"text-xs font-mono bg-white/20 px-2 py-0.5 rounded text-white/80\">v1.2.0</span>\r\n                    </div>\r\n                    <div className=\"p-4 space-y-3\">\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-emerald-600/30 text-emerald-400 px-1.5 py-0.5 rounded flex-shrink-0\">v1.2.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">Oynanm─▒┼ş ma├ğlar art─▒k do─şru g├Âsteriliyor</div>\r\n                                <div className=\"text-xs text-slate-500\">3 Ocak 2026</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-emerald-600/30 text-emerald-400 px-1.5 py-0.5 rounded flex-shrink-0\">v1.2.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">Puan tablolar─▒ art─▒k ekrana s─▒─ş─▒yor</div>\r\n                                <div className=\"text-xs text-slate-500\">3 Ocak 2026</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-emerald-600/30 text-emerald-400 px-1.5 py-0.5 rounded flex-shrink-0\">v1.2.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">Ma├ğ saatleri art─▒k t├╝m ma├ğlarda g├Âr├╝n├╝yor</div>\r\n                                <div className=\"text-xs text-slate-500\">3 Ocak 2026</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-emerald-600/30 text-emerald-400 px-1.5 py-0.5 rounded flex-shrink-0\">v1.2.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">─░statistik kartlar─▒ daha kompakt ve ┼ş─▒k hale getirildi</div>\r\n                                <div className=\"text-xs text-slate-500\">3 Ocak 2026</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-blue-600/30 text-blue-400 px-1.5 py-0.5 rounded flex-shrink-0\">v1.1.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">CEV ┼Şampiyonlar Ligi, CEV Cup ve Challenge Cup eklendi</div>\r\n                                <div className=\"text-xs text-slate-500\">Aral─▒k 2025</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-purple-600/30 text-purple-400 px-1.5 py-0.5 rounded flex-shrink-0\">v1.0.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">Tahmin oyunu ve liderlik tablosu sistemi eklendi</div>\r\n                                <div className=\"text-xs text-slate-500\">Aral─▒k 2025</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 items-start\">\r\n                            <span className=\"text-[10px] font-mono bg-slate-600/30 text-slate-400 px-1.5 py-0.5 rounded flex-shrink-0\">v0.0.0</span>\r\n                            <div>\r\n                                <div className=\"text-sm font-medium text-white\">VolleySimulator ilk s├╝r├╝m yay─▒nland─▒</div>\r\n                                <div className=\"text-xs text-slate-500\">Kas─▒m 2025</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tutorial Modal */}\r\n            <TutorialModal isOpen={showTutorial} onClose={closeTutorial} />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\anasayfa\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\1lig\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'req' is defined but never used.","line":8,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":30},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[657,660],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[657,660],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[755,758],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[755,758],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\n// Revalidate every 5 minutes\r\nexport const revalidate = 300;\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        // Read the 1. Lig data from local JSON file\r\n        const dataPath = path.join(process.cwd(), 'data', '1lig-data.json');\r\n        const jsonData = fs.readFileSync(dataPath, 'utf-8');\r\n        const data = JSON.parse(jsonData);\r\n\r\n        // Filter out withdrawn teams (ligden ├ğekilen tak─▒mlar)\r\n        const withdrawnTeams = ['Edremit Bld. Alt─▒noluk', '─░zmirspor'];\r\n\r\n        data.teams = data.teams.filter((team: any) => !withdrawnTeams.includes(team.name));\r\n        data.fixture = data.fixture.filter((match: any) =>\r\n            !withdrawnTeams.includes(match.homeTeam) && !withdrawnTeams.includes(match.awayTeam)\r\n        );\r\n\r\n        // Return with cache headers\r\n        return NextResponse.json(data, {\r\n            headers: {\r\n                'Cache-Control': 'public, s-maxage=300, stale-while-revalidate=600',\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Error reading 1. Lig data:', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to load 1. Lig data' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\ai\\analysis\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\ai\\prediction\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'league' is assigned a value but never used.","line":7,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\n// POST /api/ai/prediction - Get AI prediction for a match\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json();\r\n    const { matchId, homeTeam, awayTeam, league } = body;\r\n\r\n    if (!homeTeam || !awayTeam) {\r\n      return NextResponse.json({ error: 'Home and away teams are required' }, { status: 400 });\r\n    }\r\n\r\n    // In production, this would call an ML model or prediction service\r\n    // For now, generate a mock prediction based on team names\r\n\r\n    // Simulate some AI processing time\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n    // Generate prediction probabilities (mock)\r\n    const homeStrength = getTeamStrength(homeTeam);\r\n    const awayStrength = getTeamStrength(awayTeam);\r\n    const total = homeStrength + awayStrength;\r\n\r\n    const homeWinProb = Math.round((homeStrength / total) * 100);\r\n    const awayWinProb = 100 - homeWinProb;\r\n\r\n    // Generate predicted score (mock)\r\n    const predictedSets = homeWinProb > awayWinProb \r\n      ? generateSetScore(true) \r\n      : generateSetScore(false);\r\n\r\n    const prediction = {\r\n      matchId: matchId || `${homeTeam}-vs-${awayTeam}`,\r\n      homeTeam,\r\n      awayTeam,\r\n      prediction: {\r\n        homeWinProbability: homeWinProb,\r\n        awayWinProbability: awayWinProb,\r\n        predictedWinner: homeWinProb > awayWinProb ? 'home' : 'away',\r\n        predictedScore: predictedSets.join('-'),\r\n        confidence: Math.abs(homeWinProb - 50) + 50,\r\n        reasoning: generateReasoning(homeTeam, awayTeam, homeWinProb > awayWinProb),\r\n      },\r\n      factors: {\r\n        recentForm: {\r\n          home: Math.floor(Math.random() * 30) + 60,\r\n          away: Math.floor(Math.random() * 30) + 60,\r\n        },\r\n        headToHead: {\r\n          home: Math.floor(Math.random() * 5),\r\n          away: Math.floor(Math.random() * 5),\r\n        },\r\n        homeAdvantage: 5 + Math.floor(Math.random() * 10),\r\n        injuries: Math.random() > 0.7 ? 'minor' : 'none',\r\n      },\r\n      generatedAt: new Date().toISOString(),\r\n    };\r\n\r\n    return NextResponse.json({ prediction });\r\n  } catch (error) {\r\n    console.error('Error generating AI prediction:', error);\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n  }\r\n}\r\n\r\n// Helper functions\r\nfunction getTeamStrength(teamName: string): number {\r\n  // Mock team strengths based on known teams\r\n  const strengths: Record<string, number> = {\r\n    'FENERBAH├çE MEDICANA': 95,\r\n    'ECZACIBA┼ŞI DYNAV─░T': 93,\r\n    'VAKIFBANK': 94,\r\n    'GALATASARAY DAIKIN': 88,\r\n    'THY': 82,\r\n    'N─░L├£FER BELED─░YESPOR': 78,\r\n    'BE┼Ş─░KTA┼Ş': 75,\r\n    'ARAS KARGO': 72,\r\n    'KUZEYBORU─░STANBUL': 68,\r\n    'SIGORTA SHOP': 65,\r\n    'PTT': 62,\r\n    'TOKAT BELED─░YE PLEVNE': 58,\r\n  };\r\n\r\n  return strengths[teamName] || 70 + Math.floor(Math.random() * 20);\r\n}\r\n\r\nfunction generateSetScore(homeWins: boolean): number[] {\r\n  const outcomes = [\r\n    [3, 0], [3, 1], [3, 2],\r\n    [0, 3], [1, 3], [2, 3]\r\n  ];\r\n  \r\n  const homeOutcomes = outcomes.filter(o => homeWins ? o[0] > o[1] : o[0] < o[1]);\r\n  return homeOutcomes[Math.floor(Math.random() * homeOutcomes.length)];\r\n}\r\n\r\nfunction generateReasoning(homeTeam: string, awayTeam: string, homeWins: boolean): string[] {\r\n  const winner = homeWins ? homeTeam : awayTeam;\r\n  const loser = homeWins ? awayTeam : homeTeam;\r\n\r\n  const reasons = [\r\n    `${winner} son 5 ma├ğta 4 galibiyet ald─▒`,\r\n    `${winner} tak─▒m─▒ ev sahibi avantaj─▒n─▒ kullan─▒yor`,\r\n    `${winner} servis istatistiklerinde ├╝st├╝n`,\r\n    `${loser} tak─▒m─▒nda sakat oyuncular var`,\r\n    `${winner} head-to-head istatistiklerinde ├Ânde`,\r\n    `${winner} blok etkinli─şinde daha ba┼şar─▒l─▒`,\r\n    `${winner} tak─▒m─▒ h├╝cum etkinli─şinde %5 daha iyi`,\r\n  ];\r\n\r\n  // Return 3-4 random reasons\r\n  const shuffled = reasons.sort(() => Math.random() - 0.5);\r\n  return shuffled.slice(0, 3 + Math.floor(Math.random() * 2));\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\calculate\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2715,2718],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2715,2718],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":97,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3997,4000],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3997,4000],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":99,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4091,4094],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4091,4094],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":152,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6313,6316],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6313,6316],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { GoogleGenerativeAI } from '@google/generative-ai';\r\nimport { calculateElo } from '../../utils/eloCalculator';\r\nimport { normalizeTeamName, sortStandings } from '../../utils/calculatorUtils';\r\nimport { TeamStats, Match, MatchOutcome } from '../../types';\r\n\r\n// Helper to simulate a single match outcome based on Elo\r\nfunction simulateMatch(homeElo: number, awayElo: number): MatchOutcome {\r\n    const expectedHome = 1 / (1 + Math.pow(10, (awayElo - homeElo) / 400));\r\n    const random = Math.random();\r\n    const homeWin = random < expectedHome;\r\n\r\n    // Simplified score distribution\r\n    // If very clear winner (prob > 0.8), likely 3-0 or 3-1\r\n    // If close (prob ~ 0.5), likely 3-2\r\n\r\n    let hSets = 0, aSets = 0;\r\n\r\n    if (homeWin) {\r\n        hSets = 3;\r\n        // Prob of 3-0 vs 3-1 vs 3-2\r\n        const dominance = expectedHome; // 0.5 to 1.0\r\n        const r2 = Math.random();\r\n        if (dominance > 0.8) aSets = r2 < 0.7 ? 0 : 1;\r\n        else if (dominance > 0.6) aSets = r2 < 0.5 ? 1 : 2;\r\n        else aSets = 2; // Close match\r\n    } else {\r\n        aSets = 3;\r\n        const dominance = 1 - expectedHome; // 0.5 to 1.0\r\n        const r2 = Math.random();\r\n        if (dominance > 0.8) hSets = r2 < 0.7 ? 0 : 1;\r\n        else if (dominance > 0.6) hSets = r2 < 0.5 ? 1 : 2;\r\n        else hSets = 2;\r\n    }\r\n\r\n    let hPoints = 0, aPoints = 0;\r\n    if (hSets === 3) {\r\n        if (aSets <= 1) hPoints = 3;\r\n        else { hPoints = 2; aPoints = 1; }\r\n    } else {\r\n        if (hSets <= 1) aPoints = 3;\r\n        else { aPoints = 2; hPoints = 1; }\r\n    }\r\n\r\n    return { homeSets: hSets, awaySets: aSets, homePoints: hPoints, awayPoints: aPoints, homeWin };\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const body = await req.json();\r\n        const { teams, fixture, targetTeam, overrides } = body;\r\n\r\n        if (!teams || !targetTeam) {\r\n            return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 });\r\n        }\r\n\r\n        // 1. Calculate Base Elo from History\r\n        const eloMap = calculateElo(teams, fixture);\r\n\r\n        // 2. Identify Unplayed Matches (excluding overrides if they are treated as played upstream)\r\n        // The fixture passed usually contains ALL matches. We filter for unplayed.\r\n        // Overrides passed are ALREADY applied to 'teams' (live standings) in the frontend?\r\n        // Actually, the frontend passed 'sortedTeams' which includes applied overrides. \r\n        // AND it passed 'overrides' array.\r\n        // We should simulate matches that are NOT in overrides and NOT played.\r\n\r\n        const overrideIds = new Set(overrides.map((o: any) => `${o.homeTeam}|||${o.awayTeam}`));\r\n\r\n        const matchesToSimulate = (fixture as Match[]).filter(m =>\r\n            !m.isPlayed &&\r\n            !overrideIds.has(`${m.homeTeam}|||${m.awayTeam}`)\r\n        );\r\n\r\n        // If no matches left, just return current rank\r\n        if (matchesToSimulate.length === 0) {\r\n            const index = teams.findIndex((t: TeamStats) => t.name === targetTeam);\r\n            return NextResponse.json({\r\n                bestRank: index + 1,\r\n                worstRank: index + 1,\r\n                championshipProbability: index === 0 ? 100 : 0,\r\n                playoffProbability: index < 4 ? 100 : 0,\r\n                relegationProbability: index >= teams.length - 2 ? 100 : 0,\r\n                aiAnalysis: \"T├╝m ma├ğlar tamamland─▒ veya tahmin edildi.\"\r\n            });\r\n        }\r\n\r\n        // 3. Run Monte Carlo Simulation\r\n        const SIMULATIONS = 1000;\r\n        const ranks: number[] = [];\r\n\r\n        // Deep clone for base state\r\n        // Optimize: Convert teams to simpler struct for speed\r\n        const baseTeams = teams.map((t: TeamStats) => ({ ...t, normalizedName: normalizeTeamName(t.name) }));\r\n\r\n        for (let i = 0; i < SIMULATIONS; i++) {\r\n            // Copy state\r\n            const simTeams = baseTeams.map((t: any) => ({ ...t }));\r\n            const simMap = new Map();\r\n            simTeams.forEach((t: any) => simMap.set(t.normalizedName, t));\r\n\r\n            for (const m of matchesToSimulate) {\r\n                const hName = normalizeTeamName(m.homeTeam);\r\n                const aName = normalizeTeamName(m.awayTeam);\r\n                const hElo = eloMap.get(m.homeTeam) || 1200;\r\n                const aElo = eloMap.get(m.awayTeam) || 1200;\r\n\r\n                const outcome = simulateMatch(hElo, aElo);\r\n\r\n                const h = simMap.get(hName);\r\n                const a = simMap.get(aName);\r\n\r\n                if (h && a) {\r\n                    h.played++;\r\n                    h.wins += outcome.homeWin ? 1 : 0;\r\n                    h.points += outcome.homePoints;\r\n                    h.setsWon += outcome.homeSets;\r\n                    h.setsLost += outcome.awaySets;\r\n\r\n                    a.played++;\r\n                    a.wins += outcome.homeWin ? 0 : 1;\r\n                    a.points += outcome.awayPoints;\r\n                    a.setsWon += outcome.awaySets;\r\n                    a.setsLost += outcome.homeSets;\r\n                }\r\n            }\r\n\r\n            // Sort\r\n            const sorted = sortStandings(simTeams);\r\n            const rank = sorted.findIndex(t => t.name === targetTeam) + 1;\r\n            ranks.push(rank);\r\n        }\r\n\r\n        // 4. Statistics\r\n        const bestRank = Math.min(...ranks);\r\n        const worstRank = Math.max(...ranks);\r\n        const champCount = ranks.filter(r => r === 1).length;\r\n        const playoffCount = ranks.filter(r => r <= 4).length; // Top 4\r\n        // Relegation: Last 2 (assuming 16 teams? Or group specific logic?)\r\n        // Group size varies (e.g. 9 teams). Relegation is usually last 2.\r\n        const delegationThreshold = teams.length - 1; // 8th and 9th if 9 teams\r\n        const relCount = ranks.filter(r => r >= delegationThreshold).length;\r\n\r\n        // 5. AI Analysis\r\n        let aiAnalysis = \"Analiz olu┼şturulamad─▒.\";\r\n        if (process.env.GEMINI_API_KEY) {\r\n            try {\r\n                const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\n                const model = genAI.getGenerativeModel({ model: \"gemini-pro\" });\r\n\r\n                const context = `\r\nTak─▒m: ${targetTeam}\r\nMevcut Puan: ${teams.find((t: any) => t.name === targetTeam)?.points}\r\nKalan Ma├ğ Say─▒s─▒: ${matchesToSimulate.length}\r\nSim├╝lasyon Sonu├ğlar─▒ (1000 tekrar):\r\n- En ─░yi S─▒ra: ${bestRank}\r\n- En K├Ât├╝ S─▒ra: ${worstRank}\r\n- ┼Şampiyonluk ─░htimali: %${(champCount / SIMULATIONS * 100).toFixed(1)}\r\n- Play-off ─░htimali: %${(playoffCount / SIMULATIONS * 100).toFixed(1)}\r\n- D├╝┼şme ─░htimali: %${(relCount / SIMULATIONS * 100).toFixed(1)}\r\n\r\nBu tak─▒m i├ğin k─▒sa, esprili ve motive edici bir analiz yaz. Voleybol terimleri kullan.\r\n`;\r\n                const result = await model.generateContent(context);\r\n                aiAnalysis = result.response.text();\r\n            } catch (e) {\r\n                console.error(\"AI Error:\", e);\r\n                aiAnalysis = \"AI servisine ┼şu an ula┼ş─▒lam─▒yor, ancak istatistikler g├╝ncel.\";\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({\r\n            bestRank,\r\n            worstRank,\r\n            championshipProbability: (champCount / SIMULATIONS) * 100,\r\n            playoffProbability: (playoffCount / SIMULATIONS) * 100,\r\n            relegationProbability: (relCount / SIMULATIONS) * 100,\r\n            aiAnalysis\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        return NextResponse.json({ error: \"Internal Server Error\" }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\cev-challenge\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1612,1615],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1612,1615],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport async function GET() {\r\n    try {\r\n        const filePath = path.join(process.cwd(), 'data', 'cev-challenge-cup-data.json');\r\n\r\n        if (!fs.existsSync(filePath)) {\r\n            return NextResponse.json({ league: 'CEV Challenge Cup', fixture: [], teams: [] });\r\n        }\r\n\r\n        const fileContent = fs.readFileSync(filePath, 'utf8');\r\n        const sourceData = JSON.parse(fileContent);\r\n\r\n        // Transform to CEV Cup format\r\n        // Transform to CEV Cup format\r\n        interface Match {\r\n            id: number;\r\n            round: string;\r\n            leg: number;\r\n            date: string;\r\n            matchTime: string;\r\n            homeTeam: string;\r\n            awayTeam: string;\r\n            homeScore: number | null;\r\n            awayScore: number | null;\r\n            setScores: string;\r\n            isPlayed: boolean;\r\n            venue: string;\r\n        }\r\n        const fixture: Match[] = [];\r\n        const teamsMap = new Map();\r\n\r\n        // Helper to parse score \"3-0\" -> { home: 3, away: 0 }\r\n        const parseScore = (scoreStr: string | null) => {\r\n            if (!scoreStr || !scoreStr.includes('-')) return { home: null, away: null };\r\n            const parts = scoreStr.split('-').map(p => parseInt(p.trim()));\r\n            return { home: isNaN(parts[0]) ? null : parts[0], away: isNaN(parts[1]) ? null : parts[1] };\r\n        };\r\n\r\n        let matchCounter = 1;\r\n\r\n        if (sourceData.phases) {\r\n            sourceData.phases.forEach((phase: { name: string; matches: any[] }) => {\r\n                const roundName = phase.name; // e.g., \"Qualification Rounds\", \"Main Round\"\r\n                // Map generic phase names to CEV Cup expected rounds if needed, or update the UI constants.\r\n                // For now, let's keep original names but might need mapping for bracket logic.\r\n\r\n                phase.matches.forEach((m: { score: string; date: string; homeTeam: string; awayTeam: string; sets: string; isPlayed: boolean }) => {\r\n                    const { home, away } = parseScore(m.score);\r\n\r\n                    // Add teams\r\n                    if (!teamsMap.has(m.homeTeam)) teamsMap.set(m.homeTeam, { name: m.homeTeam, country: '' });\r\n                    if (!teamsMap.has(m.awayTeam)) teamsMap.set(m.awayTeam, { name: m.awayTeam, country: '' });\r\n\r\n                    fixture.push({\r\n                        id: matchCounter++,\r\n                        round: roundName,\r\n                        leg: 1, // Challenge Cup scraper doesn't detect leg yet, default to 1 or logic needed\r\n                        date: m.date || 'TBD',\r\n                        matchTime: '', // Scraper didn't separate time\r\n                        homeTeam: m.homeTeam,\r\n                        awayTeam: m.awayTeam,\r\n                        homeScore: home,\r\n                        awayScore: away,\r\n                        setScores: m.sets,\r\n                        isPlayed: m.isPlayed,\r\n                        venue: ''\r\n                    });\r\n                });\r\n            });\r\n        }\r\n\r\n        return NextResponse.json({\r\n            league: \"CEV Challenge Cup\",\r\n            season: \"2025-2026\",\r\n            currentStage: \"Main Round\", // Default or derive\r\n            teams: Array.from(teamsMap.values()),\r\n            fixture: fixture\r\n        });\r\n    } catch (error) {\r\n        console.error('Error reading CEV Challenge Cup data:', error);\r\n        return NextResponse.json({ error: 'Failed to load data' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\cev-cl\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'req' is defined but never used.","line":5,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        // Read the CEV CL data from local JSON file\r\n        const dataPath = path.join(process.cwd(), 'data', 'cev-cl-data.json');\r\n\r\n        if (!fs.existsSync(dataPath)) {\r\n            return NextResponse.json(\r\n                { error: 'Data file not found.' },\r\n                { status: 404 }\r\n            );\r\n        }\r\n\r\n        const jsonData = fs.readFileSync(dataPath, 'utf-8');\r\n        const data = JSON.parse(jsonData);\r\n\r\n        return NextResponse.json(data);\r\n    } catch (error) {\r\n        console.error('Error reading CEV CL data:', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to load CEV CL data' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\cev-cup\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'req' is defined but never used.","line":5,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        // Read the CEV Cup data from local JSON file\r\n        const dataPath = path.join(process.cwd(), 'data', 'cev-cup-data.json');\r\n\r\n        if (!fs.existsSync(dataPath)) {\r\n            return NextResponse.json(\r\n                { error: 'Data file not found.' },\r\n                { status: 404 }\r\n            );\r\n        }\r\n\r\n        const jsonData = fs.readFileSync(dataPath, 'utf-8');\r\n        const data = JSON.parse(jsonData);\r\n\r\n        return NextResponse.json(data);\r\n    } catch (error) {\r\n        console.error('Error reading CEV Cup data:', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to load CEV Cup data' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\cron\\update-results\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'reverseMapping' is assigned a value but never used.","line":124,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":124,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":200,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":200,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":238,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":238,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9475,9478],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9475,9478],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport * as cheerio from 'cheerio';\r\nimport { createServiceRoleClient } from '../../../utils/supabase-server';\r\n\r\n// Cron job endpoint - fetches all league results from TVF Calendar (Takvim)\r\n// Updates VSL, 1. Lig, and 2. Lig in one pass\r\n\r\nexport const dynamic = 'force-dynamic';\r\nexport const maxDuration = 60; // Allow up to 60 seconds\r\n\r\nconst TVF_TAKVIM_URL = \"https://fikstur.tvf.org.tr/Takvim\";\r\n\r\ninterface MatchResult {\r\n    league: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number;\r\n    awayScore: number;\r\n    resultScore: string;\r\n}\r\n\r\nasync function fetchAllLeagueResults(): Promise<MatchResult[]> {\r\n    try {\r\n        const response = await fetch(TVF_TAKVIM_URL, {\r\n            headers: {\r\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n            },\r\n            next: { revalidate: 0 }\r\n        });\r\n\r\n        if (!response.ok) {\r\n            console.error(`TVF Calendar fetch failed: ${response.status}`);\r\n            return [];\r\n        }\r\n\r\n        const html = await response.text();\r\n        const $ = cheerio.load(html);\r\n        const results: MatchResult[] = [];\r\n\r\n        // On the Takvim page, matches are grouped under league headers\r\n        // We find all league containers or iterate through rows\r\n        // Headers usually have class .tvf-fixture-league-header (found by subagent)\r\n\r\n        $('.tvf-fixture-league-header').each((_, header) => {\r\n            const leagueName = $(header).text().trim();\r\n\r\n            // Find the table/container immediately following this header\r\n            // TVF structure usually has rows following the header in the same parent or next sibling\r\n            const $container = $(header).next('table, .tvf-fixture-league-matches, div');\r\n\r\n            $container.find('tr').each((_, row) => {\r\n                const $row = $(row);\r\n\r\n                const homeTeam = $row.find('span[id*=\"_gevsahibi\"]').text().trim();\r\n                const awayTeam = $row.find('span[id*=\"_gmisafir\"], span[id*=\"_gdeplasman\"]').text().trim();\r\n                const homeScoreStr = $row.find('span[id*=\"_gseta\"]').text().trim();\r\n                const awayScoreStr = $row.find('span[id*=\"_gsetb\"], span[id*=\"_gsetd\"]').text().trim();\r\n\r\n                const homeScore = parseInt(homeScoreStr);\r\n                const awayScore = parseInt(awayScoreStr);\r\n\r\n                if (homeTeam && awayTeam && !isNaN(homeScore) && !isNaN(awayScore)) {\r\n                    results.push({\r\n                        league: leagueName,\r\n                        homeTeam,\r\n                        awayTeam,\r\n                        homeScore,\r\n                        awayScore,\r\n                        resultScore: `${homeScore}-${awayScore}`\r\n                    });\r\n                }\r\n            });\r\n        });\r\n\r\n        // Fallback: If no headers found, try scraping all rows and inferring league (less reliable)\r\n        if (results.length === 0) {\r\n            console.log('No league headers found, attempting broad row scrape...');\r\n            $('tr').each((_, row) => {\r\n                const $row = $(row);\r\n                const homeTeam = $row.find('span[id*=\"_gevsahibi\"]').text().trim();\r\n                const awayTeam = $row.find('span[id*=\"_gmisafir\"], span[id*=\"_gdeplasman\"]').text().trim();\r\n                const homeScoreStr = $row.find('span[id*=\"_gseta\"]').text().trim();\r\n                const awayScoreStr = $row.find('span[id*=\"_gsetb\"], span[id*=\"_gsetd\"]').text().trim();\r\n\r\n                if (homeTeam && awayTeam && homeScoreStr !== '' && awayScoreStr !== '') {\r\n                    // Find nearest preceding league header if possible\r\n                    let leagueName = \"Unknown League\";\r\n                    const prevHeader = $row.closest('table').prevAll('.tvf-fixture-league-header').first();\r\n                    if (prevHeader.length) leagueName = prevHeader.text().trim();\r\n\r\n                    results.push({\r\n                        league: leagueName,\r\n                        homeTeam,\r\n                        awayTeam,\r\n                        homeScore: parseInt(homeScoreStr),\r\n                        awayScore: parseInt(awayScoreStr),\r\n                        resultScore: `${homeScoreStr}-${awayScoreStr}`\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return results;\r\n    } catch (error) {\r\n        console.error('Error in fetchAllLeagueResults:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\nasync function syncToDatabaseAndLocal(results: MatchResult[]) {\r\n    const supabase = createServiceRoleClient();\r\n    let synced = 0;\r\n    const localUpdates: Record<string, number> = { vsl: 0, '1lig': 0, '2lig': 0 };\r\n\r\n    // Group results by our internal league keys\r\n    const leagueMapping: Record<string, string> = {\r\n        'vsl': 'Sultanlar Ligi',\r\n        '1lig': '1. Lig',\r\n        '2lig': '2. Lig'\r\n    };\r\n\r\n    const reverseMapping: Record<string, string> = {\r\n        'Vodafone Sultanlar Ligi': 'vsl',\r\n        'KADINLAR 1. L─░G': '1lig',\r\n        'KADINLAR 2. L─░G': '2lig',\r\n        'Sultanlar Ligi': 'vsl' // Catch-all variations\r\n    };\r\n\r\n    // Helper to find our internal league key from TVF name\r\n    const findInternalKey = (tvfLeague: string) => {\r\n        const upper = tvfLeague.toUpperCase();\r\n        if (upper.includes('SULTANLAR')) return 'vsl';\r\n        if (upper.includes('1. L─░G') || upper.includes('1.L─░G')) return '1lig';\r\n        if (upper.includes('2. L─░G') || upper.includes('2.L─░G')) return '2lig';\r\n        return null;\r\n    };\r\n\r\n    const dataFiles: Record<string, string> = {\r\n        'vsl': 'vsl-data.json',\r\n        '1lig': '1lig-data.json',\r\n        '2lig': 'tvf-data.json'\r\n    };\r\n\r\n    for (const res of results) {\r\n        const internalKey = findInternalKey(res.league);\r\n        if (!internalKey) continue;\r\n\r\n        // 1. Database Sync (Persistent)\r\n        const dbLeagueName = leagueMapping[internalKey];\r\n        try {\r\n            const { error } = await supabase\r\n                .from('match_results')\r\n                .upsert({\r\n                    league: dbLeagueName,\r\n                    home_team: res.homeTeam,\r\n                    away_team: res.awayTeam,\r\n                    result_score: res.resultScore,\r\n                    is_verified: true,\r\n                    updated_at: new Date().toISOString()\r\n                }, {\r\n                    onConflict: 'league,home_team,away_team'\r\n                });\r\n\r\n            if (!error) synced++;\r\n        } catch (e) {\r\n            console.error(`DB Sync Error for ${res.homeTeam}:`, e);\r\n        }\r\n\r\n        // 2. Local File Update (Dev Mode)\r\n        try {\r\n            const fileName = dataFiles[internalKey];\r\n            const filePath = path.join(process.cwd(), 'data', fileName);\r\n            if (fs.existsSync(filePath)) {\r\n                const data = JSON.parse(fs.readFileSync(filePath, 'utf-8'));\r\n                let fileModified = false;\r\n\r\n                const fixture = data.fixture || data.matches;\r\n                if (fixture && Array.isArray(fixture)) {\r\n                    for (const match of fixture) {\r\n                        if (match.homeTeam.toUpperCase() === res.homeTeam.toUpperCase() &&\r\n                            match.awayTeam.toUpperCase() === res.awayTeam.toUpperCase() &&\r\n                            !match.isPlayed) {\r\n                            match.isPlayed = true;\r\n                            match.homeScore = res.homeScore;\r\n                            match.awayScore = res.awayScore;\r\n                            match.resultScore = res.resultScore;\r\n                            fileModified = true;\r\n                            localUpdates[internalKey]++;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (fileModified) {\r\n                    data.lastUpdated = new Date().toISOString();\r\n                    fs.writeFileSync(filePath, JSON.stringify(data, null, 2));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            // Ignore write errors in Vercel environment\r\n        }\r\n    }\r\n\r\n    return { synced, localUpdates };\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const authHeader = request.headers.get('authorization');\r\n        const cronSecret = process.env.CRON_SECRET;\r\n        const vercelCron = request.headers.get('x-vercel-cron');\r\n\r\n        if (cronSecret && authHeader !== `Bearer ${cronSecret}` && !vercelCron) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        console.log('Starting results sync via TVF Takvim...');\r\n        const startTime = Date.now();\r\n\r\n        const allResults = await fetchAllLeagueResults();\r\n        console.log(`Fetched ${allResults.length} total matches from Takvim`);\r\n\r\n        const syncStats = await syncToDatabaseAndLocal(allResults);\r\n\r\n        const duration = Date.now() - startTime;\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            duration: `${duration}ms`,\r\n            timestamp: new Date().toISOString(),\r\n            fetchedCount: allResults.length,\r\n            syncedCount: syncStats.synced,\r\n            localUpdates: syncStats.localUpdates,\r\n            sampleLeagues: [...new Set(allResults.map(r => r.league))]\r\n        });\r\n\r\n    } catch (error: any) {\r\n        console.error('Unified Cron job error:', error);\r\n        return NextResponse.json({ success: false, error: error.message }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n    return GET(request);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\custom-leagues\\join\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\custom-leagues\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is defined but never used.","line":129,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":129,"endColumn":46},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'leagueId' is assigned a value but never used.","line":143,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":143,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'updates' is assigned a value but never used.","line":143,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":143,"endColumn":30},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is defined but never used.","line":156,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":156,"endColumn":46}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { withAuth } from '@/lib/api-middleware';\r\nimport { z } from 'zod';\r\n\r\nconst LeagueConfigSchema = z.object({\r\n  allowedLeagues: z.array(z.string()),\r\n  scoringMultiplier: z.number().min(0.5).max(5).optional(),\r\n  showRankings: z.boolean().optional(),\r\n  allowChat: z.boolean().optional(),\r\n});\r\n\r\nconst CreateLeagueSchema = z.object({\r\n  name: z.string().min(3).max(50),\r\n  description: z.string().max(200).optional(),\r\n  type: z.enum(['private', 'public']).default('private'),\r\n  maxMembers: z.number().min(2).max(1000).optional(),\r\n  settings: LeagueConfigSchema.optional(),\r\n});\r\n\r\nconst UpdateLeagueSchema = z.object({\r\n  leagueId: z.string().min(1),\r\n  updates: CreateLeagueSchema.partial()\r\n});\r\n\r\n// GET /api/custom-leagues - Get user's custom leagues\r\nexport async function GET(request: NextRequest) {\r\n  return withAuth(request, async (req, { user }) => {\r\n    // In production, fetch from Supabase\r\n    const mockLeagues = [\r\n      {\r\n        id: 'league-1',\r\n        name: 'Ofis Ligi',\r\n        description: '┼Şirket i├ği voleybol tahmin yar─▒┼şmas─▒',\r\n        type: 'private',\r\n        ownerId: user.id,\r\n        inviteCode: 'OFIS2024',\r\n        maxMembers: 50,\r\n        memberCount: 12,\r\n        settings: {\r\n          allowedLeagues: ['vsl', '1lig'],\r\n          scoringMultiplier: 1,\r\n          showRankings: true,\r\n          allowChat: true,\r\n        },\r\n        createdAt: new Date('2024-01-01').toISOString(),\r\n        members: [\r\n          { id: 'm-1', username: 'user1', displayName: 'Ahmet', role: 'owner', joinedAt: new Date().toISOString(), points: 450 },\r\n          { id: 'm-2', username: 'user2', displayName: 'Mehmet', role: 'member', joinedAt: new Date().toISOString(), points: 380 },\r\n          { id: 'm-3', username: 'user3', displayName: 'Ay┼şe', role: 'moderator', joinedAt: new Date().toISOString(), points: 520 },\r\n        ],\r\n      },\r\n      {\r\n        id: 'league-2',\r\n        name: '├£niversite Turnuvas─▒',\r\n        description: 'Kamp├╝s voleybol sezonu',\r\n        type: 'private',\r\n        ownerId: 'other-user',\r\n        inviteCode: 'UNI2024',\r\n        maxMembers: 100,\r\n        memberCount: 45,\r\n        settings: {\r\n          allowedLeagues: ['vsl', '1lig', 'cev-cl'],\r\n          scoringMultiplier: 1.5,\r\n          showRankings: true,\r\n          allowChat: true,\r\n        },\r\n        createdAt: new Date('2024-02-01').toISOString(),\r\n        members: [],\r\n      }\r\n    ];\r\n\r\n    return NextResponse.json({ leagues: mockLeagues });\r\n  });\r\n}\r\n\r\n// POST /api/custom-leagues - Create a new custom league\r\nexport async function POST(request: NextRequest) {\r\n  return withAuth(request, async (req, { user }) => {\r\n    const body = await req.json();\r\n\r\n    // Validate with Zod\r\n    let validatedData;\r\n    try {\r\n      validatedData = CreateLeagueSchema.parse(body);\r\n    } catch (error) {\r\n      if (error instanceof z.ZodError) {\r\n        return NextResponse.json({ error: 'Invalid data', details: error.errors }, { status: 400 });\r\n      }\r\n      throw error;\r\n    }\r\n\r\n    const { name, description, type, maxMembers, settings } = validatedData;\r\n\r\n    // Generate invite code\r\n    const inviteCode = Math.random().toString(36).substring(2, 8).toUpperCase();\r\n\r\n    // In production, create in Supabase\r\n    const newLeague = {\r\n      id: `league-${Date.now()}`,\r\n      name,\r\n      description: description || '',\r\n      type: type,\r\n      ownerId: user.id,\r\n      inviteCode,\r\n      maxMembers: maxMembers || 50,\r\n      memberCount: 1,\r\n      settings: settings || {\r\n        allowedLeagues: ['vsl'],\r\n        scoringMultiplier: 1,\r\n        showRankings: true,\r\n        allowChat: true,\r\n      },\r\n      createdAt: new Date().toISOString(),\r\n      members: [\r\n        { id: user.id, username: 'you', displayName: 'Sen', role: 'owner', joinedAt: new Date().toISOString(), points: 0 }\r\n      ],\r\n    };\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'League created',\r\n      league: newLeague,\r\n    });\r\n  });\r\n}\r\n\r\n// PUT /api/custom-leagues - Update a custom league\r\nexport async function PUT(request: NextRequest) {\r\n  return withAuth(request, async (req, { user }) => {\r\n    const body = await req.json();\r\n\r\n    // Validate with Zod\r\n    let validatedData;\r\n    try {\r\n      validatedData = UpdateLeagueSchema.parse(body);\r\n    } catch (error) {\r\n      if (error instanceof z.ZodError) {\r\n        return NextResponse.json({ error: 'Invalid data', details: error.errors }, { status: 400 });\r\n      }\r\n      throw error;\r\n    }\r\n\r\n    const { leagueId, updates } = validatedData;\r\n\r\n    // In production, check ownership and update in Supabase\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'League updated',\r\n    });\r\n  });\r\n}\r\n\r\n// DELETE /api/custom-leagues - Delete a custom league\r\nexport async function DELETE(request: NextRequest) {\r\n  return withAuth(request, async (req, { user }) => {\r\n    const { searchParams } = new URL(req.url);\r\n    const leagueId = searchParams.get('id');\r\n\r\n    if (!leagueId) {\r\n      return NextResponse.json({ error: 'League ID is required' }, { status: 400 });\r\n    }\r\n\r\n    // In production, check ownership and delete from Supabase\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'League deleted',\r\n    });\r\n  });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\errors\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\friends\\requests\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\friends\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\friends\\search\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\leaderboard\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\live\\[matchId]\\comments\\[commentId]\\like\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'matchId' is assigned a value but never used.","line":15,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'commentId' is assigned a value but never used.","line":15,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\n// POST /api/live/[matchId]/comments/[commentId]/like - Like/unlike a comment\r\nexport async function POST(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ matchId: string; commentId: string }> }\r\n) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id');\r\n    \r\n    if (!userId) {\r\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n    }\r\n\r\n    const { matchId, commentId } = await params;\r\n\r\n    // In production, toggle like in Supabase\r\n    // This would check if user already liked and toggle\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      liked: true, // or false if unliked\r\n    });\r\n  } catch (error) {\r\n    console.error('Error liking comment:', error);\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\live\\[matchId]\\comments\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\live\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":4,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\n// GET /api/live - Get live matches\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // In production, fetch live matches from external API or WebSocket\r\n    const mockLiveMatches = [\r\n      {\r\n        id: 'live-1',\r\n        homeTeam: 'FENERBAH├çE MEDICANA',\r\n        awayTeam: 'ECZACIBA┼ŞI DYNAV─░T',\r\n        homeScore: [25, 23, 18],\r\n        awayScore: [21, 25, 15],\r\n        currentSet: 3,\r\n        currentSetScore: { home: 18, away: 15 },\r\n        status: 'live',\r\n        startTime: new Date(Date.now() - 90 * 60 * 1000).toISOString(),\r\n        league: 'vsl',\r\n        venue: 'Burhan Felek Voleybol Salonu',\r\n        viewers: 1245,\r\n        isHighlighted: true,\r\n        setWins: { home: 1, away: 1 },\r\n      },\r\n      {\r\n        id: 'live-2',\r\n        homeTeam: 'VAKIFBANK',\r\n        awayTeam: 'GALATASARAY DAIKIN',\r\n        homeScore: [25, 22],\r\n        awayScore: [19, 25],\r\n        currentSet: 3,\r\n        currentSetScore: { home: 12, away: 10 },\r\n        status: 'live',\r\n        startTime: new Date(Date.now() - 75 * 60 * 1000).toISOString(),\r\n        league: 'vsl',\r\n        venue: 'Vak─▒f Spor Salonu',\r\n        viewers: 892,\r\n        isHighlighted: false,\r\n        setWins: { home: 1, away: 1 },\r\n      },\r\n    ];\r\n\r\n    const mockUpcomingMatches = [\r\n      {\r\n        id: 'upcoming-1',\r\n        homeTeam: 'THY',\r\n        awayTeam: 'N─░L├£FER BELED─░YESPOR',\r\n        status: 'upcoming',\r\n        startTime: new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(),\r\n        league: 'vsl',\r\n        venue: 'THY Spor Salonu',\r\n      },\r\n      {\r\n        id: 'upcoming-2',\r\n        homeTeam: 'BE┼Ş─░KTA┼Ş',\r\n        awayTeam: 'ARAS KARGO',\r\n        status: 'upcoming',\r\n        startTime: new Date(Date.now() + 4 * 60 * 60 * 1000).toISOString(),\r\n        league: 'vsl',\r\n        venue: 'Be┼şikta┼ş Spor Salonu',\r\n      },\r\n    ];\r\n\r\n    return NextResponse.json({\r\n      liveMatches: mockLiveMatches,\r\n      upcomingMatches: mockUpcomingMatches,\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching live matches:', error);\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\notifications\\preferences\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\notifications\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\notifications\\subscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\predict-all\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\predictions\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\push\\subscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\push\\unsubscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\quests\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\refresh\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'stdout' is assigned a value but never used.","line":15,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[988,991],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[988,991],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { exec } from 'child_process';\r\nimport { promisify } from 'util';\r\nimport path from 'path';\r\n\r\nconst execAsync = promisify(exec);\r\n\r\nexport async function POST() {\r\n    try {\r\n        // Run the data update script\r\n        const scriptPath = path.join(process.cwd(), 'scripts', 'update-data.js');\r\n\r\n        console.log('[REFRESH] Running update script:', scriptPath);\r\n\r\n        const { stdout, stderr } = await execAsync(`node \"${scriptPath}\"`, {\r\n            timeout: 60000, // 60 second timeout\r\n            cwd: process.cwd()\r\n        });\r\n\r\n        if (stderr && !stderr.includes('DevTools')) {\r\n            console.warn('[REFRESH] Script stderr:', stderr);\r\n        }\r\n\r\n        console.log('[REFRESH] Script completed successfully');\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Veri g├╝ncellendi!',\r\n            timestamp: new Date().toISOString()\r\n        });\r\n\r\n    } catch (error: any) {\r\n        console.error('[REFRESH] Error:', error.message);\r\n\r\n        return NextResponse.json({\r\n            success: false,\r\n            error: error.message\r\n        }, { status: 500 });\r\n    }\r\n}\r\n\r\n// GET endpoint for polling status\r\nexport async function GET() {\r\n    return NextResponse.json({\r\n        status: 'ready',\r\n        message: 'POST to this endpoint to refresh data'\r\n    });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\results\\sync\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\scrape\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\user\\profile\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\api\\vsl\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\auth\\auth-code-error\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\auth\\callback\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CookieOptions' is defined but never used.","line":1,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient, type CookieOptions } from '@supabase/ssr'\r\nimport { type NextRequest, NextResponse } from 'next/server'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport async function GET(request: NextRequest) {\r\n    const { searchParams, origin } = new URL(request.url)\r\n    const code = searchParams.get('code')\r\n    // if \"next\" is in param, use it as the redirect URL\r\n    const next = searchParams.get('next') ?? '/ligler'\r\n\r\n    if (code) {\r\n        const cookieStore = await cookies()\r\n        const supabase = createServerClient(\r\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n            {\r\n                cookies: {\r\n                    getAll() {\r\n                        return cookieStore.getAll()\r\n                    },\r\n                    setAll(cookiesToSet) {\r\n                        try {\r\n                            cookiesToSet.forEach(({ name, value, options }) =>\r\n                                cookieStore.set(name, value, options)\r\n                            )\r\n                        } catch {\r\n                            // The `setAll` method was called from a Server Component.\r\n                            // This can be ignored if you have middleware refreshing\r\n                            // user sessions.\r\n                        }\r\n                    },\r\n                },\r\n            }\r\n        )\r\n        const { error } = await supabase.auth.exchangeCodeForSession(code)\r\n        if (!error) {\r\n            return NextResponse.redirect(`${origin}${next}`)\r\n        }\r\n    }\r\n\r\n    // return the user to an error page with instructions\r\n    return NextResponse.redirect(`${origin}/auth/auth-code-error`)\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\ayarlar\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":70,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport dynamic from \"next/dynamic\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useGameState } from \"../utils/gameState\";\r\nimport { useToast } from \"../components/Toast\";\r\n\r\nconst TutorialModal = dynamic(() => import(\"../components/TutorialModal\"), {\r\n    loading: () => null,\r\n    ssr: false,\r\n});\r\n\r\n// Theme handling inline since we need to update document\r\nfunction useLocalTheme() {\r\n    const [theme, setThemeState] = useState<'dark' | 'light'>('dark');\r\n\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('theme') as 'dark' | 'light' | null;\r\n        if (saved) {\r\n            Promise.resolve().then(() => setThemeState(saved));\r\n        }\r\n    }, []);\r\n\r\n    const setTheme = (newTheme: 'dark' | 'light') => {\r\n        setThemeState(newTheme);\r\n        localStorage.setItem('theme', newTheme);\r\n        document.documentElement.setAttribute('data-theme', newTheme);\r\n    };\r\n\r\n    return { theme, setTheme };\r\n}\r\n\r\nexport default function AyarlarPage() {\r\n    const { user } = useAuth();\r\n    const { gameState, toggleSound } = useGameState();\r\n    const { showToast } = useToast();\r\n    const { theme, setTheme } = useLocalTheme();\r\n\r\n    const [notifications, setNotifications] = useState(true);\r\n    const [showTutorial, setShowTutorial] = useState(false);\r\n\r\n    const handleResetData = () => {\r\n        if (confirm(\"T├╝m oyun verileriniz (XP, seviye, ba┼şar─▒mlar, tahminler) silinecek. Bu i┼şlem geri al─▒namaz. Emin misiniz?\")) {\r\n            // Clear all game-related localStorage\r\n            localStorage.removeItem('volleySimGameState');\r\n            localStorage.removeItem('1ligGroupScenarios');\r\n            localStorage.removeItem('groupScenarios');\r\n            localStorage.removeItem('playoffScenarios');\r\n            showToast(\"T├╝m veriler s─▒f─▒rland─▒. Sayfa yenileniyor...\", \"success\");\r\n            // Reload to reset React state\r\n            setTimeout(() => window.location.reload(), 1000);\r\n        }\r\n    };\r\n\r\n    const handleExportData = () => {\r\n        try {\r\n            const exportData = {\r\n                gameState: gameState,\r\n                lig1Scenarios: JSON.parse(localStorage.getItem('1ligGroupScenarios') || '{}'),\r\n                lig2Scenarios: JSON.parse(localStorage.getItem('groupScenarios') || '{}'),\r\n                exportDate: new Date().toISOString()\r\n            };\r\n            const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData, null, 2));\r\n            const a = document.createElement('a');\r\n            a.href = dataStr;\r\n            a.download = `volleysimulator-backup-${new Date().toLocaleDateString('tr-TR')}.json`;\r\n            a.click();\r\n            showToast(\"Veriler indirildi\", \"success\");\r\n        } catch (e) {\r\n            showToast(\"Hata olu┼ştu\", \"error\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950\">\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 px-4 py-6 border-b border-slate-800\">\r\n                <div className=\"max-w-2xl mx-auto\">\r\n                    <h1 className=\"text-2xl font-bold text-white\">Ayarlar</h1>\r\n                    <p className=\"text-slate-400 text-sm mt-1\">Uygulama tercihlerini y├Ânetin</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-2xl mx-auto px-4 py-6 space-y-4\">\r\n\r\n                {/* Sound Settings */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-4\">\r\n                    <h2 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4\">Ses Ayarlar─▒</h2>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <div className=\"font-medium text-white\">Ses Efektleri</div>\r\n                            <div className=\"text-xs text-slate-500\">Tahmin ve ba┼şar─▒m sesleri</div>\r\n                        </div>\r\n                        <button\r\n                            onClick={toggleSound}\r\n                            title=\"Ses Efektlerini A├ğ/Kapat\"\r\n                            className={`w-14 h-7 rounded-full transition-all relative ${gameState.soundEnabled ? 'bg-emerald-600' : 'bg-slate-700'\r\n                                }`}\r\n                        >\r\n                            <div className={`w-6 h-6 bg-white rounded-full shadow-md absolute top-0.5 transition-transform ${gameState.soundEnabled ? 'translate-x-7' : 'translate-x-0.5'\r\n                                }`} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Display Settings */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-4\">\r\n                    <h2 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4\">G├Âr├╝n├╝m</h2>\r\n\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <div>\r\n                            <div className=\"font-medium text-white\">Tema</div>\r\n                            <div className=\"text-xs text-slate-500\">Uygulama renk temas─▒</div>\r\n                        </div>\r\n                        <select\r\n                            value={theme}\r\n                            onChange={(e) => setTheme(e.target.value as 'dark' | 'light')}\r\n                            title=\"Tema Se├ğin\"\r\n                            className=\"bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white\"\r\n                        >\r\n                            <option value=\"dark\">Koyu</option>\r\n                            <option value=\"light\">A├ğ─▒k</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <div className=\"font-medium text-white\">Bildirimler</div>\r\n                            <div className=\"text-xs text-slate-500\">Uygulama i├ği bildirimler</div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setNotifications(!notifications)}\r\n                            title=\"Bildirimleri A├ğ/Kapat\"\r\n                            className={`w-14 h-7 rounded-full transition-all relative ${notifications ? 'bg-emerald-600' : 'bg-slate-700'\r\n                                }`}\r\n                        >\r\n                            <div className={`w-6 h-6 bg-white rounded-full shadow-md absolute top-0.5 transition-transform ${notifications ? 'translate-x-7' : 'translate-x-0.5'\r\n                                }`} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Data Management */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-4\">\r\n                    <h2 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4\">Veri Y├Ânetimi</h2>\r\n\r\n                    <div className=\"space-y-3\">\r\n                        <button\r\n                            onClick={handleExportData}\r\n                            className=\"w-full flex items-center justify-between p-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors\"\r\n                        >\r\n                            <div className=\"text-left\">\r\n                                <div className=\"font-medium text-white\">Verileri ─░ndir</div>\r\n                                <div className=\"text-xs text-slate-500\">T├╝m tahminler ve ilerleme</div>\r\n                            </div>\r\n                            <span className=\"text-emerald-400\">Ôåô</span>\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={handleResetData}\r\n                            className=\"w-full flex items-center justify-between p-3 bg-slate-800 hover:bg-rose-900/50 rounded-lg transition-colors group\"\r\n                        >\r\n                            <div className=\"text-left\">\r\n                                <div className=\"font-medium text-white group-hover:text-rose-400\">Verileri S─▒f─▒rla</div>\r\n                                <div className=\"text-xs text-slate-500 group-hover:text-rose-400/70\">T├╝m ilerlemeyi sil</div>\r\n                            </div>\r\n                            <span className=\"text-rose-400\">Ô£ò</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Help Section */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-4\">\r\n                    <h2 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4\">Yard─▒m</h2>\r\n\r\n                    <div className=\"space-y-3\">\r\n                        <button\r\n                            onClick={() => setShowTutorial(true)}\r\n                            className=\"w-full flex items-center justify-between p-3 bg-gradient-to-r from-emerald-900/30 to-emerald-800/10 hover:from-emerald-800/40 hover:to-emerald-700/20 border border-emerald-600/30 hover:border-emerald-500/50 rounded-lg transition-all group\"\r\n                        >\r\n                            <div className=\"text-left\">\r\n                                <div className=\"font-medium text-white group-hover:text-emerald-300\">Uygulama Rehberi</div>\r\n                                <div className=\"text-xs text-slate-500\">Nas─▒l kullan─▒laca─ş─▒n─▒ ├Â─şrenin</div>\r\n                            </div>\r\n                            <span className=\"text-emerald-400\">─░</span>\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                localStorage.removeItem('tutorialCompleted');\r\n                                setShowTutorial(true);\r\n                            }}\r\n                            className=\"w-full flex items-center justify-between p-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors\"\r\n                        >\r\n                            <div className=\"text-left\">\r\n                                <div className=\"font-medium text-white\">Rehberi S─▒f─▒rla</div>\r\n                                <div className=\"text-xs text-slate-500\">Rehberi ba┼ştan g├Âster</div>\r\n                            </div>\r\n                            <span className=\"text-cyan-400\">Ôå╗</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Account Info */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-4\">\r\n                    <h2 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4\">Hesap</h2>\r\n\r\n                    {user ? (\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"flex items-center justify-between p-3 bg-slate-800 rounded-lg\">\r\n                                <span className=\"text-slate-400 text-sm\">E-posta</span>\r\n                                <span className=\"text-white text-sm\">{user.email}</span>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between p-3 bg-slate-800 rounded-lg\">\r\n                                <span className=\"text-slate-400 text-sm\">Hesap T├╝r├╝</span>\r\n                                <span className=\"text-emerald-400 text-sm\">Kay─▒tl─▒ Kullan─▒c─▒</span>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"text-center p-4\">\r\n                            <p className=\"text-slate-400 text-sm mb-3\">Giri┼ş yaparak verilerinizi kaydedin</p>\r\n                            <a\r\n                                href=\"/login\"\r\n                                className=\"inline-block px-4 py-2 bg-emerald-700 hover:bg-emerald-600 text-white font-bold rounded-lg transition-colors\"\r\n                            >\r\n                                Giri┼ş Yap\r\n                            </a>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* App Info */}\r\n                <div className=\"text-center py-4\">\r\n                    <div className=\"text-slate-500 text-xs\">VolleySimulator v1.0.0</div>\r\n                    <div className=\"text-slate-600 text-xs mt-1\">┬® 2025 T├╝m haklar─▒ sakl─▒d─▒r</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tutorial Modal */}\r\n            <TutorialModal isOpen={showTutorial} onClose={() => setShowTutorial(false)} />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\anasayfa\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":171,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":171,"endColumn":73},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":208,"column":57,"nodeType":null,"messageId":"unusedVar","endLine":208,"endColumn":58}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    setScores?: string;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface Team {\r\n    name: string;\r\n    country: string;\r\n}\r\n\r\ninterface CEVChallengeData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: Team[];\r\n    fixture: Match[];\r\n}\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"Kuzeyboru\", \"THY ISTANBUL\", \"Bursa Nilufer Bld.\"]; // Expanded list just in case\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"Qualification Rounds\": \"Eleme Turlar─▒\",\r\n    \"Main Round\": \"Ana Tablo\",\r\n    \"16th Finals\": \"Son 32\",\r\n    \"8th Finals\": \"Son 16\",\r\n    \"Play Off\": \"Play-Off\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\"\r\n};\r\n\r\nexport default function CEVChallengeAnasayfa() {\r\n    const [data, setData] = useState<CEVChallengeData | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/cev-challenge\")\r\n            .then(res => res.json())\r\n            .then(data => setData(data))\r\n            .finally(() => setLoading(false));\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-slate-950\">\r\n                <div className=\"animate-spin w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center text-red-500 bg-slate-950\">\r\n                Veri y├╝klenemedi\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const playedMatches = data.fixture.filter(m => m.isPlayed);\r\n    const upcomingMatches = data.fixture.filter(m => !m.isPlayed).slice(0, 8); // Show next 8 matches\r\n\r\n    // Turkish teams highlight logic\r\n    const getTurkishTeamStats = (teamName: string) => {\r\n        const matches = data.fixture.filter(m => m.homeTeam.includes(teamName) || m.awayTeam.includes(teamName));\r\n        const played = matches.filter(m => m.isPlayed);\r\n        let wins = 0;\r\n        played.forEach(m => {\r\n            if (m.homeTeam.includes(teamName) && (m.homeScore || 0) > (m.awayScore || 0)) wins++;\r\n            if (m.awayTeam.includes(teamName) && (m.awayScore || 0) > (m.homeScore || 0)) wins++;\r\n        });\r\n        return { played: played.length, wins };\r\n    };\r\n\r\n    // Filter actual Turkish teams present in the data\r\n    const activeTurkishTeams = TURKISH_TEAMS.filter(t =>\r\n        data.teams.some(dt => dt.name.includes(t))\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950\">\r\n            {/* Hero Header */}\r\n            <div className=\"bg-gradient-to-br from-emerald-600 via-teal-600 to-emerald-800 px-4 py-4 relative overflow-hidden\">\r\n                <div className=\"relative max-w-4xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h1 className=\"text-xl font-bold text-white mb-1\">CEV Challenge Cup</h1>\r\n                            <p className=\"text-white/70 text-sm\">Kad─▒nlar ÔÇó 2025-2026</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <div className=\"text-3xl font-bold text-white\">{playedMatches.length}</div>\r\n                            <div className=\"text-xs text-white/60\">Oynanan Ma├ğ</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-4xl mx-auto px-4 mt-4 space-y-4 pb-6\">\r\n                {/* Current Stage Badge */}\r\n                <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 text-center\">\r\n                    <div className=\"text-xs text-emerald-400/70 uppercase tracking-wider mb-1\">Mevcut A┼şama</div>\r\n                    <div className=\"text-2xl font-bold text-emerald-400\">\r\n                        {ROUND_LABELS[data.currentStage] || data.currentStage}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Turkish Teams Overview - Only show if any found */}\r\n                {activeTurkishTeams.length > 0 && (\r\n                    <div className=\"bg-slate-900 border border-red-500/30 rounded-2xl overflow-hidden\">\r\n                        <div className=\"bg-red-900/20 px-4 py-3 border-b border-red-500/20\">\r\n                            <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                                <span>­şç╣­şçÀ</span> T├╝rk Tak─▒mlar─▒\r\n                            </h3>\r\n                        </div>\r\n                        <div className=\"divide-y divide-slate-800/50\">\r\n                            {activeTurkishTeams.map(teamName => {\r\n                                const fullTeamName = data.teams.find(t => t.name.includes(teamName))?.name || teamName;\r\n                                const stats = getTurkishTeamStats(teamName);\r\n                                const nextMatch = data.fixture.find(m =>\r\n                                    !m.isPlayed && (m.homeTeam.includes(teamName) || m.awayTeam.includes(teamName))\r\n                                );\r\n                                const opponent = nextMatch ?\r\n                                    (nextMatch.homeTeam.includes(teamName) ? nextMatch.awayTeam : nextMatch.homeTeam) : null;\r\n\r\n                                return (\r\n                                    <div key={teamName} className=\"px-4 py-3 flex items-center gap-3\">\r\n                                        <TeamAvatar name={fullTeamName} size=\"sm\" />\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-medium text-sm text-white\">{fullTeamName}</div>\r\n                                            <div className=\"text-xs text-slate-500\">\r\n                                                {stats.wins}G / {stats.played}M\r\n                                                {opponent && (\r\n                                                    <span className=\"text-emerald-400 ml-2\">\r\n                                                        ÔåÆ vs {opponent}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <div className=\"text-xs text-emerald-400 font-bold\">\r\n                                                {ROUND_LABELS[data.currentStage]}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Recent Results */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-slate-800/50 px-4 py-3 border-b border-slate-800 flex justify-between items-center\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Son Sonu├ğlar\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50 max-h-64 overflow-y-auto\">\r\n                        {playedMatches.slice(-6).reverse().map((match, i) => {\r\n                            const hasTurkish = activeTurkishTeams.some(t => match.homeTeam.includes(t) || match.awayTeam.includes(t));\r\n                            return (\r\n                                <div key={match.id} className={`px-4 py-3 ${hasTurkish ? \"bg-red-900/10\" : \"\"}`}>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <div className=\"flex-1 text-right text-sm text-slate-300 truncate flex items-center justify-end gap-1\">\r\n                                            {match.homeTeam}\r\n                                            {activeTurkishTeams.some(t => match.homeTeam.includes(t)) && <span>­şç╣­şçÀ</span>}\r\n                                        </div>\r\n                                        <div className=\"px-2 py-0.5 rounded text-xs font-mono bg-emerald-500/20 text-emerald-400\">\r\n                                            {match.homeScore} - {match.awayScore}\r\n                                        </div>\r\n                                        <div className=\"flex-1 text-sm text-slate-300 truncate flex items-center gap-1\">\r\n                                            {activeTurkishTeams.some(t => match.awayTeam.includes(t)) && <span>­şç╣­şçÀ</span>}\r\n                                            {match.awayTeam}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-center text-[10px] text-slate-500\">\r\n                                        {ROUND_LABELS[match.round] || match.round}\r\n                                        {match.setScores && <span className=\"ml-2\">({match.setScores})</span>}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Upcoming Matches */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-slate-800/50 px-4 py-3 border-b border-slate-800\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">­şôà</span> Gelecek Ma├ğlar\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50\">\r\n                        {upcomingMatches.length === 0 ? (\r\n                            <div className=\"p-4 text-center text-slate-500 text-xs\">Planlanm─▒┼ş ma├ğ bulunamad─▒.</div>\r\n                        ) : upcomingMatches.map((match, i) => {\r\n                            const hasTurkish = activeTurkishTeams.some(t => match.homeTeam.includes(t) || match.awayTeam.includes(t));\r\n                            return (\r\n                                <div key={match.id} className={`px-4 py-3 ${hasTurkish ? \"bg-red-900/10\" : \"\"}`}>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <div className=\"flex-1 text-right text-sm text-slate-300 truncate flex items-center justify-end gap-1\">\r\n                                            {match.homeTeam}\r\n                                            {activeTurkishTeams.some(t => match.homeTeam.includes(t)) && <span>­şç╣­şçÀ</span>}\r\n                                        </div>\r\n                                        <div className=\"px-2 py-0.5 rounded text-xs font-mono bg-slate-800 text-slate-500\">\r\n                                            vs\r\n                                        </div>\r\n                                        <div className=\"flex-1 text-sm text-slate-300 truncate flex items-center gap-1\">\r\n                                            {activeTurkishTeams.some(t => match.awayTeam.includes(t)) && <span>­şç╣­şçÀ</span>}\r\n                                            {match.awayTeam}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-center text-[10px] text-slate-500\">\r\n                                        {ROUND_LABELS[match.round] || match.round} ÔÇó {match.date || 'TBD'}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Quick Links */}\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    <Link\r\n                        href=\"/cev-challenge/gunceldurum\"\r\n                        className=\"bg-slate-900 border border-slate-800 rounded-xl p-4 hover:bg-slate-800 transition-colors group\"\r\n                    >\r\n                        <div className=\"text-2xl mb-2\">­şôè</div>\r\n                        <div className=\"font-bold text-white text-sm group-hover:text-emerald-400 transition-colors\">G├╝ncel Durum</div>\r\n                        <div className=\"text-xs text-slate-500\">T├╝m e┼şle┼şmeleri g├Âr</div>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/cev-challenge/stats\"\r\n                        className=\"bg-slate-900 border border-slate-800 rounded-xl p-4 hover:bg-slate-800 transition-colors group\"\r\n                    >\r\n                        <div className=\"text-2xl mb-2\">­şôê</div>\r\n                        <div className=\"font-bold text-white text-sm group-hover:text-emerald-400 transition-colors\">─░statistikler</div>\r\n                        <div className=\"text-xs text-slate-500\">Tak─▒m performanslar─▒</div>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\gunceldurum\\CEVChallengeGuncelDurumClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mIdx' is defined but never used.","line":187,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":187,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\n\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport LeagueActionBar from \"../../components/LeagueTemplate/LeagueActionBar\";\r\nimport { LEAGUE_CONFIGS } from \"../../components/LeagueTemplate/types\";\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    setScores?: string;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface Team {\r\n    name: string;\r\n    country: string;\r\n}\r\n\r\ninterface CEVChallengeData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: Team[];\r\n    fixture: Match[];\r\n}\r\n\r\ninterface CEVChallengeGuncelDurumClientProps {\r\n    initialData: CEVChallengeData;\r\n}\r\n\r\nconst ROUNDS = [\"Qualification Rounds\", \"Main Round\", \"4th Finals\", \"Semi Finals\", \"Finals\"];\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"Qualification Rounds\": \"Eleme Turlar─▒\",\r\n    \"Main Round\": \"Ana Tablo\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\"\r\n};\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"Kuzeyboru\"]; // Updating based on assumption, can be refined\r\n\r\nexport default function CEVChallengeGuncelDurumClient({ initialData }: CEVChallengeGuncelDurumClientProps) {\r\n    // Default to first available round if currentStage mapping fails\r\n    const [activeRound, setActiveRound] = useState<string>(\r\n        ROUND_LABELS[initialData.currentStage] ? initialData.currentStage : (initialData.fixture.length > 0 ? initialData.fixture[0].round : \"Main Round\")\r\n    );\r\n\r\n    const availableRounds = useMemo(() => {\r\n        const roundsInData = new Set(initialData.fixture.map(m => m.round));\r\n        return ROUNDS.filter(r => roundsInData.has(r)).concat(Array.from(roundsInData).filter(r => !ROUNDS.includes(r)));\r\n    }, [initialData.fixture]);\r\n\r\n    const roundMatches = useMemo(() => {\r\n        return initialData.fixture.filter(m => m.round === activeRound);\r\n    }, [initialData.fixture, activeRound]);\r\n\r\n    // Group matches by matchup\r\n    const matchups = useMemo(() => {\r\n        const grouped: Record<string, Match[]> = {};\r\n        roundMatches.forEach(match => {\r\n            const key = [match.homeTeam, match.awayTeam].sort().join(\" vs \");\r\n            if (!grouped[key]) grouped[key] = [];\r\n            grouped[key].push(match);\r\n        });\r\n        return Object.values(grouped).map(matches => matches.sort((a, b) => (a.leg || 1) - (b.leg || 1)));\r\n    }, [roundMatches]);\r\n\r\n    const playedCount = roundMatches.filter(m => m.isPlayed).length;\r\n    const totalCount = roundMatches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    const isTurkishTeam = (team: string) => TURKISH_TEAMS.some(t => team.includes(t)) || team.includes(\"ISTANBUL\") || team.includes(\"ANKARA\");\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans overflow-hidden\">\r\n            <div className=\"max-w-7xl mx-auto space-y-1 h-full flex flex-col\">\r\n                <div className=\"space-y-3 bg-slate-900/40 p-3 rounded-2xl border border-slate-800/60 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                    {/* Action Bar using LeagueTemplate */}\r\n                    <LeagueActionBar\r\n                        config={LEAGUE_CONFIGS['cev-challenge']}\r\n                        title={`${LEAGUE_CONFIGS['cev-challenge'].name} - ${ROUND_LABELS[activeRound]}`}\r\n                        subtitle=\"CEV Challenge Cup ÔÇó G├╝ncel Durum\"\r\n                        selectorLabel=\"Tur\"\r\n                        selectorValue={activeRound}\r\n                        selectorOptions={availableRounds.map(r => ({ label: ROUND_LABELS[r], value: r }))}\r\n                        onSelectorChange={setActiveRound}\r\n                        progress={completionRate}\r\n                        progressLabel={`%${completionRate}`}\r\n                    >\r\n                        {/* Live Badge */}\r\n                        <div className=\"px-3 h-8 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase hidden sm:inline\">Otomatik G├╝ncelleme</span>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase sm:hidden\">CANLI</span>\r\n                        </div>\r\n                        <div className=\"bg-slate-950/50 px-3 py-1.5 rounded-lg border border-slate-800 text-center flex flex-col justify-center\">\r\n                            <div className=\"text-[9px] font-bold text-slate-500 uppercase leading-none mb-0.5\">Format</div>\r\n                            <div className=\"text-xs font-bold text-white leading-none\">Eleme (─░├ğ-D─▒┼ş)</div>\r\n                        </div>\r\n                        <div className=\"px-3 py-1.5 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase\">{matchups.length} E┼şle┼şme</span>\r\n                        </div>\r\n                    </LeagueActionBar>\r\n\r\n                    {/* Matchups Grid */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                        {matchups.map((matchup, idx) => {\r\n                            const team1 = matchup[0]?.homeTeam;\r\n                            const team2 = matchup[0]?.awayTeam;\r\n\r\n                            // Calculate aggregate score\r\n                            let team1Total = 0;\r\n                            let team2Total = 0;\r\n                            let allPlayed = true;\r\n\r\n                            matchup.forEach(m => {\r\n                                if (m.isPlayed && m.homeScore !== null && m.awayScore !== null) {\r\n                                    if (m.homeTeam === team1) {\r\n                                        team1Total += m.homeScore;\r\n                                        team2Total += m.awayScore;\r\n                                    } else {\r\n                                        team1Total += m.awayScore;\r\n                                        team2Total += m.homeScore;\r\n                                    }\r\n                                } else {\r\n                                    allPlayed = false;\r\n                                }\r\n                            });\r\n\r\n                            const hasTurkish = isTurkishTeam(team1) || isTurkishTeam(team2);\r\n\r\n                            return (\r\n                                <div\r\n                                    key={idx}\r\n                                    className={`bg-slate-950/60 rounded-xl border p-3 space-y-2 ${hasTurkish ? 'border-emerald-700/50 ring-1 ring-emerald-500/20' : 'border-slate-800/50'\r\n                                        }`}\r\n                                >\r\n                                    {/* Matchup Header */}\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div className=\"flex items-center gap-2 flex-1 overflow-hidden\">\r\n                                            <TeamAvatar name={team1} size=\"sm\" />\r\n                                            <div className=\"overflow-hidden\">\r\n                                                <span className=\"text-sm font-bold text-slate-200 truncate block\">\r\n                                                    {team1}\r\n                                                    {isTurkishTeam(team1) && <span className=\"ml-1\">­şç╣­şçÀ</span>}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"px-3 flex flex-col items-center shrink-0\">\r\n                                            {allPlayed ? (\r\n                                                <div className=\"flex items-center gap-1\">\r\n                                                    <span className={`text-lg font-black ${team1Total > team2Total ? 'text-green-400' : 'text-slate-400'}`}>\r\n                                                        {team1Total}\r\n                                                    </span>\r\n                                                    <span className=\"text-slate-600\">-</span>\r\n                                                    <span className={`text-lg font-black ${team2Total > team1Total ? 'text-green-400' : 'text-slate-400'}`}>\r\n                                                        {team2Total}\r\n                                                    </span>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <span className=\"text-xs font-bold text-slate-600 bg-slate-900 px-2 py-1 rounded\">VS</span>\r\n                                            )}\r\n                                            <span className=\"text-[9px] text-slate-500 uppercase\">Toplam</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 flex-1 justify-end overflow-hidden\">\r\n                                            <div className=\"overflow-hidden text-right\">\r\n                                                <span className=\"text-sm font-bold text-slate-200 truncate block\">\r\n                                                    {isTurkishTeam(team2) && <span className=\"mr-1\">­şç╣­şçÀ</span>}\r\n                                                    {team2}\r\n                                                </span>\r\n                                            </div>\r\n                                            <TeamAvatar name={team2} size=\"sm\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Individual Legs */}\r\n                                    <div className=\"space-y-1.5 pt-1 border-t border-slate-800/50\">\r\n                                        {matchup.map((match, mIdx) => (\r\n                                            <div key={match.id} className=\"flex items-center justify-between text-xs bg-slate-900/50 rounded-lg px-2 py-1.5\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <span className=\"text-[10px] font-bold text-slate-500 bg-slate-800 px-1.5 py-0.5 rounded\">\r\n                                                        {match.leg === 1 ? \"1. Ma├ğ\" : \"2. Ma├ğ\"}\r\n                                                    </span>\r\n                                                    <span className=\"text-[10px] text-slate-500\">\r\n                                                        {match.date?.split('-').reverse().join('.')}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-1\">\r\n                                                    <span className=\"text-slate-400 text-[10px] truncate max-w-[60px]\">{match.homeTeam.split(' ')[0]}</span>\r\n                                                    {match.isPlayed ? (\r\n                                                        <span className=\"font-bold text-white px-2\">\r\n                                                            {match.homeScore} - {match.awayScore}\r\n                                                        </span>\r\n                                                    ) : (\r\n                                                        <span className=\"text-slate-600 px-2\">-</span>\r\n                                                    )}\r\n                                                    <span className=\"text-slate-400 text-[10px] truncate max-w-[60px]\">{match.awayTeam.split(' ')[0]}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {matchups.length === 0 && (\r\n                        <div className=\"flex flex-col items-center justify-center py-12 text-slate-500\">\r\n                            <span className=\"text-4xl mb-2\">­şÅÉ</span>\r\n                            <p className=\"text-sm\">Bu tur i├ğin hen├╝z ma├ğ planlanmad─▒.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\gunceldurum\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2376,2379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2376,2379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2484,2487],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2484,2487],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\r\nimport path from 'path';\r\nimport { Metadata } from \"next\";\r\nimport CEVChallengeGuncelDurumClient from './CEVChallengeGuncelDurumClient';\r\n\r\nexport const metadata: Metadata = {\r\n    title: \"CEV Challenge Cup G├╝ncel Durum\",\r\n    description: \"CEV Challenge Cup puan durumu, tur s─▒ralamalar─▒ ve ma├ğ sonu├ğlar─▒. Avrupa kupas─▒ g├╝ncel tablo.\",\r\n    openGraph: {\r\n        title: \"CEV Challenge Cup G├╝ncel Durum | VolleySimulator\",\r\n        description: \"Challenge Cup tur s─▒ralamalar─▒ ve ma├ğ sonu├ğlar─▒.\",\r\n    },\r\n};\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    setScores?: string;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface Team {\r\n    name: string;\r\n    country: string;\r\n}\r\n\r\ninterface CEVChallengeData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: Team[];\r\n    fixture: Match[];\r\n}\r\n\r\nexport default async function CEVChallengeGuncelDurumPage() {\r\n    // We fetch from the API endpoint locally or read the JSON directly and transform it.\r\n    // Since we created a route that transforms it, we can reuse that transformation logic here \r\n    // OR just call the API URL if full URL is known.\r\n    // Better: Read JSON and Transform here to avoid self-fetch issues during build/runtime.\r\n\r\n    // Copying transformation logic from API route for Server Component efficiency\r\n    const filePath = path.join(process.cwd(), 'data', 'cev-challenge-cup-data.json');\r\n    let data: CEVChallengeData | null = null;\r\n\r\n    try {\r\n        if (fs.existsSync(filePath)) {\r\n            const fileContent = fs.readFileSync(filePath, 'utf8');\r\n            const sourceData = JSON.parse(fileContent);\r\n\r\n            const fixture: Match[] = [];\r\n            const teamsMap = new Map();\r\n            let matchCounter = 1;\r\n\r\n            const parseScore = (scoreStr: string | null) => {\r\n                if (!scoreStr || !scoreStr.includes('-')) return { home: null, away: null };\r\n                const parts = scoreStr.split('-').map(p => parseInt(p.trim()));\r\n                return { home: isNaN(parts[0]) ? null : parts[0], away: isNaN(parts[1]) ? null : parts[1] };\r\n            };\r\n\r\n            if (sourceData.phases) {\r\n                sourceData.phases.forEach((phase: any) => {\r\n                    const roundName = phase.name;\r\n                    phase.matches.forEach((m: any) => {\r\n                        const { home, away } = parseScore(m.score);\r\n                        if (!teamsMap.has(m.homeTeam)) teamsMap.set(m.homeTeam, { name: m.homeTeam, country: '' });\r\n                        if (!teamsMap.has(m.awayTeam)) teamsMap.set(m.awayTeam, { name: m.awayTeam, country: '' });\r\n\r\n                        fixture.push({\r\n                            id: matchCounter++,\r\n                            round: roundName,\r\n                            leg: 1,\r\n                            date: m.date || 'TBD',\r\n                            homeTeam: m.homeTeam,\r\n                            awayTeam: m.awayTeam,\r\n                            homeScore: home,\r\n                            awayScore: away,\r\n                            setScores: m.sets,\r\n                            isPlayed: m.isPlayed\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n\r\n            data = {\r\n                league: \"CEV Challenge Cup\",\r\n                season: \"2025-2026\",\r\n                currentStage: \"Main Round\",\r\n                teams: Array.from(teamsMap.values()),\r\n                fixture: fixture\r\n            };\r\n        }\r\n    } catch (error) {\r\n        console.error('Error reading CEV Challenge data:', error);\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-2xl font-bold text-emerald-500\">Veri Y├╝klenemedi</h1>\r\n                    <p className=\"text-slate-400 mt-2\">CEV Challenge Cup verileri y├╝klenirken bir hata olu┼ştu.</p>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <CEVChallengeGuncelDurumClient\r\n            initialData={data}\r\n        />\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\playoffs\\CEVChallengePlayoffsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMemo' is defined but never used.","line":3,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[581,584],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[581,584],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":222,"column":48,"nodeType":null,"messageId":"unusedVar","endLine":222,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport TeamAvatar from \"../../components/TeamAvatar\";\r\nimport Link from \"next/link\";\r\nimport { SCORES } from \"../../utils/calculatorUtils\";\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    isPlayed: boolean;\r\n    setScores?: string;\r\n}\r\n\r\ninterface CEVChallengeData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: any[];\r\n    fixture: Match[];\r\n}\r\n\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"Qualification Rounds\": \"Eleme Turlar─▒\",\r\n    \"Main Round\": \"Son 32 Turu\",\r\n    \"16th Finals\": \"Son 32 Turu\",\r\n    \"8th Finals\": \"Son 16 Turu\",\r\n    \"Play Off\": \"Play-Off Turu\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\",\r\n    \"Final Phase\": \"Final A┼şamas─▒\"\r\n};\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"Kuzeyboru AKSARAY\", \"THY ISTANBUL\", \"Galatasaray\", \"Kuzeyboru\", \"THY\"];\r\n\r\nexport default function CEVChallengePlayoffsClient({ initialData }: { initialData: CEVChallengeData }) {\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    // Load saved predictions\r\n    useEffect(() => {\r\n        const loadSaved = () => {\r\n            const saved = localStorage.getItem('cevChallengePredictions');\r\n            if (saved) {\r\n                try {\r\n                    setOverrides(JSON.parse(saved));\r\n                } catch (e) { console.error(e); }\r\n            }\r\n            setIsLoaded(true);\r\n        };\r\n\r\n        Promise.resolve().then(loadSaved);\r\n    }, []);\r\n\r\n    // Save predictions\r\n    useEffect(() => {\r\n        if (isLoaded) {\r\n            localStorage.setItem('cevChallengePredictions', JSON.stringify(overrides));\r\n        }\r\n    }, [overrides, isLoaded]);\r\n\r\n    const handleScoreChange = (matchId: number, score: string) => {\r\n        setOverrides(prev => {\r\n            const next = { ...prev };\r\n            if (score) next[`match-${matchId}`] = score;\r\n            else delete next[`match-${matchId}`];\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const handlePredictAll = () => {\r\n        const newOverrides = { ...overrides };\r\n        const possibleScores = ['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'];\r\n        let changed = false;\r\n\r\n        initialData.fixture.forEach(m => {\r\n            if (!m.isPlayed && !newOverrides[`match-${m.id}`]) {\r\n                const randomScore = possibleScores[Math.floor(Math.random() * possibleScores.length)];\r\n                newOverrides[`match-${m.id}`] = randomScore;\r\n                changed = true;\r\n            }\r\n        });\r\n\r\n        if (changed) setOverrides(newOverrides);\r\n    };\r\n\r\n    // Group matches by matchup (leg 1 + leg 2)\r\n    const getMatchups = (round: string) => {\r\n        const roundMatches = initialData.fixture.filter(m => m.round === round);\r\n        const grouped: Record<string, Match[]> = {};\r\n\r\n        roundMatches.forEach(match => {\r\n            const key = [match.homeTeam, match.awayTeam].sort().join(\" vs \");\r\n            if (!grouped[key]) grouped[key] = [];\r\n            grouped[key].push(match);\r\n        });\r\n\r\n        return Object.values(grouped).map(matches => {\r\n            const sorted = matches.sort((a, b) => (a.leg || 1) - (b.leg || 1));\r\n            const leg1 = sorted[0];\r\n            const leg2 = sorted[1];\r\n\r\n            // Determine team1 and team2 based on leg 1 (Team 1 = Home of Leg 1 usually)\r\n            const team1 = leg1.homeTeam;\r\n            const team2 = leg1.awayTeam;\r\n\r\n            // Calculate aggregate\r\n            let team1Points = 0;\r\n            let team2Points = 0;\r\n            let allPlayedOrPredicted = true;\r\n\r\n            const processMatch = (m: Match) => {\r\n                const isPlayed = m.isPlayed && m.homeScore !== null && m.awayScore !== null;\r\n                const pred = overrides[`match-${m.id}`];\r\n                let hScore = 0, aScore = 0;\r\n\r\n                if (isPlayed) {\r\n                    hScore = m.homeScore!;\r\n                    aScore = m.awayScore!;\r\n                } else if (pred) {\r\n                    [hScore, aScore] = pred.split('-').map(Number);\r\n                } else {\r\n                    allPlayedOrPredicted = false;\r\n                    return;\r\n                }\r\n\r\n                // Points Calculation logic (3-0/3-1 = 3pts, 3-2 = 2pts)\r\n                let hPts = 0, aPts = 0;\r\n                if (hScore === 3) {\r\n                    if (aScore <= 1) { hPts = 3; aPts = 0; }\r\n                    else { hPts = 2; aPts = 1; }\r\n                } else {\r\n                    if (hScore <= 1) { hPts = 0; aPts = 3; }\r\n                    else { hPts = 1; aPts = 2; }\r\n                }\r\n\r\n                if (m.homeTeam === team1) {\r\n                    team1Points += hPts;\r\n                    team2Points += aPts;\r\n                } else {\r\n                    team1Points += aPts;\r\n                    team2Points += hPts;\r\n                }\r\n            };\r\n\r\n            if (leg1) processMatch(leg1);\r\n            if (leg2) processMatch(leg2);\r\n\r\n            let winner = null;\r\n            let goldenSetNeeded = false;\r\n\r\n            if (allPlayedOrPredicted) {\r\n                if (team1Points > team2Points) winner = team1;\r\n                else if (team2Points > team1Points) winner = team2;\r\n                else goldenSetNeeded = true;\r\n            }\r\n\r\n            // Golden Set Override\r\n            const goldenKey = `golden-${leg1.id}`;\r\n            const goldenPred = overrides[goldenKey];\r\n\r\n            if (goldenSetNeeded) {\r\n                if (goldenPred === 'team1') winner = team1;\r\n                else if (goldenPred === 'team2') winner = team2;\r\n            }\r\n\r\n            return { matches: sorted, team1, team2, team1Points, team2Points, allPlayedOrPredicted, winner, goldenSetNeeded, goldenKey, goldenPred };\r\n        });\r\n    };\r\n\r\n    const rounds = [\"Qualification Rounds\", \"Main Round\", \"4th Finals\", \"Semi Finals\", \"Finals\", \"Final Phase\"];\r\n    const availableRounds = rounds.filter(r => initialData.fixture.some(m => m.round === r));\r\n\r\n    // Render a single inputs row\r\n    const renderScoreInput = (match: Match) => {\r\n        const isPlayed = match.isPlayed && match.homeScore !== null;\r\n        const pred = overrides[`match-${match.id}`];\r\n\r\n        if (isPlayed) {\r\n            return (\r\n                <span className=\"font-mono font-bold text-slate-300 bg-slate-900 px-2 py-1 rounded border border-slate-700\">\r\n                    {match.homeScore}-{match.awayScore}\r\n                </span>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <select\r\n                value={pred || ''}\r\n                onChange={(e) => handleScoreChange(match.id, e.target.value)}\r\n                className={`bg-slate-900 border text-xs rounded px-1 py-1 font-mono w-16 text-center appearance-none cursor-pointer hover:bg-slate-800 focus:ring-2 focus:ring-blue-500 outline-none transition-all ${pred ? 'border-blue-500 text-white' : 'border-slate-700 text-slate-500'}`}\r\n            >\r\n                <option value=\"\">v</option>\r\n                {SCORES.map(s => <option key={s} value={s}>{s}</option>)}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    const renderBracketCard = (round: string) => {\r\n        const matchups = getMatchups(round);\r\n        if (matchups.length === 0) return null;\r\n\r\n        return (\r\n            <div className=\"bg-slate-900/60 border border-slate-800 rounded-xl p-4 animate-in fade-in slide-in-from-bottom-4 duration-500\" key={round}>\r\n                <h3 className=\"text-lg font-bold text-amber-400 mb-4 flex items-center gap-2\">\r\n                    <span className=\"w-3 h-3 rounded-full bg-amber-500\"></span>\r\n                    {ROUND_LABELS[round] || round}\r\n                    <span className=\"text-xs text-slate-500 ml-auto bg-slate-900 px-2 py-1 rounded border border-slate-800\">{matchups.length} E┼şle┼şme</span>\r\n                </h3>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n                    {matchups.map((matchup, idx) => {\r\n                        // Check for Turkish teams using includes for fuzzy matching\r\n                        const hasTurkish = TURKISH_TEAMS.some(t => matchup.team1.includes(t) || matchup.team2.includes(t)) ||\r\n                            TURKISH_TEAMS.some(t => matchup.team1.toUpperCase().includes(\"GALATASARAY\") || matchup.team1.toUpperCase().includes(\"KUZEYBORU\") || matchup.team1.toUpperCase().includes(\"THY\"));\r\n\r\n                        const leg1 = matchup.matches[0];\r\n                        const leg2 = matchup.matches[1];\r\n\r\n                        return (\r\n                            <div\r\n                                key={idx}\r\n                                className={`relative bg-slate-950/80 rounded-xl border overflow-hidden group ${hasTurkish ? 'border-amber-600/40' : 'border-slate-800'}`}\r\n                            >\r\n                                {/* Status Header / Golden Set Indicator */}\r\n                                {(matchup.winner || matchup.goldenSetNeeded) && (\r\n                                    <div className={`text-[10px] uppercase font-bold text-center py-1 ${matchup.winner ? 'bg-emerald-900/20 text-emerald-400 border-b border-emerald-500/20' : 'bg-amber-900/20 text-amber-400 border-b border-amber-500/20'\r\n                                        }`}>\r\n                                        {matchup.winner ? `Tur Atlad─▒: ${matchup.winner}` : 'ALTIN SET GEREKL─░'}\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Match Content */}\r\n                                <div className=\"p-3 space-y-3\">\r\n                                    {/* Team 1 Row */}\r\n                                    <div className={`flex items-center justify-between gap-3 p-2 rounded-lg transition-colors ${matchup.winner === matchup.team1 ? 'bg-emerald-900/20 border border-emerald-500/20' : 'bg-slate-900/40 border border-transparent'}`}>\r\n                                        <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n                                            <TeamAvatar name={matchup.team1} size=\"sm\" />\r\n                                            <div className=\"flex flex-col min-w-0\">\r\n                                                <span className={`text-xs font-bold truncate ${matchup.winner === matchup.team1 ? 'text-emerald-400' : 'text-slate-200'}`}>\r\n                                                    {matchup.team1}\r\n                                                </span>\r\n                                                {hasTurkish && (matchup.team1.includes(\"Galatasaray\") || matchup.team1.includes(\"Kuzeyboru\") || matchup.team1.includes(\"THY\")) && <span className=\"text-[9px] text-amber-500 font-bold tracking-wider\">TEMS─░LC─░M─░Z</span>}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Middle Section: Scores */}\r\n                                    <div className=\"flex flex-col gap-2 bg-slate-900/30 rounded p-2 border border-slate-800/50\">\r\n                                        {/* Leg 1 */}\r\n                                        <div className=\"flex items-center justify-center gap-3 text-xs\">\r\n                                            <span className=\"text-slate-500 w-8 text-right\">Ma├ğ 1</span>\r\n                                            {renderScoreInput(leg1)}\r\n                                            <span className=\"text-slate-600 text-[10px] w-24 text-center truncate opacity-50\">{leg1.date}</span>\r\n                                        </div>\r\n\r\n                                        {/* Leg 2 */}\r\n                                        {leg2 && (\r\n                                            <div className=\"flex items-center justify-center gap-3 text-xs\">\r\n                                                <span className=\"text-slate-500 w-8 text-right\">Ma├ğ 2</span>\r\n                                                {renderScoreInput(leg2)}\r\n                                                <span className=\"text-slate-600 text-[10px] w-24 text-center truncate opacity-50\">{leg2.date}</span>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {/* Golden Set Selection */}\r\n                                        {matchup.goldenSetNeeded && (\r\n                                            <div className=\"flex items-center justify-center gap-2 mt-1 animate-pulse\">\r\n                                                <span className=\"text-amber-500 font-bold text-[10px]\">ALTIN SET:</span>\r\n                                                <div className=\"flex gap-1\">\r\n                                                    <button\r\n                                                        onClick={() => setOverrides(prev => ({ ...prev, [matchup.goldenKey]: 'team1' }))}\r\n                                                        className={`px-2 py-0.5 text-[9px] rounded border ${matchup.goldenPred === 'team1' ? 'bg-amber-500 text-slate-900 border-amber-500' : 'bg-slate-800 text-slate-400 border-slate-600'}`}\r\n                                                    >\r\n                                                        {matchup.team1.substring(0, 3)}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => setOverrides(prev => ({ ...prev, [matchup.goldenKey]: 'team2' }))}\r\n                                                        className={`px-2 py-0.5 text-[9px] rounded border ${matchup.goldenPred === 'team2' ? 'bg-amber-500 text-slate-900 border-amber-500' : 'bg-slate-800 text-slate-400 border-slate-600'}`}\r\n                                                    >\r\n                                                        {matchup.team2.substring(0, 3)}\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Team 2 Row */}\r\n                                    <div className={`flex items-center justify-between gap-3 p-2 rounded-lg transition-colors ${matchup.winner === matchup.team2 ? 'bg-emerald-900/20 border border-emerald-500/20' : 'bg-slate-900/40 border border-transparent'}`}>\r\n                                        <div className=\"flex items-center gap-3 flex-1 min-w-0 flex-row-reverse text-right\">\r\n                                            <TeamAvatar name={matchup.team2} size=\"sm\" />\r\n                                            <div className=\"flex flex-col min-w-0 items-end\">\r\n                                                <span className={`text-xs font-bold truncate ${matchup.winner === matchup.team2 ? 'text-emerald-400' : 'text-slate-200'}`}>\r\n                                                    {matchup.team2}\r\n                                                </span>\r\n                                                {hasTurkish && (matchup.team2.includes(\"Galatasaray\") || matchup.team2.includes(\"Kuzeyboru\") || matchup.team2.includes(\"THY\")) && <span className=\"text-[9px] text-amber-500 font-bold tracking-wider\">TEMS─░LC─░M─░Z</span>}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const totalMatches = initialData.fixture.length;\r\n    const completedMatches = initialData.fixture.filter(m => m.isPlayed || overrides[`match-${m.id}`]).length;\r\n    const progress = Math.round((completedMatches / totalMatches) * 100) || 0;\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 md:p-8 font-sans\">\r\n            <div className=\"max-w-7xl mx-auto space-y-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex flex-col gap-1\">\r\n                        <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">{initialData.league || 'CEV Challenge Cup'}</h1>\r\n                        <p className=\"text-[10px] text-slate-400 hidden sm:block\">Eleme Tablosu {initialData.season}</p>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={handlePredictAll}\r\n                        className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold rounded-lg shadow-lg shadow-blue-600/20 transition-all flex items-center gap-2 text-xs\"\r\n                    >\r\n                        <span>­şÄ▓</span>\r\n                        <span>T├╝m├╝n├╝ Tahmin Et</span>\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Info Banner */}\r\n                {progress < 100 && (\r\n                    <div className=\"bg-slate-900 border border-slate-800 p-4 rounded-xl flex items-center justify-between gap-4\">\r\n                        <div className=\"flex flex-col gap-1\">\r\n                            <span className=\"text-xs font-bold text-slate-300\">─░lerleme Durumu</span>\r\n                            <div className=\"w-32 sm:w-64 h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                                <div\r\n                                    className=\"h-full bg-gradient-to-r from-blue-500 to-emerald-500 transition-all duration-500\"\r\n                                    style={{ width: `${progress}%` }}\r\n                                ></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <div className=\"text-lg font-black text-white\">{completedMatches}/{totalMatches}</div>\r\n                            <div className=\"text-[10px] text-slate-500 uppercase font-bold\">Ma├ğ Tahmin Edildi</div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Bracket by Rounds */}\r\n                <div className=\"space-y-8\">\r\n                    {availableRounds.map(round => renderBracketCard(round))}\r\n                </div>\r\n\r\n                {/* Tournament Flow / Legend */}\r\n                <div className=\"bg-slate-900/60 border border-slate-800 rounded-xl p-6 mt-8\">\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-center\">\r\n                        <div className=\"p-2 border border-slate-800 rounded flex flex-col items-center gap-1\">\r\n                            <span className=\"w-2 h-2 rounded-full bg-emerald-500\"></span>\r\n                            <span className=\"text-slate-400\">Tur Atlayan</span>\r\n                        </div>\r\n                        <div className=\"p-2 border border-slate-800 rounded flex flex-col items-center gap-1\">\r\n                            <span className=\"w-2 h-2 rounded-full bg-amber-500\"></span>\r\n                            <span className=\"text-slate-400\">Alt─▒n Set/Temsilcimiz</span>\r\n                        </div>\r\n                        <div className=\"p-2 border border-slate-800 rounded flex flex-col items-center gap-1\">\r\n                            <span className=\"border border-blue-500 text-blue-500 px-1 rounded text-[10px]\">3-0</span>\r\n                            <span className=\"text-slate-400\">Tahmin Edilen Skor</span>\r\n                        </div>\r\n                        <div className=\"p-2 border border-slate-800 rounded flex flex-col items-center gap-1\">\r\n                            <span className=\"bg-slate-900 text-slate-300 border border-slate-700 px-1 rounded text-[10px]\">3-0</span>\r\n                            <span className=\"text-slate-400\">Resmi Sonu├ğ</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\playoffs\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[880,883],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[880,883],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1542,1545],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1542,1545],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1650,1653],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1650,1653],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\r\nimport path from 'path';\r\nimport { Metadata } from \"next\";\r\nimport CEVChallengePlayoffsClient from './CEVChallengePlayoffsClient';\r\n\r\nexport const metadata: Metadata = {\r\n    title: \"CEV Challenge Cup Playoff Sim├╝lasyonu\",\r\n    description: \"CEV Challenge Cup playoff sim├╝lasyonu. Eleme turlar─▒n─▒ sim├╝le edin.\",\r\n    openGraph: {\r\n        title: \"CEV Challenge Cup Playoff | VolleySimulator\",\r\n        description: \"Challenge Cup playoff e┼şle┼şmelerini sim├╝le edin.\",\r\n    },\r\n};\r\n\r\nexport default async function CEVChallengePlayoffsPage() {\r\n    const filePath = path.join(process.cwd(), 'data', 'cev-challenge-cup-data.json');\r\n    let data = null;\r\n\r\n    try {\r\n        if (fs.existsSync(filePath)) {\r\n            const fileContent = fs.readFileSync(filePath, 'utf8');\r\n            const sourceData = JSON.parse(fileContent);\r\n\r\n            const fixture: any[] = [];\r\n            const teamsMap = new Map();\r\n            let matchCounter = 1;\r\n\r\n            const parseScore = (scoreStr: string | null) => {\r\n                if (!scoreStr || !scoreStr.includes('-')) return { home: null, away: null };\r\n                const parts = scoreStr.split('-').map(p => parseInt(p.trim()));\r\n                return { home: isNaN(parts[0]) ? null : parts[0], away: isNaN(parts[1]) ? null : parts[1] };\r\n            };\r\n\r\n            if (sourceData.phases) {\r\n                // Track leg numbers for matchups\r\n                const matchupLegs = new Map<string, number>();\r\n\r\n                sourceData.phases.forEach((phase: any) => {\r\n                    const roundName = phase.name;\r\n                    phase.matches.forEach((m: any) => {\r\n                        const { home, away } = parseScore(m.score);\r\n                        if (!teamsMap.has(m.homeTeam)) teamsMap.set(m.homeTeam, { name: m.homeTeam, country: '' });\r\n                        if (!teamsMap.has(m.awayTeam)) teamsMap.set(m.awayTeam, { name: m.awayTeam, country: '' });\r\n\r\n                        // Determine leg\r\n                        const matchupKey = [m.homeTeam, m.awayTeam].sort().join(' vs ');\r\n                        const currentLeg = (matchupLegs.get(matchupKey) || 0) + 1;\r\n                        matchupLegs.set(matchupKey, currentLeg);\r\n\r\n                        fixture.push({\r\n                            id: matchCounter++,\r\n                            round: roundName,\r\n                            leg: currentLeg,\r\n                            date: m.date || 'TBD',\r\n                            homeTeam: m.homeTeam,\r\n                            awayTeam: m.awayTeam,\r\n                            homeScore: home,\r\n                            awayScore: away,\r\n                            setScores: m.sets,\r\n                            isPlayed: m.isPlayed\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n\r\n            data = {\r\n                league: \"CEV Challenge Cup\",\r\n                season: \"2025-2026\",\r\n                currentStage: \"Main Round\",\r\n                teams: Array.from(teamsMap.values()),\r\n                fixture: fixture\r\n            };\r\n        }\r\n    } catch (error) {\r\n        console.error('Error reading CEV Challenge data:', error);\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-2xl font-bold text-emerald-500\">Veri Y├╝klenemedi</h1>\r\n                    <p className=\"text-slate-400 mt-2\">CEV Challenge Cup verileri y├╝klenirken bir hata olu┼ştu.</p>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <CEVChallengePlayoffsClient initialData={data} />\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\stats\\CEVChallengeStatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\stats\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[641,644],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[641,644],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[673,676],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[673,676],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1398,1401],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1398,1401],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1506,1509],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1506,1509],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\r\nimport path from 'path';\r\nimport { Metadata } from \"next\";\r\nimport CEVChallengeStatsClient from './CEVChallengeStatsClient';\r\n\r\nexport const metadata: Metadata = {\r\n    title: \"CEV Challenge Cup ─░statistikler\",\r\n    description: \"CEV Challenge Cup tak─▒m istatistikleri ve performans analizleri.\",\r\n    openGraph: {\r\n        title: \"CEV Challenge Cup ─░statistikler | VolleySimulator\",\r\n        description: \"Challenge Cup tak─▒m istatistikleri.\",\r\n    },\r\n};\r\n\r\nexport default async function CEVChallengeStatsPage() {\r\n    const filePath = path.join(process.cwd(), 'data', 'cev-challenge-cup-data.json');\r\n    let teams: any[] = [];\r\n    const fixture: any[] = [];\r\n\r\n    try {\r\n        if (fs.existsSync(filePath)) {\r\n            const fileContent = fs.readFileSync(filePath, 'utf8');\r\n            const sourceData = JSON.parse(fileContent);\r\n\r\n            const teamsMap = new Map();\r\n            let matchCounter = 1;\r\n\r\n            const parseScore = (scoreStr: string | null) => {\r\n                if (!scoreStr || !scoreStr.includes('-')) return { home: null, away: null };\r\n                const parts = scoreStr.split('-').map(p => parseInt(p.trim()));\r\n                return { home: isNaN(parts[0]) ? null : parts[0], away: isNaN(parts[1]) ? null : parts[1] };\r\n            };\r\n\r\n            if (sourceData.phases) {\r\n                sourceData.phases.forEach((phase: any) => {\r\n                    const roundName = phase.name;\r\n                    phase.matches.forEach((m: any) => {\r\n                        const { home, away } = parseScore(m.score);\r\n                        if (!teamsMap.has(m.homeTeam)) teamsMap.set(m.homeTeam, { name: m.homeTeam, country: '' });\r\n                        if (!teamsMap.has(m.awayTeam)) teamsMap.set(m.awayTeam, { name: m.awayTeam, country: '' });\r\n\r\n                        fixture.push({\r\n                            id: matchCounter++,\r\n                            round: roundName,\r\n                            homeTeam: m.homeTeam,\r\n                            awayTeam: m.awayTeam,\r\n                            homeScore: home,\r\n                            awayScore: away,\r\n                            isPlayed: m.isPlayed\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n            teams = Array.from(teamsMap.values());\r\n        }\r\n    } catch (error) {\r\n        console.error('Error reading CEV Challenge data:', error);\r\n    }\r\n\r\n    return (\r\n        <CEVChallengeStatsClient teams={teams} fixture={fixture} />\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\tahminoyunu\\CEVChallengeTahminOyunuClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[619,622],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[619,622],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\n\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport { useToast } from \"../../components\";\r\nimport { useGameState } from \"../../utils/gameState\";\r\nimport { sounds } from \"../../utils/sounds\";\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface CEVChallengeData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: any[];\r\n    fixture: Match[];\r\n}\r\n\r\nconst ROUNDS = [\"Qualification Rounds\", \"Main Round\", \"4th Finals\", \"Semi Finals\", \"Finals\", \"Final Phase\"];\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"Qualification Rounds\": \"Eleme Turlar─▒\",\r\n    \"Main Round\": \"Ana Tablo\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\",\r\n    \"Final Phase\": \"Final A┼şamas─▒\"\r\n};\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"Kuzeyboru\", \"THY ISTANBUL\"];\r\n\r\nexport default function CEVChallengeTahminOyunuClient({ initialData }: { initialData: CEVChallengeData }) {\r\n    const { showToast, showUndoToast } = useToast();\r\n    const { addXP, recordPrediction, unlockAchievement, hasAchievement, gameState } = useGameState();\r\n\r\n    const [activeRound, setActiveRound] = useState<string>(\r\n        ROUND_LABELS[initialData.currentStage] ? initialData.currentStage : (initialData.fixture.length > 0 ? initialData.fixture[0].round : \"Main Round\")\r\n    );\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n\r\n    const availableRounds = useMemo(() => {\r\n        const roundsInData = new Set(initialData.fixture.map(m => m.round));\r\n        return ROUNDS.filter(r => roundsInData.has(r));\r\n    }, [initialData.fixture]);\r\n\r\n    const roundMatches = useMemo(() => {\r\n        return initialData.fixture.filter(m => m.round === activeRound);\r\n    }, [initialData.fixture, activeRound]);\r\n\r\n    // Load saved predictions\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('cevChallengePredictions');\r\n        if (saved) {\r\n            try {\r\n                setOverrides(JSON.parse(saved));\r\n            } catch (e) { console.error(e); }\r\n        }\r\n    }, []);\r\n\r\n    // Save predictions\r\n    useEffect(() => {\r\n        localStorage.setItem('cevChallengePredictions', JSON.stringify(overrides));\r\n    }, [overrides]);\r\n\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...overrides };\r\n        const wasNew = !overrides[matchId];\r\n\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n\r\n            if (wasNew) {\r\n                addXP(10);\r\n                sounds.scoreSelect();\r\n\r\n                if (!hasAchievement('first_prediction')) {\r\n                    unlockAchievement('first_prediction');\r\n                    sounds.achievement();\r\n                }\r\n\r\n                if (gameState.stats.totalPredictions >= 49 && !hasAchievement('game_addict')) {\r\n                    unlockAchievement('game_addict');\r\n                    sounds.achievement();\r\n                }\r\n\r\n                recordPrediction(true);\r\n            }\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setOverrides(newOverrides);\r\n    };\r\n\r\n    const handleResetRound = () => {\r\n        if (!confirm(`${ROUND_LABELS[activeRound]} tahminleriniz silinecek. Emin misiniz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        roundMatches.forEach(m => {\r\n            delete newOverrides[`match-${m.id}`];\r\n        });\r\n        setOverrides(newOverrides);\r\n        showToast(`${ROUND_LABELS[activeRound]} tahminleri s─▒f─▒rland─▒`, \"success\");\r\n    };\r\n\r\n    const handleResetAll = () => {\r\n        const previousOverrides = { ...overrides };\r\n        setOverrides({});\r\n        localStorage.removeItem('cevChallengePredictions');\r\n        showUndoToast(\"CEV Challenge Cup tahminleri s─▒f─▒rland─▒\", () => {\r\n            setOverrides(previousOverrides);\r\n        });\r\n    };\r\n\r\n    const handleRandomize = () => {\r\n        if (!confirm(\"Oynanmam─▒┼ş ma├ğlar rastgele skorlarla doldurulacak. Onayl─▒yor musunuz?\")) return;\r\n        const newOverrides = { ...overrides };\r\n        const scores = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n        let count = 0;\r\n\r\n        roundMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`match-${match.id}`]) return;\r\n            const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n            newOverrides[`match-${match.id}`] = randomScore;\r\n            count++;\r\n        });\r\n\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ rastgele tahmin edildi!`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    const predictedCount = roundMatches.filter(m => overrides[`match-${m.id}`]).length;\r\n    const totalUnplayed = roundMatches.filter(m => !m.isPlayed).length;\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-1 sm:p-2 font-sans\">\r\n            <div className=\"w-full max-w-7xl mx-auto flex flex-col h-full gap-2\">\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3 p-2 bg-slate-900/40 rounded-xl border border-slate-800\">\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto\">\r\n                        <div className=\"text-center sm:text-left\">\r\n                            <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">CEV Challenge Cup</h1>\r\n                            <p className=\"text-[10px] text-slate-400 hidden sm:block\">Tahmin Oyunu</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2 items-center w-full sm:w-auto\">\r\n                            <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden sm:inline whitespace-nowrap\">TUR:</span>\r\n                            <div className=\"flex gap-1 p-1 bg-slate-950/50 rounded-lg border border-slate-800 items-center\">\r\n                                <select\r\n                                    value={activeRound}\r\n                                    onChange={(e) => setActiveRound(e.target.value)}\r\n                                    title=\"Tur Se├ğin\"\r\n                                    className=\"px-3 py-1 bg-emerald-600/20 text-emerald-500 text-[10px] uppercase font-black rounded-md border border-emerald-500/30 outline-none cursor-pointer transition-all focus:ring-2 focus:ring-emerald-500/50\"\r\n                                >\r\n                                    {availableRounds.map(r => (\r\n                                        <option key={r} value={r} className=\"bg-slate-900 text-white\">\r\n                                            {ROUND_LABELS[r] || r}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto\">\r\n                        <div className=\"flex items-center gap-2 sm:mr-2\">\r\n                            <span className=\"text-xs text-slate-500 hidden lg:inline\">\r\n                                {predictedCount}/{totalUnplayed} tahmin\r\n                            </span>\r\n                            <div className=\"w-16 h-1.5 bg-slate-800 rounded-full overflow-hidden\">\r\n                                <div\r\n                                    className=\"h-full bg-emerald-500 transition-all\"\r\n                                     \r\n                                    style={{ width: `${totalUnplayed > 0 ? (predictedCount / totalUnplayed) * 100 : 0}%` }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                                onClick={handleRandomize}\r\n                                className=\"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-bold rounded-lg transition-all\"\r\n                            >\r\n                                ­şÄ▓ Rastgele\r\n                            </button>\r\n                            <button\r\n                                onClick={handleResetRound}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white text-xs font-bold rounded-lg transition-all border border-slate-700\"\r\n                            >\r\n                                Turu S─▒f─▒rla\r\n                            </button>\r\n                            <button\r\n                                onClick={handleResetAll}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-rose-900/50 text-slate-400 hover:text-rose-400 text-xs font-bold rounded-lg transition-all border border-slate-700\"\r\n                            >\r\n                                T├╝m├╝n├╝ S─▒f─▒rla\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Matches Grid */}\r\n                <div className=\"bg-slate-900/40 rounded-2xl border border-slate-800/60 p-3 space-y-3\">\r\n                    <h2 className=\"text-xl font-black italic uppercase tracking-tighter text-emerald-500\">\r\n                        {ROUND_LABELS[activeRound] || activeRound}\r\n                    </h2>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                        {roundMatches.map(match => {\r\n                            const matchId = `match-${match.id}`;\r\n                            const prediction = overrides[matchId];\r\n                            const hasTurkish = TURKISH_TEAMS.some(t => match.homeTeam.includes(t)) || TURKISH_TEAMS.some(t => match.awayTeam.includes(t));\r\n\r\n                            return (\r\n                                <div\r\n                                    key={match.id}\r\n                                    id={matchId}\r\n                                    className={`bg-slate-950/60 rounded-xl border p-3 space-y-2 ${hasTurkish ? 'border-emerald-700/50 ring-1 ring-emerald-500/20' : 'border-slate-800/50'\r\n                                        }`}\r\n                                >\r\n                                    {/* Match Header */}\r\n                                    <div className=\"flex items-center justify-between text-[10px] text-slate-500\">\r\n                                        <span>{match.leg === 1 ? \"1. Ma├ğ\" : match.leg === 2 ? \"2. Ma├ğ\" : \"\"}</span>\r\n                                        <span>{match.date?.split('-').reverse().join('.')}</span>\r\n                                    </div>\r\n\r\n                                    {/* Teams */}\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"flex items-center gap-2 flex-1 overflow-hidden\">\r\n                                            <TeamAvatar name={match.homeTeam} size=\"sm\" />\r\n                                            <span className=\"text-sm font-bold text-slate-200 truncate\">\r\n                                                {match.homeTeam}\r\n                                                {TURKISH_TEAMS.some(t => match.homeTeam.includes(t)) && <span className=\"ml-1\">­şç╣­şçÀ</span>}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"px-2\">\r\n                                            {match.isPlayed ? (\r\n                                                <span className=\"text-sm font-bold text-emerald-400\">\r\n                                                    {match.homeScore} - {match.awayScore}\r\n                                                </span>\r\n                                            ) : (\r\n                                                <span className=\"text-xs text-slate-600\">VS</span>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 flex-1 justify-end overflow-hidden\">\r\n                                            <span className=\"text-sm font-bold text-slate-200 truncate text-right\">\r\n                                                {TURKISH_TEAMS.some(t => match.awayTeam.includes(t)) && <span className=\"mr-1\">­şç╣­şçÀ</span>}\r\n                                                {match.awayTeam}\r\n                                            </span>\r\n                                            <TeamAvatar name={match.awayTeam} size=\"sm\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Score Selection */}\r\n                                    {!match.isPlayed && (\r\n                                        <div className=\"flex flex-wrap gap-1 pt-2 border-t border-slate-800/50\">\r\n                                            {[\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"].map(score => {\r\n                                                const isSelected = prediction === score;\r\n                                                return (\r\n                                                    <button\r\n                                                        key={score}\r\n                                                        onClick={() => handleScoreChange(matchId, isSelected ? \"\" : score)}\r\n                                                        className={`\r\n                                                            px-2 py-1 text-xs rounded border transition-all\r\n                                                            ${isSelected\r\n                                                                ? 'bg-emerald-600 border-emerald-400 text-white font-bold shadow-[0_0_10px_rgba(16,185,129,0.5)]'\r\n                                                                : 'bg-slate-900 border-slate-700 text-slate-500 hover:bg-slate-800 hover:border-slate-500'}\r\n                                                        `}\r\n                                                    >\r\n                                                        {score}\r\n                                                    </button>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {roundMatches.length === 0 && (\r\n                        <div className=\"flex flex-col items-center justify-center py-12 text-slate-500\">\r\n                            <span className=\"text-4xl mb-2\">­şÅÉ</span>\r\n                            <p className=\"text-sm\">Bu tur i├ğin hen├╝z ma├ğ planlanmad─▒.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-challenge\\tahminoyunu\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[949,952],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[949,952],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1453,1456],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1453,1456],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":36,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1561,1564],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1561,1564],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\r\nimport path from 'path';\r\nimport { Metadata } from \"next\";\r\nimport CEVChallengeTahminOyunuClient from './CEVChallengeTahminOyunuClient';\r\n\r\nexport const metadata: Metadata = {\r\n    title: \"CEV Challenge Cup Tahmin Oyunu\",\r\n    description: \"CEV Challenge Cup ma├ğ sonu├ğlar─▒n─▒ tahmin edin. Avrupa kupas─▒ ma├ğlar─▒n─▒ tahmin ederek puan kazan─▒n.\",\r\n    openGraph: {\r\n        title: \"CEV Challenge Cup Tahmin Oyunu | VolleySimulator\",\r\n        description: \"Challenge Cup ma├ğ sonu├ğlar─▒n─▒ tahmin edin ve liderlik tablosunda yerinizi al─▒n.\",\r\n    },\r\n};\r\n\r\nexport default async function CEVChallengeTahminOyunuPage() {\r\n    const filePath = path.join(process.cwd(), 'data', 'cev-challenge-cup-data.json');\r\n    let data = null;\r\n\r\n    try {\r\n        if (fs.existsSync(filePath)) {\r\n            const fileContent = fs.readFileSync(filePath, 'utf8');\r\n            const sourceData = JSON.parse(fileContent);\r\n\r\n            const fixture: any[] = [];\r\n            let matchCounter = 1;\r\n\r\n            const parseScore = (scoreStr: string | null) => {\r\n                if (!scoreStr || !scoreStr.includes('-')) return { home: null, away: null };\r\n                const parts = scoreStr.split('-').map(p => parseInt(p.trim()));\r\n                return { home: isNaN(parts[0]) ? null : parts[0], away: isNaN(parts[1]) ? null : parts[1] };\r\n            };\r\n\r\n            if (sourceData.phases) {\r\n                sourceData.phases.forEach((phase: any) => {\r\n                    const roundName = phase.name;\r\n                    phase.matches.forEach((m: any) => {\r\n                        const { home, away } = parseScore(m.score);\r\n                        fixture.push({\r\n                            id: matchCounter++,\r\n                            round: roundName,\r\n                            leg: 1,\r\n                            date: m.date || 'TBD',\r\n                            homeTeam: m.homeTeam,\r\n                            awayTeam: m.awayTeam,\r\n                            homeScore: home,\r\n                            awayScore: away,\r\n                            isPlayed: m.isPlayed\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n\r\n            data = {\r\n                league: \"CEV Challenge Cup\",\r\n                season: \"2025-2026\",\r\n                currentStage: \"Main Round\",\r\n                teams: [],\r\n                fixture: fixture\r\n            };\r\n        }\r\n    } catch (error) {\r\n        console.error('Error reading CEV Challenge data:', error);\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-2xl font-bold text-emerald-500\">Veri Y├╝klenemedi</h1>\r\n                    <p className=\"text-slate-400 mt-2\">CEV Challenge Cup verileri y├╝klenirken bir hata olu┼ştu.</p>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <CEVChallengeTahminOyunuClient initialData={data} />\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\anasayfa\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":3,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'upcomingMatches' is assigned a value but never used.","line":58,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":185,"column":86,"nodeType":null,"messageId":"unusedVar","endLine":185,"endColumn":87}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface Team {\r\n    name: string;\r\n    groupName: string;\r\n    played: number;\r\n    wins: number;\r\n    points: number;\r\n    setsWon: number;\r\n    setsLost: number;\r\n}\r\n\r\ninterface Match {\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    groupName: string;\r\n    date?: string;\r\n    matchTime?: string;\r\n    round?: string;\r\n    isPlayed: boolean;\r\n    homeScore?: number | null;\r\n    awayScore?: number | null;\r\n    venue?: string;\r\n}\r\n\r\nconst sortStandings = (teams: Team[]): Team[] => {\r\n    return [...teams].sort((a, b) => {\r\n        if (b.points !== a.points) return b.points - a.points;\r\n        const aAvg = a.setsLost > 0 ? a.setsWon / a.setsLost : a.setsWon;\r\n        const bAvg = b.setsLost > 0 ? b.setsWon / b.setsLost : b.setsWon;\r\n        if (bAvg !== aAvg) return bAvg - aAvg;\r\n        return b.setsWon - a.setsWon;\r\n    });\r\n};\r\n\r\nexport default function CEVCLAnasayfa() {\r\n    const [teams, setTeams] = useState<Team[]>([]);\r\n    const [matches, setMatches] = useState<Match[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [selectedPool, setSelectedPool] = useState<string>(\"Pool A\");\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/cev-cl\")\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setTeams(data.teams || []);\r\n                setMatches(data.fixture || []);\r\n            })\r\n            .finally(() => setLoading(false));\r\n    }, []);\r\n\r\n    const pools = [\"Pool A\", \"Pool B\", \"Pool C\", \"Pool D\", \"Pool E\"];\r\n    const poolTeams = sortStandings(teams.filter(t => t.groupName === selectedPool));\r\n    const poolMatches = matches.filter(m => m.groupName === selectedPool);\r\n    const upcomingMatches = poolMatches.filter(m => !m.isPlayed).slice(0, 4);\r\n    const playedCount = matches.filter(m => m.isPlayed).length;\r\n\r\n    // Turkish teams highlight\r\n    const turkishTeams = [\"VakifBank ISTANBUL\", \"Fenerbah├ğe Medicana ISTANBUL\", \"Eczacibasi ISTANBUL\", \"ANKARA Zeren Spor Kul├╝b├╝\"];\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950\">\r\n            {/* Hero Header */}\r\n            <div className=\"bg-gradient-to-br from-blue-600 via-indigo-600 to-blue-800 px-4 py-4 relative overflow-hidden\">\r\n                <div className=\"relative max-w-4xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h1 className=\"text-xl font-bold text-white mb-1\">CEV ┼Şampiyonlar Ligi</h1>\r\n                            <p className=\"text-white/70 text-sm\">Kad─▒nlar ÔÇó 2025-2026</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <div className=\"text-3xl font-bold text-white\">{playedCount}</div>\r\n                            <div className=\"text-xs text-white/60\">Oynanan Ma├ğ</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-4xl mx-auto px-4 mt-4 space-y-4 pb-6\">\r\n                {/* Pool Selector */}\r\n                <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n                    {pools.map(pool => (\r\n                        <button\r\n                            key={pool}\r\n                            onClick={() => setSelectedPool(pool)}\r\n                            className={`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-all ${selectedPool === pool\r\n                                    ? \"bg-blue-600 text-white shadow-lg shadow-blue-500/30\"\r\n                                    : \"bg-slate-800 text-slate-400 hover:bg-slate-700\"\r\n                                }`}\r\n                        >\r\n                            {pool}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Pool Standings */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-slate-800/50 px-4 py-3 flex items-center justify-between border-b border-slate-800\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-blue-400\">­şôè</span> {selectedPool} - Puan Durumu\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50\">\r\n                        {poolTeams.map((team, i) => (\r\n                            <div key={team.name} className={`px-4 py-2.5 flex items-center gap-3 ${turkishTeams.includes(team.name) ? \"bg-red-900/20\" : \"\"\r\n                                }`}>\r\n                                <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${i === 0 ? \"bg-blue-600 text-white\" :\r\n                                        i === 1 ? \"bg-emerald-500 text-white\" :\r\n                                            \"bg-slate-700 text-slate-400\"\r\n                                    }`}>\r\n                                    {i + 1}\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <div className=\"font-medium text-sm text-slate-200 truncate flex items-center gap-2\">\r\n                                        {team.name}\r\n                                        {turkishTeams.includes(team.name) && (\r\n                                            <span className=\"text-xs\">­şç╣­şçÀ</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"text-xs text-slate-500\">{team.played}M</div>\r\n                                <div className=\"text-xs text-slate-500\">{team.setsWon}-{team.setsLost}</div>\r\n                                <div className=\"font-bold text-sm text-white w-8 text-right\">{team.points}</div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Pool Matches */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-slate-800/50 px-4 py-3 border-b border-slate-800\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-indigo-400\">­şôà</span> {selectedPool} - Ma├ğlar\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50 max-h-96 overflow-y-auto\">\r\n                        {poolMatches.map((match, i) => (\r\n                            <div key={i} className={`px-4 py-3 ${(turkishTeams.includes(match.homeTeam) || turkishTeams.includes(match.awayTeam))\r\n                                    ? \"bg-red-900/10\" : \"\"\r\n                                }`}>\r\n                                <div className=\"flex items-center gap-2 mb-1\">\r\n                                    <div className=\"flex-1 text-right text-sm text-slate-300 truncate\">\r\n                                        {match.homeTeam}\r\n                                        {turkishTeams.includes(match.homeTeam) && <span className=\"ml-1\">­şç╣­şçÀ</span>}\r\n                                    </div>\r\n                                    <div className={`px-2 py-0.5 rounded text-xs font-mono ${match.isPlayed\r\n                                            ? \"bg-emerald-500/20 text-emerald-400\"\r\n                                            : \"bg-slate-800 text-slate-500\"\r\n                                        }`}>\r\n                                        {match.isPlayed ? `${match.homeScore} - ${match.awayScore}` : \"vs\"}\r\n                                    </div>\r\n                                    <div className=\"flex-1 text-sm text-slate-300 truncate\">\r\n                                        {turkishTeams.includes(match.awayTeam) && <span className=\"mr-1\">­şç╣­şçÀ</span>}\r\n                                        {match.awayTeam}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex justify-between text-[10px] text-slate-500\">\r\n                                    <span>{match.round}</span>\r\n                                    <span>{match.date} {match.matchTime}</span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Turkish Teams Overview */}\r\n                <div className=\"bg-slate-900 border border-red-500/30 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-red-900/20 px-4 py-3 border-b border-red-500/20\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span>­şç╣­şçÀ</span> T├╝rk Tak─▒mlar─▒\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50\">\r\n                        {teams.filter(t => turkishTeams.includes(t.name)).map((team, i) => (\r\n                            <div key={team.name} className=\"px-4 py-3 flex items-center gap-3\">\r\n                                <div className=\"flex-1\">\r\n                                    <div className=\"font-medium text-sm text-white\">{team.name}</div>\r\n                                    <div className=\"text-xs text-slate-500\">{team.groupName}</div>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <div className=\"font-bold text-white\">{team.points} P</div>\r\n                                    <div className=\"text-xs text-slate-500\">{team.wins}G {team.played - team.wins}M</div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\gunceldurum\\CEVCLGuncelDurumClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[806,809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[806,809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\n\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport { sortStandings } from \"../../utils/calculatorUtils\";\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport LeagueActionBar from \"../../components/LeagueTemplate/LeagueActionBar\";\r\nimport { LEAGUE_CONFIGS } from \"../../components/LeagueTemplate/types\";\r\n\r\ninterface CEVCLGuncelDurumClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function CEVCLGuncelDurumClient({ initialTeams, initialMatches }: CEVCLGuncelDurumClientProps) {\r\n    const [allTeams] = useState<TeamStats[]>(initialTeams);\r\n    const [allMatches] = useState<Match[]>(initialMatches.map((m: any) => ({\r\n        ...m,\r\n        matchDate: m.date || m.matchDate\r\n    })));\r\n\r\n    const pools = [\"Grup A\", \"Grup B\", \"Grup C\", \"Grup D\", \"Grup E\"];\r\n    const [activePool, setActivePool] = useState<string>(\"Grup A\");\r\n\r\n    const backendGroupName = useMemo(() => activePool.replace(\"Grup\", \"Pool\"), [activePool]);\r\n    const poolTeams = useMemo(() => sortStandings(allTeams.filter(t => t.groupName === backendGroupName)), [allTeams, backendGroupName]);\r\n    const poolMatches = useMemo(() => allMatches.filter(m => m.groupName === backendGroupName), [allMatches, backendGroupName]);\r\n\r\n    const playedCount = poolMatches.filter(m => m.isPlayed).length;\r\n    const totalCount = poolMatches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    const turkishTeams = [\"VakifBank ISTANBUL\", \"Savino Del Bene SCANDICCI\", \"Fenerbah├ğe Medicana ISTANBUL\", \"Eczacibasi ISTANBUL\", \"ANKARA Zeren Spor Kul├╝b├╝\"];\r\n\r\n    const groupedMatches = useMemo(() => {\r\n        const matchesByDate: Record<string, { formatted: string; matches: Match[] }> = {};\r\n        const upcomingMatches = poolMatches.filter(m => !m.isPlayed);\r\n\r\n        upcomingMatches.forEach(match => {\r\n            if (!match.matchDate) return;\r\n            const parts = match.matchDate.split(/[-.]/);\r\n            let year, month, day;\r\n            if (parts[0].length === 4) { [year, month, day] = parts; }\r\n            else { [day, month, year] = parts; }\r\n            if (!year) year = \"2025\";\r\n\r\n            const sortKey = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;\r\n            const formatted = `${day}/${month}/${year}`;\r\n\r\n            if (!matchesByDate[sortKey]) {\r\n                matchesByDate[sortKey] = { formatted, matches: [] };\r\n            }\r\n            matchesByDate[sortKey].matches.push(match);\r\n        });\r\n\r\n        const sortedDates = Object.keys(matchesByDate).sort();\r\n        return sortedDates.reduce((acc, dateKey) => {\r\n            acc[dateKey] = matchesByDate[dateKey];\r\n            return acc;\r\n        }, {} as Record<string, { formatted: string, matches: Match[] }>);\r\n    }, [poolMatches]);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans overflow-hidden\">\r\n            <div className=\"max-w-7xl mx-auto space-y-1 h-full flex flex-col\">\r\n                <div className=\"space-y-3 bg-slate-900/40 p-3 rounded-2xl border border-slate-800/60 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                    {/* Action Bar using LeagueTemplate */}\r\n                    <LeagueActionBar\r\n                        config={LEAGUE_CONFIGS['cev-cl']}\r\n                        title={`${LEAGUE_CONFIGS['cev-cl'].name} - ${activePool}`}\r\n                        subtitle=\"CEV ┼Şampiyonlar Ligi ÔÇó G├╝ncel Durum\"\r\n                        selectorLabel=\"Grup\"\r\n                        selectorValue={activePool}\r\n                        selectorOptions={pools}\r\n                        onSelectorChange={setActivePool}\r\n                        progress={completionRate}\r\n                        progressLabel={`%${completionRate}`}\r\n                    >\r\n                        {/* Leader Badge */}\r\n                        <div className=\"hidden sm:flex bg-slate-950/50 px-3 py-1.5 rounded-lg border border-slate-800 text-center flex-col justify-center h-full min-h-[32px]\">\r\n                            <div className=\"text-[9px] font-bold text-slate-500 uppercase leading-none mb-0.5\">Lider</div>\r\n                            <div className=\"text-xs font-bold text-white truncate max-w-[100px] leading-none\">{poolTeams[0]?.name || \"-\"}</div>\r\n                        </div>\r\n                        {/* Live Badge */}\r\n                        <div className=\"px-3 h-8 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase hidden sm:inline\">Otomatik G├╝ncelleme</span>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase sm:hidden\">CANLI</span>\r\n                        </div>\r\n                    </LeagueActionBar>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-2 h-full\">\r\n                        <div className=\"lg:col-span-2 space-y-1 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôï</span> Puan Durumu Detaylar─▒\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1\">\r\n                                <StandingsTable teams={poolTeams} playoffSpots={2} relegationSpots={0} compact={true} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôà</span> Gelecek Ma├ğlar\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 relative\">\r\n                                <div className=\"absolute inset-0 overflow-y-auto p-2 space-y-2\">\r\n                                    {Object.keys(groupedMatches).length === 0 ? (\r\n                                        <div className=\"flex flex-col items-center justify-center h-full text-slate-500 text-xs italic\">\r\n                                            Ma├ğ bulunamad─▒ veya sezon tamamland─▒.\r\n                                        </div>\r\n                                    ) : (\r\n                                        Object.entries(groupedMatches).map(([dateKey, group], dateIdx) => (\r\n                                            <div key={dateKey} className={dateIdx > 0 ? 'mt-3' : ''}>\r\n                                                <div className=\"sticky top-0 bg-blue-600/20 px-2 py-1 rounded border border-blue-500/30 mb-2 z-10\">\r\n                                                    <span className=\"text-[10px] font-bold text-blue-400 uppercase tracking-wide\">\r\n                                                        {group.formatted}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"space-y-1.5\">\r\n                                                    {group.matches.map((match, idx) => (\r\n                                                        <div key={idx} className=\"flex items-center justify-between p-2 bg-slate-900/40 rounded border border-slate-800/50 hover:bg-slate-800/50 transition-colors group\">\r\n                                                            <div className=\"flex-1 flex items-center justify-end gap-2 overflow-hidden\">\r\n                                                                <span className=\"text-xs font-bold text-slate-300 text-right truncate\">\r\n                                                                    {match.homeTeam}\r\n                                                                    {turkishTeams.includes(match.homeTeam) && <span className=\"ml-1\">­şç╣­şçÀ</span>}\r\n                                                                </span>\r\n                                                                <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                                            </div>\r\n                                                            <div className=\"px-3 flex flex-col items-center\">\r\n                                                                <span className=\"text-[10px] font-bold text-slate-600 bg-slate-950 px-1.5 py-0.5 rounded border border-slate-800\">VS</span>\r\n                                                                {match.matchTime && (\r\n                                                                    <span className=\"text-[9px] text-slate-500 mt-0.5\">{match.matchTime}</span>\r\n                                                                )}\r\n                                                            </div>\r\n                                                            <div className=\"flex-1 flex items-center justify-start gap-2 overflow-hidden\">\r\n                                                                <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                                                <span className=\"text-xs font-bold text-slate-300 text-left truncate\">\r\n                                                                    {turkishTeams.includes(match.awayTeam) && <span className=\"mr-1\">­şç╣­şçÀ</span>}\r\n                                                                    {match.awayTeam}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        ))\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\gunceldurum\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\playoffs\\CEVCLPlayoffsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PoolData' is defined but never used.","line":10,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'poolWinners' is assigned a value but never used.","line":144,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":144,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'poolRunnersUp' is assigned a value but never used.","line":145,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":145,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'poolThirds' is assigned a value but never used.","line":146,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":146,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'thirdPlaceWinner' is assigned a value but never used.","line":403,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":403,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\nimport Link from \"next/link\";\r\n\r\nimport TeamAvatar from \"../../components/TeamAvatar\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\n\r\ninterface PoolData {\r\n    poolName: string;\r\n    teams: TeamStats[];\r\n}\r\n\r\ninterface CEVCLPlayoffsClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function CEVCLPlayoffsClient({ initialTeams, initialMatches }: CEVCLPlayoffsClientProps) {\r\n    // ONE-TIME Normalization to match Calculator Client keys (TR Uppercase)\r\n    const [baseTeams] = useState<TeamStats[]>(() =>\r\n        initialTeams.map(t => ({\r\n            ...t,\r\n            name: t.name.toLocaleUpperCase('tr-TR'),\r\n            groupName: t.groupName.replace('Pool ', '') + ' GRUBU' // Match Calculator style\r\n        }))\r\n    );\r\n\r\n    const [allMatches] = useState<Match[]>(() =>\r\n        initialMatches.map(m => ({\r\n            ...m,\r\n            homeTeam: m.homeTeam.toLocaleUpperCase('tr-TR'),\r\n            awayTeam: m.awayTeam.toLocaleUpperCase('tr-TR'),\r\n            groupName: typeof m.groupName === 'string' ? m.groupName.replace('Pool ', '') + ' GRUBU' : m.groupName\r\n        }))\r\n    );\r\n\r\n    const [groupOverrides, setGroupOverrides] = useState<Record<string, string>>({});\r\n    const [remainingMatches, setRemainingMatches] = useState(0);\r\n    const [playoffOverrides, setPlayoffOverrides] = useState<Record<string, string>>({});\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    // Tab state\r\n    const [activeTabFF, setActiveTabFF] = useState<'semi' | 'final' | '3rd'>('semi');\r\n\r\n    // Load Overrides\r\n    useEffect(() => {\r\n        const savedPlayoff = localStorage.getItem('cevclPlayoffScenarios');\r\n        if (savedPlayoff) {\r\n            try {\r\n                setPlayoffOverrides(JSON.parse(savedPlayoff));\r\n            } catch (e) { console.error(e); }\r\n        }\r\n\r\n        const savedGroup = localStorage.getItem('cevclGroupScenarios');\r\n        if (savedGroup) {\r\n            try {\r\n                setGroupOverrides(JSON.parse(savedGroup));\r\n            } catch (e) { console.error(e); }\r\n        }\r\n\r\n        setIsLoaded(true);\r\n    }, []);\r\n\r\n    // Check remaining matches\r\n    useEffect(() => {\r\n        let remaining = allMatches.filter((m: Match) => !m.isPlayed).length;\r\n        if (groupOverrides) {\r\n            const predictedCount = allMatches.filter(m => !m.isPlayed && groupOverrides[`${m.homeTeam}-${m.awayTeam}`]).length;\r\n            remaining = Math.max(0, remaining - predictedCount);\r\n        }\r\n        setRemainingMatches(remaining);\r\n    }, [allMatches, groupOverrides]);\r\n\r\n\r\n    // Calculate live standings\r\n    const pools = useMemo(() => {\r\n        if (!baseTeams.length) return [];\r\n\r\n        const poolNames = [\"A GRUBU\", \"B GRUBU\", \"C GRUBU\", \"D GRUBU\", \"E GRUBU\"];\r\n        const calculatedTeams = calculateLiveStandings(baseTeams, allMatches, groupOverrides);\r\n\r\n        return poolNames.map(poolName => {\r\n            const poolTeams = calculatedTeams\r\n                .filter((t: TeamStats) => t.groupName === poolName)\r\n                .sort((a: TeamStats, b: TeamStats) => {\r\n                    if (b.wins !== a.wins) return b.wins - a.wins;\r\n                    if (b.points !== a.points) return b.points - a.points;\r\n                    const aRatio = a.setsLost > 0 ? a.setsWon / a.setsLost : a.setsWon;\r\n                    const bRatio = b.setsLost > 0 ? b.setsWon / b.setsLost : b.setsWon;\r\n                    return bRatio - aRatio;\r\n                });\r\n            return { poolName, teams: poolTeams };\r\n        });\r\n    }, [baseTeams, allMatches, groupOverrides]);\r\n\r\n    // Save overrides\r\n    useEffect(() => {\r\n        if (isLoaded) {\r\n            localStorage.setItem('cevclPlayoffScenarios', JSON.stringify(playoffOverrides));\r\n        }\r\n    }, [playoffOverrides, isLoaded]);\r\n\r\n    useEffect(() => {\r\n        if (isLoaded) {\r\n            localStorage.setItem('cevclGroupScenarios', JSON.stringify(groupOverrides));\r\n        }\r\n    }, [groupOverrides, isLoaded]);\r\n\r\n    const isGroupsComplete = remainingMatches === 0;\r\n\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...playoffOverrides };\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setPlayoffOverrides(newOverrides);\r\n    };\r\n\r\n    const handlePredictAll = () => {\r\n        const newGroupOverrides = { ...groupOverrides };\r\n        const possibleScores = ['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'];\r\n\r\n        let addedCount = 0;\r\n        allMatches.forEach(m => {\r\n            if (!m.isPlayed) {\r\n                const key = `${m.homeTeam}-${m.awayTeam}`;\r\n                if (!newGroupOverrides[key]) {\r\n                    newGroupOverrides[key] = possibleScores[Math.floor(Math.random() * possibleScores.length)];\r\n                    addedCount++;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (addedCount > 0) {\r\n            setGroupOverrides(newGroupOverrides);\r\n        }\r\n    };\r\n\r\n    // Get pool winners and runners-up\r\n    const poolWinners = pools.map(p => p.teams[0]?.name || null);\r\n    const poolRunnersUp = pools.map(p => p.teams[1]?.name || null);\r\n    const poolThirds = pools.map(p => p.teams[2]?.name || null);\r\n\r\n    // Rank pool winners\r\n    const rankedWinners = pools\r\n        .map((p, idx) => ({ name: p.teams[0]?.name, points: p.teams[0]?.points || 0, poolIdx: idx }))\r\n        .sort((a, b) => b.points - a.points);\r\n\r\n    // Rank runners-up\r\n    const rankedRunnersUp = pools\r\n        .map((p, idx) => ({ name: p.teams[1]?.name, points: p.teams[1]?.points || 0, poolIdx: idx }))\r\n        .sort((a, b) => b.points - a.points);\r\n\r\n    // Best 3rd placed team\r\n    const rankedThirds = pools\r\n        .map((p, idx) => ({ name: p.teams[2]?.name, points: p.teams[2]?.points || 0, poolIdx: idx }))\r\n        .sort((a, b) => b.points - a.points);\r\n    const bestThird = rankedThirds[0]?.name || null;\r\n\r\n    // Calculate points for a match score\r\n    const getMatchPoints = (score: string | undefined): { home: number, away: number } | null => {\r\n        if (!score) return null;\r\n        const [h, a] = score.split('-').map(Number);\r\n\r\n        if (h === 3 && (a === 0 || a === 1)) return { home: 3, away: 0 };\r\n        if (h === 3 && a === 2) return { home: 2, away: 1 };\r\n        if (h === 2 && a === 3) return { home: 1, away: 2 };\r\n        if ((h === 0 || h === 1) && a === 3) return { home: 0, away: 3 };\r\n        return { home: 0, away: 0 };\r\n    };\r\n\r\n    const calculateLegacyResult = (matchId: string, homeTeam: string | null, awayTeam: string | null, matchFormat: '2leg' | '1match') => {\r\n        if (!homeTeam || !awayTeam) return { winner: null, loser: null, goldenSetNeeded: false };\r\n\r\n        if (matchFormat === '1match') {\r\n            const score = playoffOverrides[`${matchId}-m1`];\r\n            if (!score) return { winner: null, loser: null };\r\n            const [h, a] = score.split('-').map(Number);\r\n            return h > a ? { winner: homeTeam, loser: awayTeam } : { winner: awayTeam, loser: homeTeam };\r\n        }\r\n\r\n        // 2 Leg Logic\r\n        const score1 = playoffOverrides[`${matchId}-m1`];\r\n        const score2 = playoffOverrides[`${matchId}-m2`];\r\n        const golden = playoffOverrides[`${matchId}-golden`];\r\n\r\n        if (!score1 || !score2) return { winner: null, loser: null, goldenSetNeeded: false };\r\n\r\n        const p1 = getMatchPoints(score1);\r\n        const p2 = getMatchPoints(score2);\r\n\r\n        if (!p1 || !p2) return { winner: null, loser: null };\r\n\r\n        const totalHome = p1.home + p2.home;\r\n        const totalAway = p1.away + p2.away;\r\n\r\n        if (totalHome > totalAway) return { winner: homeTeam, loser: awayTeam, goldenSetNeeded: false };\r\n        if (totalAway > totalHome) return { winner: awayTeam, loser: homeTeam, goldenSetNeeded: false };\r\n\r\n        if (golden === 'home') return { winner: homeTeam, loser: awayTeam, goldenSetNeeded: true };\r\n        if (golden === 'away') return { winner: awayTeam, loser: homeTeam, goldenSetNeeded: true };\r\n\r\n        return { winner: null, loser: null, goldenSetNeeded: true };\r\n    };\r\n\r\n    const getWinner = (matchId: string, homeTeam: string | null, awayTeam: string | null, matchFormat: '2leg' | '1match' = '2leg'): string | null => {\r\n        return calculateLegacyResult(matchId, homeTeam, awayTeam, matchFormat).winner;\r\n    };\r\n\r\n    const getLoser = (matchId: string, homeTeam: string | null, awayTeam: string | null, matchFormat: '2leg' | '1match' = '2leg'): string | null => {\r\n        return calculateLegacyResult(matchId, homeTeam, awayTeam, matchFormat).loser;\r\n    };\r\n\r\n    const randomizeCEVMatch = (matchId: string, matchFormat: '2leg' | '1match') => {\r\n        const newOverrides = { ...playoffOverrides };\r\n        const possibleScores = ['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'];\r\n\r\n        const s1 = possibleScores[Math.floor(Math.random() * possibleScores.length)];\r\n        newOverrides[`${matchId}-m1`] = s1;\r\n\r\n        if (matchFormat === '2leg') {\r\n            const s2 = possibleScores[Math.floor(Math.random() * possibleScores.length)];\r\n            newOverrides[`${matchId}-m2`] = s2;\r\n\r\n            const p1 = getMatchPoints(s1);\r\n            const p2 = getMatchPoints(s2);\r\n            if (p1 && p2) {\r\n                const totalHome = p1.home + p2.home;\r\n                const totalAway = p1.away + p2.away;\r\n                if (totalHome === totalAway) {\r\n                    newOverrides[`${matchId}-golden`] = Math.random() > 0.5 ? 'home' : 'away';\r\n                } else {\r\n                    delete newOverrides[`${matchId}-golden`];\r\n                }\r\n            }\r\n        }\r\n        setPlayoffOverrides(newOverrides);\r\n    };\r\n\r\n    const renderBracketMatch = (matchId: string, homeTeam: string | null, awayTeam: string | null, label: string, matchFormat: '2leg' | '1match' = '2leg') => {\r\n        const result = calculateLegacyResult(matchId, homeTeam, awayTeam, matchFormat);\r\n        const homeSeriesWin = result.winner === homeTeam;\r\n        const awaySeriesWin = result.winner === awayTeam;\r\n        const showGoldenSet = result.goldenSetNeeded;\r\n\r\n        const formatLabel = matchFormat === '2leg' ? '2 Leg' : 'Tek Ma├ğ';\r\n\r\n        return (\r\n            <div className=\"bg-slate-800 rounded-lg p-3 border border-slate-700 space-y-3 min-w-[200px]\">\r\n                <div className=\"flex items-center justify-between border-b border-slate-700/50 pb-2\">\r\n                    <div className=\"text-[10px] text-blue-400 font-bold uppercase tracking-wider flex items-center gap-2\">\r\n                        {label}\r\n                        {homeTeam && awayTeam && (\r\n                            <button\r\n                                onClick={() => randomizeCEVMatch(matchId, matchFormat)}\r\n                                className=\"text-base hover:scale-110 transition-transform\"\r\n                                title=\"Rastgele Oynat\"\r\n                            >\r\n                                ­şÄ▓\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                    <span className=\"text-[9px] text-slate-500 bg-slate-900 px-1.5 py-0.5 rounded\">{formatLabel}</span>\r\n                </div>\r\n\r\n                <div className={`flex items-center justify-between p-2 rounded transition-colors ${homeSeriesWin ? 'bg-gradient-to-r from-emerald-900/40 to-slate-900/50 border border-emerald-500/30' : 'bg-slate-900/50'}`}>\r\n                    <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                        <TeamAvatar name={homeTeam || '?'} size=\"sm\" />\r\n                        <span className={`text-xs truncate ${homeSeriesWin ? 'text-emerald-400 font-bold' : 'text-slate-300'}`}>\r\n                            {homeTeam || 'TBD'}\r\n                        </span>\r\n                    </div>\r\n                    {homeSeriesWin && <span className=\"text-xs text-emerald-400 font-bold\">Tur Atlad─▒</span>}\r\n                </div>\r\n\r\n                <div className={`flex items-center justify-between p-2 rounded transition-colors ${awaySeriesWin ? 'bg-gradient-to-r from-emerald-900/40 to-slate-900/50 border border-emerald-500/30' : 'bg-slate-900/50'}`}>\r\n                    <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                        <TeamAvatar name={awayTeam || '?'} size=\"sm\" />\r\n                        <span className={`text-xs truncate ${awaySeriesWin ? 'text-emerald-400 font-bold' : 'text-slate-300'}`}>\r\n                            {awayTeam || 'TBD'}\r\n                        </span>\r\n                    </div>\r\n                    {awaySeriesWin && <span className=\"text-xs text-emerald-400 font-bold\">Tur Atlad─▒</span>}\r\n                </div>\r\n\r\n                {homeTeam && awayTeam && (\r\n                    <div className=\"bg-slate-900/50 p-2 rounded border border-slate-800 mt-2 space-y-3\">\r\n                        {/* Match 1 */}\r\n                        <div className=\"flex flex-col gap-1\">\r\n                            <span className=\"text-[9px] text-slate-500 uppercase font-bold pl-1\">\r\n                                {matchFormat === '1match' ? `${homeTeam} vs ${awayTeam}` : `1. Ma├ğ: ${homeTeam} vs ${awayTeam}`}\r\n                            </span>\r\n                            <div className=\"flex flex-wrap gap-1\">\r\n                                {['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'].map(score => {\r\n                                    const isSelected = playoffOverrides[`${matchId}-m1`] === score;\r\n                                    return (\r\n                                        <button\r\n                                            key={score}\r\n                                            onClick={() => handleScoreChange(`${matchId}-m1`, isSelected ? '' : score)}\r\n                                            className={`\r\n                                                px-1.5 py-0.5 text-[10px] rounded border transition-all\r\n                                                ${isSelected\r\n                                                    ? 'bg-blue-600 border-blue-400 text-white font-bold shadow-[0_0_10px_rgba(37,99,235,0.5)]'\r\n                                                    : 'bg-slate-900 border-slate-700 text-slate-500 hover:bg-slate-800 hover:border-slate-500'}\r\n                                            `}\r\n                                        >\r\n                                            {score}\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Match 2 (Only for 2leg) */}\r\n                        {matchFormat === '2leg' && (\r\n                            <div className=\"flex flex-col gap-1\">\r\n                                <span className=\"text-[9px] text-slate-500 uppercase font-bold pl-1\">2. Ma├ğ: {awayTeam} vs {homeTeam}</span>\r\n                                <div className=\"flex flex-wrap gap-1\">\r\n                                    {['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'].map(score => {\r\n                                        const isSelected = playoffOverrides[`${matchId}-m2`] === score;\r\n                                        return (\r\n                                            <button\r\n                                                key={score}\r\n                                                onClick={() => handleScoreChange(`${matchId}-m2`, isSelected ? '' : score)}\r\n                                                className={`\r\n                                                    px-1.5 py-0.5 text-[10px] rounded border transition-all\r\n                                                    ${isSelected\r\n                                                        ? 'bg-blue-600 border-blue-400 text-white font-bold shadow-[0_0_10px_rgba(37,99,235,0.5)]'\r\n                                                        : 'bg-slate-900 border-slate-700 text-slate-500 hover:bg-slate-800 hover:border-slate-500'}\r\n                                                `}\r\n                                            >\r\n                                                {score}\r\n                                            </button>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Golden Set Input */}\r\n                        {showGoldenSet && (\r\n                            <div className=\"flex flex-col gap-1 animate-in fade-in slide-in-from-top-2\">\r\n                                <span className=\"text-[9px] text-amber-500 uppercase font-bold pl-1 flex items-center gap-1\">\r\n                                    <span>­şÅå</span> Alt─▒n Set Kazanan─▒\r\n                                </span>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => handleScoreChange(`${matchId}-golden`, 'home')}\r\n                                        className={`flex-1 py-1.5 text-[10px] rounded border ${playoffOverrides[`${matchId}-golden`] === 'home' ? 'bg-amber-500/20 border-amber-500 text-amber-400' : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700'}`}\r\n                                    >\r\n                                        Ev Sahibi\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleScoreChange(`${matchId}-golden`, 'away')}\r\n                                        className={`flex-1 py-1.5 text-[10px] rounded border ${playoffOverrides[`${matchId}-golden`] === 'away' ? 'bg-amber-500/20 border-amber-500 text-amber-400' : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700'}`}\r\n                                    >\r\n                                        Deplasman\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const playoff6_1_home = bestThird;\r\n    const playoff6_1_away = rankedRunnersUp[0]?.name || null;\r\n    const playoff6_2_home = rankedRunnersUp[4]?.name || null;\r\n    const playoff6_2_away = rankedRunnersUp[1]?.name || null;\r\n    const playoff6_3_home = rankedRunnersUp[3]?.name || null;\r\n    const playoff6_3_away = rankedRunnersUp[2]?.name || null;\r\n\r\n    const playoff6_1_winner = getWinner('cevcl-po6-1', playoff6_1_home, playoff6_1_away);\r\n    const playoff6_2_winner = getWinner('cevcl-po6-2', playoff6_2_home, playoff6_2_away);\r\n    const playoff6_3_winner = getWinner('cevcl-po6-3', playoff6_3_home, playoff6_3_away);\r\n\r\n    const qf1_home = playoff6_1_winner;\r\n    const qf1_away = rankedWinners[2]?.name || null;\r\n    const qf2_home = playoff6_2_winner;\r\n    const qf2_away = rankedWinners[1]?.name || null;\r\n    const qf3_home = rankedWinners[4]?.name || null;\r\n    const qf3_away = rankedWinners[3]?.name || null;\r\n    const qf4_home = playoff6_3_winner;\r\n    const qf4_away = rankedWinners[0]?.name || null;\r\n\r\n    const qf1_winner = getWinner('cevcl-qf-1', qf1_home, qf1_away);\r\n    const qf2_winner = getWinner('cevcl-qf-2', qf2_home, qf2_away);\r\n    const qf3_winner = getWinner('cevcl-qf-3', qf3_home, qf3_away);\r\n    const qf4_winner = getWinner('cevcl-qf-4', qf4_home, qf4_away);\r\n\r\n    const sf1_winner = getWinner('cevcl-sf-1', qf1_winner, qf2_winner, '1match');\r\n    const sf2_winner = getWinner('cevcl-sf-2', qf3_winner, qf4_winner, '1match');\r\n    const sf1_loser = getLoser('cevcl-sf-1', qf1_winner, qf2_winner, '1match');\r\n    const sf2_loser = getLoser('cevcl-sf-2', qf3_winner, qf4_winner, '1match');\r\n\r\n    const finalWinner = getWinner('cevcl-final', sf1_winner, sf2_winner, '1match');\r\n    const thirdPlaceWinner = getWinner('cevcl-3rd', sf1_loser, sf2_loser, '1match');\r\n\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-4 md:p-8 font-sans\">\r\n            <div className=\"max-w-7xl mx-auto space-y-6\">\r\n                <div className=\"flex flex-col gap-1\">\r\n                    <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">CEV ┼Şampiyonlar Ligi</h1>\r\n                    <p className=\"text-[10px] text-slate-400 hidden sm:block\">Playoff ve Final Four 2025-2026</p>\r\n                </div>\r\n\r\n                {!isGroupsComplete && (\r\n                    <div className=\"bg-blue-500/10 border border-blue-500/20 text-blue-200 p-4 rounded-lg flex items-center justify-between gap-3\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <span className=\"text-2xl\">ÔÜá´©Å</span>\r\n                            <div>\r\n                                <p className=\"font-bold text-sm\">Havuz Etab─▒ Hen├╝z Tamamlanmad─▒</p>\r\n                                <p className=\"text-xs opacity-70\">\r\n                                    Play-Off senaryolar─▒ mevcut s─▒ralamaya g├Âre hesaplanmaktad─▒r.\r\n                                    Kesin sonu├ğlar i├ğin ├Ânce t├╝m havuz ma├ğlar─▒n─▒ tahmin edin.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={handlePredictAll}\r\n                            className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded flex items-center gap-1 transition-colors whitespace-nowrap\"\r\n                        >\r\n                            <span>­şÄ▓</span>\r\n                            T├╝m├╝n├╝ Tahmin Et\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"relative\">\r\n                    {!isGroupsComplete && (\r\n                        <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-20 flex flex-col items-center justify-start pt-16 rounded-xl\">\r\n                            <div className=\"text-6xl mb-4\">­şöÆ</div>\r\n                            <h3 className=\"text-xl font-bold text-white mb-2\">Play-Off Kilitli</h3>\r\n                            <p className=\"text-slate-400 text-sm text-center max-w-md mb-4\">\r\n                                Play-Off senaryolar─▒n─▒ d├╝zenleyebilmek i├ğin ├Ânce t├╝m havuz ma├ğlar─▒n─▒ tahmin etmeniz gerekmektedir.\r\n                            </p>\r\n                            <p className=\"text-blue-400 font-medium\">\r\n                                {remainingMatches} ma├ğ eksik\r\n                            </p>\r\n                            <div className=\"flex gap-2 mt-4\">\r\n                                <Link href=\"/cev-cl/tahminoyunu\" className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded-lg transition-colors border border-slate-700\">\r\n                                    Tahminlere Git ÔåÆ\r\n                                </Link>\r\n                                <button\r\n                                    onClick={handlePredictAll}\r\n                                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition-colors shadow-lg shadow-blue-600/20\"\r\n                                >\r\n                                    ­şÄ▓ T├╝m├╝n├╝ Tahmin Et ({remainingMatches})\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className={`${!isGroupsComplete ? 'opacity-30 pointer-events-none select-none' : ''} space-y-6`}>\r\n\r\n                        {/* Pool Qualification Status */}\r\n                        <div className=\"bg-slate-900/60 border border-slate-800 rounded-xl p-4\">\r\n                            <h2 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\r\n                                <span>­şôè</span> Havuz Durumu ve Kalifikasyon\r\n                            </h2>\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3\">\r\n                                {pools.map((pool) => (\r\n                                    <div key={pool.poolName} className=\"bg-slate-800 rounded-lg p-3 border border-slate-700\">\r\n                                        <div className=\"text-xs font-bold text-blue-400 mb-2\">{pool.poolName}</div>\r\n                                        <div className=\"space-y-1\">\r\n                                            {pool.teams.slice(0, 3).map((team, tIdx) => (\r\n                                                <div key={team.name} className={`text-xs flex items-center gap-1 ${tIdx === 0 ? 'text-emerald-400' :\r\n                                                    tIdx === 1 ? 'text-amber-400' :\r\n                                                        'text-slate-400'\r\n                                                    }`}>\r\n                                                    <span className=\"w-4 text-center\">{tIdx + 1}.</span>\r\n                                                    <TeamAvatar name={team.name} size=\"xs\" />\r\n                                                    <span className=\"truncate flex-1\">{team.name}</span>\r\n                                                    <span className=\"text-slate-500\">{team.points}P</span>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* PLAYOFF 6 */}\r\n                        <div className=\"bg-gradient-to-br from-amber-900/30 to-slate-900/50 border border-amber-500/20 rounded-xl p-6\">\r\n                            <h2 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\r\n                                <span className=\"w-3 h-3 rounded-full bg-amber-500\"></span>\r\n                                Playoff 6\r\n                                <span className=\"text-xs text-amber-400 ml-auto\">┼Şubat 2026</span>\r\n                            </h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                                {renderBracketMatch('cevcl-po6-1', playoff6_1_home, playoff6_1_away, 'Tie 1: En ─░yi 3. vs 1. ─░kinci')}\r\n                                {renderBracketMatch('cevcl-po6-2', playoff6_2_home, playoff6_2_away, 'Tie 2: 5. ─░kinci vs 2. ─░kinci')}\r\n                                {renderBracketMatch('cevcl-po6-3', playoff6_3_home, playoff6_3_away, 'Tie 3: 4. ─░kinci vs 3. ─░kinci')}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* QUARTERFINALS */}\r\n                        <div className=\"bg-gradient-to-br from-blue-900/30 to-slate-900/50 border border-blue-500/20 rounded-xl p-6\">\r\n                            <h2 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\r\n                                <span className=\"w-3 h-3 rounded-full bg-blue-500\"></span>\r\n                                ├çeyrek Final\r\n                                <span className=\"text-xs text-blue-400 ml-auto\">Mart 2026</span>\r\n                            </h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                                {renderBracketMatch('cevcl-qf-1', qf1_home, qf1_away, 'QF1: PO6-1 K. vs 3. Birinci')}\r\n                                {renderBracketMatch('cevcl-qf-2', qf2_home, qf2_away, 'QF2: PO6-2 K. vs 2. Birinci')}\r\n                                {renderBracketMatch('cevcl-qf-3', qf3_home, qf3_away, 'QF3: 5. Birinci vs 4. Birinci')}\r\n                                {renderBracketMatch('cevcl-qf-4', qf4_home, qf4_away, 'QF4: PO6-3 K. vs 1. Birinci')}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* FINAL FOUR */}\r\n                        <div className=\"bg-gradient-to-br from-purple-900/30 to-slate-900/50 border border-purple-500/20 rounded-xl p-6\">\r\n                            <h2 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\r\n                                <span className=\"w-3 h-3 rounded-full bg-purple-500\"></span>\r\n                                Final Four\r\n                                <span className=\"text-xs text-purple-400 ml-auto\">2-3 May─▒s 2026</span>\r\n                            </h2>\r\n\r\n                            <div className=\"flex gap-2 border-b border-purple-500/20 mb-6 overflow-x-auto pb-2\">\r\n                                <button onClick={() => setActiveTabFF('semi')} className={`px-4 py-2 text-sm font-bold rounded-t-lg transition-colors whitespace-nowrap ${activeTabFF === 'semi' ? 'bg-purple-600 text-white' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>Yar─▒ Final</button>\r\n                                <button onClick={() => setActiveTabFF('final')} className={`px-4 py-2 text-sm font-bold rounded-t-lg transition-colors whitespace-nowrap ${activeTabFF === 'final' ? 'bg-amber-600 text-white' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>Super Final</button>\r\n                                <button onClick={() => setActiveTabFF('3rd')} className={`px-4 py-2 text-sm font-bold rounded-t-lg transition-colors whitespace-nowrap ${activeTabFF === '3rd' ? 'bg-slate-600 text-white' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>3.&apos;l├╝k Ma├ğ─▒</button>\r\n                            </div>\r\n\r\n                            <div className=\"min-h-[250px]\">\r\n                                {activeTabFF === 'semi' && (\r\n                                    <div className=\"grid md:grid-cols-2 gap-6\">\r\n                                        {renderBracketMatch('cevcl-sf-1', qf1_winner, qf2_winner, 'SF1: QF1 K. vs QF2 K.', '1match')}\r\n                                        {renderBracketMatch('cevcl-sf-2', qf3_winner, qf4_winner, 'SF2: QF3 K. vs QF4 K.', '1match')}\r\n                                    </div>\r\n                                )}\r\n                                {activeTabFF === 'final' && (\r\n                                    <div>\r\n                                        <div className=\"max-w-md\">\r\n                                            {renderBracketMatch('cevcl-final', sf1_winner, sf2_winner, '­şÅå ┼ŞAMP─░YONLUK F─░NAL─░', '1match')}\r\n                                        </div>\r\n                                        {finalWinner && (\r\n                                            <div className=\"mt-4 bg-gradient-to-r from-amber-500/20 to-amber-600/10 border border-amber-500/30 rounded-lg p-6 text-center max-w-md animate-in fade-in zoom-in duration-500\">\r\n                                                <div className=\"text-5xl mb-2\">­şÅå</div>\r\n                                                <div className=\"text-sm text-amber-400 uppercase tracking-wider font-bold\">CEV ┼Şampiyonlar Ligi Kazanan─▒</div>\r\n                                                <div className=\"text-3xl font-black text-white mt-1\">{finalWinner}</div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                                {activeTabFF === '3rd' && (\r\n                                    <div>\r\n                                        <div className=\"max-w-md\">\r\n                                            {renderBracketMatch('cevcl-3rd', sf1_loser, sf2_loser, '­şÑë 3. l├╝k M├╝cadelesi', '1match')}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\playoffs\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\stats\\CEVCLStatsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart' is assigned a value but never used.","line":103,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":103,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { TeamStats } from \"../../types\";\r\n\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\n\r\ninterface CEVCLStatsClientProps {\r\n    initialTeams: TeamStats[];\r\n}\r\n\r\ninterface ExtendedTeamStats extends TeamStats {\r\n    losses: number;\r\n    winRate: number;\r\n    setRatio: string;\r\n}\r\n\r\nexport default function CEVCLStatsClient({ initialTeams }: CEVCLStatsClientProps) {\r\n    const teamsWithStats = useMemo(() => initialTeams.map(t => ({\r\n        ...t,\r\n        losses: (t.played || 0) - (t.wins || 0),\r\n        winRate: (t.played || 0) > 0 ? Math.round(((t.wins || 0) / (t.played || 0)) * 100) : 0,\r\n        setRatio: (t.setsLost || 0) > 0 ? ((t.setsWon || 0) / (t.setsLost || 0)).toFixed(2) : (t.setsWon || 0).toString()\r\n    })), [initialTeams]);\r\n\r\n    const totalMatches = useMemo(() => teamsWithStats.reduce((sum, t) => sum + (t.played || 0), 0) / 2, [teamsWithStats]);\r\n    const totalSets = useMemo(() => teamsWithStats.reduce((sum, t) => sum + (t.setsWon || 0), 0), [teamsWithStats]);\r\n    const avgPointsPerTeam = useMemo(() => teamsWithStats.length > 0\r\n        ? Math.round(teamsWithStats.reduce((sum, t) => sum + (t.points || 0), 0) / teamsWithStats.length)\r\n        : 0, [teamsWithStats]);\r\n\r\n    const mostPoints = useMemo(() => [...teamsWithStats].sort((a, b) => (b.points || 0) - (a.points || 0)).slice(0, 5), [teamsWithStats]);\r\n    const mostSets = useMemo(() => [...teamsWithStats].sort((a, b) => (b.setsWon || 0) - (a.setsWon || 0)).slice(0, 5), [teamsWithStats]);\r\n    const leastLosses = useMemo(() => [...teamsWithStats].sort((a, b) => a.losses - b.losses || b.wins - a.wins).slice(0, 5), [teamsWithStats]);\r\n    const bestWinRate = useMemo(() => [...teamsWithStats].filter(t => (t.played || 0) >= 2).sort((a, b) => b.winRate - a.winRate).slice(0, 5), [teamsWithStats]);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-2 sm:p-4 font-sans\">\r\n            <div className=\"max-w-7xl mx-auto space-y-4 sm:space-y-6\">\r\n                <div className=\"flex flex-col gap-1 px-1\">\r\n                    <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">CEV ┼Şampiyonlar Ligi ─░statistikleri</h1>\r\n                    <p className=\"text-[10px] text-slate-400 hidden sm:block\">Kad─▒nlar ÔÇó 2025-2026</p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-3 gap-2 sm:gap-4\">\r\n                    <div className=\"bg-gradient-to-br from-blue-600/20 to-blue-900/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 border border-blue-600/30 text-center\">\r\n                        <div className=\"text-2xl sm:text-4xl font-bold text-blue-400\">{Math.round(totalMatches)}</div>\r\n                        <div className=\"text-[10px] sm:text-xs text-blue-400/70 uppercase tracking-wider mt-1\">Toplam Ma├ğ</div>\r\n                    </div>\r\n                    <div className=\"bg-gradient-to-br from-emerald-600/20 to-emerald-900/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 border border-emerald-600/30 text-center\">\r\n                        <div className=\"text-2xl sm:text-4xl font-bold text-emerald-400\">{totalSets}</div>\r\n                        <div className=\"text-[10px] sm:text-xs text-emerald-400/70 uppercase tracking-wider mt-1\">Toplam Set</div>\r\n                    </div>\r\n                    <div className=\"bg-gradient-to-br from-purple-600/20 to-purple-900/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 border border-purple-600/30 text-center\">\r\n                        <div className=\"text-2xl sm:text-4xl font-bold text-purple-400\">{avgPointsPerTeam}</div>\r\n                        <div className=\"text-[10px] sm:text-xs text-purple-400/70 uppercase tracking-wider mt-1\">Ort. Puan</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid sm:grid-cols-2 gap-3 sm:gap-4 pb-8\">\r\n                    <StatCard\r\n                        title=\"En ├çok Puan\"\r\n                        icon=\"­şÆÄ\"\r\n                        teams={mostPoints}\r\n                        statKey=\"points\"\r\n                        color=\"bg-blue-500\"\r\n                        gradient=\"bg-gradient-to-r from-blue-600 to-indigo-600\"\r\n                        suffix=\"P\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"En Y├╝ksek Galibiyet\"\r\n                        icon=\"­şôê\"\r\n                        teams={bestWinRate}\r\n                        statKey=\"winRate\"\r\n                        color=\"bg-teal-500\"\r\n                        gradient=\"bg-gradient-to-r from-teal-600 to-cyan-600\"\r\n                        suffix=\"%\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"En ├çok Set Alan\"\r\n                        icon=\"­şÅÉ\"\r\n                        teams={mostSets}\r\n                        statKey=\"setsWon\"\r\n                        color=\"bg-purple-500\"\r\n                        gradient=\"bg-gradient-to-r from-purple-600 to-pink-600\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"En Az Ma─şlubiyet\"\r\n                        icon=\"­şøí´©Å\"\r\n                        teams={leastLosses}\r\n                        statKey=\"losses\"\r\n                        color=\"bg-emerald-500\"\r\n                        gradient=\"bg-gradient-to-r from-emerald-600 to-green-600\"\r\n                        suffix=\"M\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\n// Extracted Components\r\nconst BarChart = ({ value, max, color }: { value: number; max: number; color: string }) => (\r\n    <div className=\"h-1.5 bg-slate-800 rounded-full overflow-hidden flex-1\">\r\n        <div\r\n            className={`h-full ${color} transition-all duration-500`}\r\n            style={{ width: `${Math.min((value / (max || 1)) * 100, 100)}%` }}\r\n        />\r\n    </div>\r\n);\r\n\r\nconst StatCard = ({ title, icon, teams, statKey, color, gradient, suffix = \"\" }: {\r\n    title: string; icon: string;\r\n    teams: ExtendedTeamStats[];\r\n    statKey: 'losses' | 'wins' | 'setsWon' | 'setsLost' | 'points' | 'winRate';\r\n    color: string;\r\n    gradient: string;\r\n    suffix?: string;\r\n}) => {\r\n    const maxValue = Math.max(...teams.map(t => Number(t[statKey])), 1);\r\n\r\n    return (\r\n        <div className=\"bg-slate-950/50 backdrop-blur-md rounded-xl border border-slate-800/60 overflow-hidden hover:border-slate-700/80 transition-all duration-300 group shadow-md hover:shadow-lg\">\r\n            <div className={`${gradient} px-2.5 py-2 border-b border-white/10 relative overflow-hidden`}>\r\n                <div className=\"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\r\n                <div className=\"flex items-center justify-between relative z-10\">\r\n                    <h3 className=\"font-bold text-white text-[11px] uppercase tracking-wider flex items-center gap-1.5\">\r\n                        <span className=\"text-sm\">{icon}</span> {title}\r\n                    </h3>\r\n                    <span className=\"text-[9px] font-bold text-white/70 bg-black/20 px-1.5 py-0.5 rounded-full border border-white/10\">TOP 5</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"p-1.5 space-y-1\">\r\n                {teams.map((t, idx) => (\r\n                    <div\r\n                        key={t.name}\r\n                        className={`flex items-center gap-2 p-1.5 rounded-lg transition-all ${idx === 0 ? 'bg-gradient-to-r from-white/5 to-transparent border border-white/10' : 'hover:bg-white/5'\r\n                            }`}\r\n                    >\r\n                        <div className={`w-5 h-5 rounded flex items-center justify-center font-bold text-[10px] shadow-sm ${idx === 0 ? 'bg-amber-400 text-amber-950' :\r\n                            idx === 1 ? 'bg-slate-300 text-slate-800' :\r\n                                idx === 2 ? 'bg-amber-700 text-amber-100' :\r\n                                    'bg-slate-800 text-slate-500'\r\n                            }`}>\r\n                            {idx + 1}\r\n                        </div>\r\n                        <TeamAvatar name={t.name} size=\"xs\" />\r\n\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <span className={`text-[11px] font-bold truncate block ${idx === 0 ? 'text-white' : 'text-slate-300'}`} title={t.name}>\r\n                                {t.name}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-1.5 w-16 justify-end\">\r\n                            <div className=\"h-1 bg-slate-800/50 rounded-full overflow-hidden flex-1 max-w-[30px]\">\r\n                                <div className={`h-full ${color} opacity-80`} style={{ width: `${Math.min((Number(t[statKey]) / maxValue) * 100, 100)}%` }}></div>\r\n                            </div>\r\n                            <span className={`text-[11px] font-bold min-w-[24px] text-right ${idx === 0 ? 'text-white' : 'text-slate-400'}`}>\r\n                                {t[statKey]}{suffix}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\stats\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\tahminoyunu\\CEVCLCalculatorClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1125,1128],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1125,1128],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1362,1365],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1362,1365],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { TeamStats, Match, Achievement } from \"../../types\";\r\n\r\nimport { useToast, AchievementToast, AchievementsPanel } from \"../../components\";\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport FixtureList from \"../../components/Calculator/FixtureList\";\r\nimport ShareButton from \"../../components/ShareButton\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\nimport { calculateElo } from \"../../utils/eloCalculator\";\r\nimport { useGameState, ACHIEVEMENTS } from \"../../utils/gameState\";\r\nimport { sounds } from \"../../utils/sounds\";\r\n\r\ninterface CEVCLCalculatorClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function CEVCLCalculatorClient({ initialTeams, initialMatches }: CEVCLCalculatorClientProps) {\r\n    const { showToast, showUndoToast } = useToast();\r\n    const standingsRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Normalize data (Matching original fetchData logic)\r\n    const normalizedTeams = useMemo(() => initialTeams.map((t: any) => ({\r\n        ...t,\r\n        name: t.name.toLocaleUpperCase('tr-TR'),\r\n        groupName: t.groupName.replace('Pool ', '') + ' GRUBU'\r\n    })), [initialTeams]);\r\n\r\n    const normalizedMatches = useMemo(() => initialMatches.map((m: any) => ({\r\n        ...m,\r\n        matchDate: m.date || m.matchDate,\r\n        homeTeam: m.homeTeam.toLocaleUpperCase('tr-TR'),\r\n        awayTeam: m.awayTeam.toLocaleUpperCase('tr-TR'),\r\n        groupName: m.groupName.replace('Pool ', '') + ' GRUBU'\r\n    })), [initialMatches]);\r\n\r\n    // Data State\r\n    const [allTeams] = useState<TeamStats[]>(normalizedTeams);\r\n    const [allMatches] = useState<Match[]>(normalizedMatches);\r\n    const [selectedPool, setSelectedPool] = useState<string>(\"A GRUBU\");\r\n\r\n    // UI State\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [showAchievements, setShowAchievements] = useState(false);\r\n    const [showAutoMenu, setShowAutoMenu] = useState(false);\r\n    const [showResetMenu, setShowResetMenu] = useState(false);\r\n    const [newAchievement, setNewAchievement] = useState<Achievement | null>(null);\r\n\r\n    // Game State\r\n    const { gameState, addXP, recordPrediction, unlockAchievement, hasAchievement } = useGameState();\r\n\r\n    const pools = [\"A GRUBU\", \"B GRUBU\", \"C GRUBU\", \"D GRUBU\", \"E GRUBU\"];\r\n\r\n    // Load saved scenarios on mount\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('cevclGroupScenarios');\r\n        if (saved) {\r\n            try {\r\n                const parsed = JSON.parse(saved);\r\n                setOverrides(parsed);\r\n            } catch (e) { console.error(e); }\r\n        }\r\n    }, []);\r\n\r\n    // Filter by selected pool\r\n    const poolTeams = useMemo(() =>\r\n        allTeams.filter(t => t.groupName === selectedPool),\r\n        [allTeams, selectedPool]\r\n    );\r\n\r\n    const poolMatches = useMemo(() =>\r\n        allMatches.filter(m => m.groupName === selectedPool),\r\n        [allMatches, selectedPool]\r\n    );\r\n\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...overrides };\r\n        const wasNew = !overrides[matchId];\r\n\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n\r\n            if (wasNew) {\r\n                addXP(10);\r\n                sounds.scoreSelect();\r\n\r\n                if (!hasAchievement('first_prediction')) {\r\n                    const wasUnlocked = unlockAchievement('first_prediction');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.first_prediction as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n\r\n                if (gameState.stats.totalPredictions >= 49 && !hasAchievement('game_addict')) {\r\n                    const wasUnlocked = unlockAchievement('game_addict');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.game_addict as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n\r\n                recordPrediction(true);\r\n            }\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setOverrides(newOverrides);\r\n    };\r\n\r\n    // Persist overrides to localStorage\r\n    useEffect(() => {\r\n        localStorage.setItem('cevclGroupScenarios', JSON.stringify(overrides));\r\n    }, [overrides]);\r\n\r\n    const handleResetGroup = () => {\r\n        if (!confirm(`${selectedPool} tahminleriniz silinecek. Emin misiniz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        const groupMatches = allMatches\r\n            .filter(m => m.groupName === selectedPool)\r\n            .map(m => `${m.homeTeam}-${m.awayTeam}`);\r\n        groupMatches.forEach(matchId => {\r\n            delete newOverrides[matchId];\r\n        });\r\n        setOverrides(newOverrides);\r\n        showToast(`${selectedPool} tahminleri s─▒f─▒rland─▒`, \"success\");\r\n    };\r\n\r\n    const handleResetAll = () => {\r\n        const previousOverrides = { ...overrides };\r\n        setOverrides({});\r\n        localStorage.removeItem('cevclGroupScenarios');\r\n        showUndoToast(\"┼Şampiyonlar Ligi tahminleri s─▒f─▒rland─▒\", () => {\r\n            setOverrides(previousOverrides);\r\n            localStorage.setItem('cevclGroupScenarios', JSON.stringify(previousOverrides));\r\n        });\r\n    };\r\n\r\n    // Memoize standings calculations for current pool\r\n    const initialStandings = useMemo(() =>\r\n        calculateLiveStandings(poolTeams, poolMatches, {}),\r\n        [poolTeams, poolMatches]\r\n    );\r\n\r\n    const initialRanks = useMemo(() => {\r\n        const ranks = new Map<string, number>();\r\n        initialStandings.forEach((team, idx) => ranks.set(team.name, idx + 1));\r\n        return ranks;\r\n    }, [initialStandings]);\r\n\r\n    const liveStandings = useMemo(() =>\r\n        calculateLiveStandings(poolTeams, poolMatches, overrides),\r\n        [poolTeams, poolMatches, overrides]\r\n    );\r\n\r\n    const currentRanks = useMemo(() => {\r\n        const ranks = new Map<string, number>();\r\n        liveStandings.forEach((team, idx) => ranks.set(team.name, idx + 1));\r\n        return ranks;\r\n    }, [liveStandings]);\r\n\r\n    // Export / Import Handlers\r\n    const handleSaveAllScenarios = () => {\r\n        try {\r\n            const exportData = {\r\n                league: 'CEV ┼Şampiyonlar Ligi',\r\n                groupScenarios: overrides,\r\n                date: new Date().toISOString()\r\n            };\r\n            const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData, null, 2));\r\n            const a = document.createElement('a');\r\n            a.href = dataStr;\r\n            a.download = `cevcl-tahmin-${new Date().toLocaleDateString('tr-TR')}.json`;\r\n            a.click();\r\n            showToast(\"┼Şampiyonlar Ligi senaryosu indirildi\", \"success\");\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleScrollToNextMatch = () => {\r\n        const nextMatch = poolMatches.find(m => !m.isPlayed && !overrides[`${m.homeTeam}-${m.awayTeam}`]);\r\n        if (nextMatch) {\r\n            const id = `match-${nextMatch.homeTeam}-${nextMatch.awayTeam}`;\r\n            const el = document.getElementById(id);\r\n            if (el) {\r\n                el.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n                el.classList.add('ring-2', 'ring-blue-500');\r\n                setTimeout(() => el.classList.remove('ring-2', 'ring-blue-500'), 2000);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleImportAllScenarios = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = (evt) => {\r\n            try {\r\n                const json = JSON.parse(evt.target?.result as string);\r\n                if (json.groupScenarios) {\r\n                    localStorage.setItem('cevclGroupScenarios', JSON.stringify(json.groupScenarios));\r\n                    setOverrides(json.groupScenarios);\r\n                }\r\n                showToast(\"┼Şampiyonlar Ligi senaryosu y├╝klendi\", \"success\");\r\n            } catch (err) { console.error(err); }\r\n        }\r\n        reader.readAsText(file);\r\n        e.target.value = '';\r\n    }\r\n\r\n    // Auto Simulation Logic\r\n    const handleSimulateSmart = () => {\r\n        if (!confirm(\"Oynanmam─▒┼ş t├╝m ma├ğlar g├╝ncel g├╝├ğ dengelerine g├Âre otomatik doldurulacak. Onayl─▒yor musunuz?\")) return;\r\n        const newOverrides = { ...overrides };\r\n        let count = 0;\r\n        const eloRatings = calculateElo(poolTeams, poolMatches.filter(m => m.isPlayed));\r\n        poolMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`${match.homeTeam}-${match.awayTeam}`]) return;\r\n            const homeElo = eloRatings.get(match.homeTeam) || 1200;\r\n            const awayElo = eloRatings.get(match.awayTeam) || 1200;\r\n            const winProb = 1 / (1 + Math.pow(10, (awayElo - homeElo) / 400));\r\n            const randomFactor = (Math.random() * 0.15) - 0.075;\r\n            const finalProb = winProb + randomFactor;\r\n            let score = \"0-0\";\r\n            if (finalProb > 0.60) score = \"3-0\";\r\n            else if (finalProb > 0.55) score = \"3-1\";\r\n            else if (finalProb > 0.50) score = \"3-2\";\r\n            else if (finalProb > 0.45) score = \"2-3\";\r\n            else if (finalProb > 0.40) score = \"1-3\";\r\n            else score = \"0-3\";\r\n            newOverrides[`${match.homeTeam}-${match.awayTeam}`] = score;\r\n            count++;\r\n        });\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ g├╝├ğ dengelerine g├Âre tahmin edildi!`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    const handleSimulateRandom = () => {\r\n        if (!confirm(\"Oynanmam─▒┼ş t├╝m ma├ğlar RASTGELE skorlarla doldurulacak. Onayl─▒yor musunuz?\")) return;\r\n        const newOverrides = { ...overrides };\r\n        let count = 0;\r\n        const scores = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n        poolMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`${match.homeTeam}-${match.awayTeam}`]) return;\r\n            const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n            newOverrides[`${match.homeTeam}-${match.awayTeam}`] = randomScore;\r\n            count++;\r\n        });\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ rastgele tahmin edildi!`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-1 sm:p-2 font-sans\">\r\n            <div className=\"w-full max-w-7xl mx-auto flex flex-col h-full gap-2\">\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3 p-2 bg-slate-900/40 rounded-xl border border-slate-800\">\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto\">\r\n                        <div className=\"text-center sm:text-left\">\r\n                            <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">CEV ┼Şampiyonlar Ligi</h1>\r\n                            <p className=\"text-[10px] text-slate-400 hidden sm:block\">Tahmin Oyunu</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2 items-center w-full sm:w-auto\">\r\n                            <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden sm:inline whitespace-nowrap\">GRUP:</span>\r\n                            <select\r\n                                value={selectedPool}\r\n                                onChange={(e) => setSelectedPool(e.target.value)}\r\n                                title=\"Havuz Se├ğin\"\r\n                                className=\"appearance-none bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold rounded-lg px-4 py-2 border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all outline-none cursor-pointer min-w-[120px]\"\r\n                            >\r\n                                {pools.map(pool => (\r\n                                    <option key={pool} value={pool} className=\"bg-slate-900\">\r\n                                        {pool}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 w-full sm:w-auto pb-1 sm:pb-0 justify-end flex-wrap sm:flex-nowrap\">\r\n                        <div className=\"flex items-center gap-2 shrink-0\">\r\n                            <div className=\"relative\">\r\n                                <button\r\n                                    onClick={() => setShowAutoMenu(!showAutoMenu)}\r\n                                    className={`px-3 py-1.5 bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-1 shadow-lg shadow-amber-500/20 ${showAutoMenu ? 'ring-2 ring-amber-400' : ''}`}\r\n                                >\r\n                                    <span className=\"hidden sm:inline\">Otomatik</span>\r\n                                    <span className=\"text-[8px] ml-0.5\">Ôû╝</span>\r\n                                </button>\r\n                                {showAutoMenu && (\r\n                                    <>\r\n                                        <div className=\"fixed inset-0 z-40\" onClick={() => setShowAutoMenu(false)}></div>\r\n                                        <div className=\"absolute top-full right-0 mt-2 w-48 bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                            <button\r\n                                                onClick={() => { handleSimulateSmart(); setShowAutoMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3 border-b border-slate-800\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">G├╝├ğ Dengelerine G├Âre</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Tak─▒m g├╝├ğlerine g├Âre ger├ğek├ği tahmin</div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => { handleSimulateRandom(); setShowAutoMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">Rastgele Da─ş─▒t</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Tamamen ┼şansa dayal─▒ sonu├ğlar</div>\r\n                                                </div>\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\".json\"\r\n                                onChange={handleImportAllScenarios}\r\n                                className=\"hidden\"\r\n                                id=\"import-upload-cevcl\"\r\n                            />\r\n                            <label\r\n                                htmlFor=\"import-upload-cevcl\"\r\n                                className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded-lg transition-all cursor-pointer flex items-center gap-1\"\r\n                                title=\"Senaryo Y├╝kle\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Y├╝kle</span>\r\n                            </label>\r\n                            <button\r\n                                onClick={handleSaveAllScenarios}\r\n                                className=\"px-3 py-1.5 bg-emerald-700 hover:bg-emerald-600 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-1\"\r\n                                title=\"Senaryoyu Kaydet\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Kaydet</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"w-px h-4 bg-slate-700 hidden sm:block shrink-0\"></div>\r\n                        <div className=\"flex items-center gap-2 shrink-0\">\r\n                            <button\r\n                                onClick={handleScrollToNextMatch}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white text-xs font-bold rounded-lg transition-all border border-slate-700 flex items-center gap-1\"\r\n                                title=\"Son kald─▒─ş─▒m ma├ğa git\"\r\n                            >\r\n                                <span className=\"hidden sm:inline\">Kald─▒─ş─▒m Yer</span>\r\n                            </button>\r\n                            <div className=\"relative\">\r\n                                <button\r\n                                    onClick={() => setShowResetMenu(!showResetMenu)}\r\n                                    className={`px-3 py-1.5 bg-slate-800 hover:bg-rose-900/50 text-slate-400 hover:text-rose-400 text-xs font-bold rounded-lg transition-all border border-slate-700 flex items-center gap-1 ${showResetMenu ? 'ring-2 ring-rose-500/50' : ''}`}\r\n                                >\r\n                                    <span className=\"hidden sm:inline\">S─▒f─▒rla</span>\r\n                                    <span className=\"text-[8px] ml-0.5\">Ôû╝</span>\r\n                                </button>\r\n                                {showResetMenu && (\r\n                                    <>\r\n                                        <div className=\"fixed inset-0 z-40\" onClick={() => setShowResetMenu(false)}></div>\r\n                                        <div className=\"absolute top-full right-0 mt-2 w-48 bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                            <button\r\n                                                onClick={() => { handleResetGroup(); setShowResetMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-slate-800 transition-colors flex items-center gap-3 border-b border-slate-800\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">Bu Grubu S─▒f─▒rla</div>\r\n                                                    <div className=\"text-[9px] text-slate-400\">Sadece {selectedPool} silinir</div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => { handleResetAll(); setShowResetMenu(false); }}\r\n                                                className=\"w-full text-left px-4 py-3 hover:bg-rose-900/20 transition-colors flex items-center gap-3 group\"\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-rose-400 group-hover:text-rose-300\">T├╝m├╝n├╝ S─▒f─▒rla</div>\r\n                                                    <div className=\"text-[9px] text-rose-500/70 group-hover:text-rose-400/70\">B├╝t├╝n tahminler silinir</div>\r\n                                                </div>\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                            <ShareButton\r\n                                targetRef={standingsRef}\r\n                                championName={liveStandings[0]?.name}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    <div className=\"flex flex-col gap-4 relative\">\r\n                        <div ref={standingsRef} className=\"sticky top-14 z-10 max-h-[calc(100vh-120px)] overflow-auto custom-scrollbar\">\r\n                            <StandingsTable\r\n                                teams={liveStandings}\r\n                                playoffSpots={2}\r\n                                secondaryPlayoffSpots={0}\r\n                                relegationSpots={0}\r\n                                initialRanks={initialRanks}\r\n                                compact={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <FixtureList\r\n                            matches={poolMatches}\r\n                            overrides={overrides}\r\n                            onScoreChange={handleScoreChange}\r\n                            teamRanks={currentRanks}\r\n                            totalTeams={poolTeams.length}\r\n                            relegationSpots={0}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {newAchievement && (\r\n                <AchievementToast\r\n                    achievement={newAchievement}\r\n                    onClose={() => setNewAchievement(null)}\r\n                />\r\n            )}\r\n            <AchievementsPanel\r\n                isOpen={showAchievements}\r\n                onClose={() => setShowAchievements(false)}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cl\\tahminoyunu\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\anasayfa\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'turkishTeamMatches' is assigned a value but never used.","line":72,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":72,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":164,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":164,"endColumn":73},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":198,"column":54,"nodeType":null,"messageId":"unusedVar","endLine":198,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    setScores?: string;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface Team {\r\n    name: string;\r\n    country: string;\r\n}\r\n\r\ninterface CEVCupData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: Team[];\r\n    fixture: Match[];\r\n}\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"THY ISTANBUL\"];\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"16th Finals\": \"Son 32\",\r\n    \"8th Finals\": \"Son 16\",\r\n    \"Play Off\": \"Play-Off\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\"\r\n};\r\n\r\nexport default function CEVCupAnasayfa() {\r\n    const [data, setData] = useState<CEVCupData | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/cev-cup\")\r\n            .then(res => res.json())\r\n            .then(data => setData(data))\r\n            .finally(() => setLoading(false));\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"animate-spin w-8 h-8 border-4 border-amber-600 border-t-transparent rounded-full\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center text-red-500\">\r\n                Veri y├╝klenemedi\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const playedMatches = data.fixture.filter(m => m.isPlayed);\r\n    const upcomingMatches = data.fixture.filter(m => !m.isPlayed).slice(0, 8);\r\n    const turkishTeamMatches = data.fixture.filter(m =>\r\n        TURKISH_TEAMS.includes(m.homeTeam) || TURKISH_TEAMS.includes(m.awayTeam)\r\n    );\r\n\r\n    // Get Turkish teams progress\r\n    const getTurkishTeamStats = (teamName: string) => {\r\n        const matches = data.fixture.filter(m => m.homeTeam === teamName || m.awayTeam === teamName);\r\n        const played = matches.filter(m => m.isPlayed);\r\n        let wins = 0;\r\n        played.forEach(m => {\r\n            if (m.homeTeam === teamName && (m.homeScore || 0) > (m.awayScore || 0)) wins++;\r\n            if (m.awayTeam === teamName && (m.awayScore || 0) > (m.homeScore || 0)) wins++;\r\n        });\r\n        return { played: played.length, wins };\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950\">\r\n            {/* Hero Header */}\r\n            <div className=\"bg-gradient-to-br from-amber-600 via-orange-600 to-amber-800 px-4 py-4 relative overflow-hidden\">\r\n                <div className=\"relative max-w-4xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h1 className=\"text-xl font-bold text-white mb-1\">CEV Cup</h1>\r\n                            <p className=\"text-white/70 text-sm\">Kad─▒nlar ÔÇó 2025-2026</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <div className=\"text-3xl font-bold text-white\">{playedMatches.length}</div>\r\n                            <div className=\"text-xs text-white/60\">Oynanan Ma├ğ</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-4xl mx-auto px-4 mt-4 space-y-4 pb-6\">\r\n                {/* Current Stage Badge */}\r\n                <div className=\"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4 text-center\">\r\n                    <div className=\"text-xs text-amber-400/70 uppercase tracking-wider mb-1\">Mevcut A┼şama</div>\r\n                    <div className=\"text-2xl font-bold text-amber-400\">\r\n                        {ROUND_LABELS[data.currentStage] || data.currentStage}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Turkish Teams Overview */}\r\n                <div className=\"bg-slate-900 border border-red-500/30 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-red-900/20 px-4 py-3 border-b border-red-500/20\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span>­şç╣­şçÀ</span> T├╝rk Tak─▒mlar─▒\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50\">\r\n                        {TURKISH_TEAMS.map(teamName => {\r\n                            const stats = getTurkishTeamStats(teamName);\r\n                            const nextMatch = data.fixture.find(m =>\r\n                                !m.isPlayed && (m.homeTeam === teamName || m.awayTeam === teamName)\r\n                            );\r\n                            const opponent = nextMatch ?\r\n                                (nextMatch.homeTeam === teamName ? nextMatch.awayTeam : nextMatch.homeTeam) : null;\r\n\r\n                            return (\r\n                                <div key={teamName} className=\"px-4 py-3 flex items-center gap-3\">\r\n                                    <TeamAvatar name={teamName} size=\"sm\" />\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"font-medium text-sm text-white\">{teamName}</div>\r\n                                        <div className=\"text-xs text-slate-500\">\r\n                                            {stats.wins}G / {stats.played}M\r\n                                            {opponent && (\r\n                                                <span className=\"text-amber-400 ml-2\">\r\n                                                    ÔåÆ vs {opponent}\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <div className=\"text-xs text-amber-400 font-bold\">\r\n                                            {ROUND_LABELS[data.currentStage]}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Recent Results */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-slate-800/50 px-4 py-3 border-b border-slate-800 flex justify-between items-center\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Son Sonu├ğlar\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50 max-h-64 overflow-y-auto\">\r\n                        {playedMatches.slice(-6).reverse().map((match, i) => {\r\n                            const hasTurkish = TURKISH_TEAMS.includes(match.homeTeam) || TURKISH_TEAMS.includes(match.awayTeam);\r\n                            return (\r\n                                <div key={match.id} className={`px-4 py-3 ${hasTurkish ? \"bg-red-900/10\" : \"\"}`}>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <div className=\"flex-1 text-right text-sm text-slate-300 truncate flex items-center justify-end gap-1\">\r\n                                            {match.homeTeam}\r\n                                            {TURKISH_TEAMS.includes(match.homeTeam) && <span>­şç╣­şçÀ</span>}\r\n                                        </div>\r\n                                        <div className=\"px-2 py-0.5 rounded text-xs font-mono bg-emerald-500/20 text-emerald-400\">\r\n                                            {match.homeScore} - {match.awayScore}\r\n                                        </div>\r\n                                        <div className=\"flex-1 text-sm text-slate-300 truncate flex items-center gap-1\">\r\n                                            {TURKISH_TEAMS.includes(match.awayTeam) && <span>­şç╣­şçÀ</span>}\r\n                                            {match.awayTeam}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-center text-[10px] text-slate-500\">\r\n                                        {ROUND_LABELS[match.round] || match.round} ÔÇó {match.leg === 1 ? \"1. Ma├ğ\" : \"2. Ma├ğ\"}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Upcoming Matches */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden\">\r\n                    <div className=\"bg-slate-800/50 px-4 py-3 border-b border-slate-800\">\r\n                        <h3 className=\"font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-amber-400\">­şôà</span> Gelecek Ma├ğlar\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"divide-y divide-slate-800/50\">\r\n                        {upcomingMatches.map((match, i) => {\r\n                            const hasTurkish = TURKISH_TEAMS.includes(match.homeTeam) || TURKISH_TEAMS.includes(match.awayTeam);\r\n                            return (\r\n                                <div key={match.id} className={`px-4 py-3 ${hasTurkish ? \"bg-red-900/10\" : \"\"}`}>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <div className=\"flex-1 text-right text-sm text-slate-300 truncate flex items-center justify-end gap-1\">\r\n                                            {match.homeTeam}\r\n                                            {TURKISH_TEAMS.includes(match.homeTeam) && <span>­şç╣­şçÀ</span>}\r\n                                        </div>\r\n                                        <div className=\"px-2 py-0.5 rounded text-xs font-mono bg-slate-800 text-slate-500\">\r\n                                            vs\r\n                                        </div>\r\n                                        <div className=\"flex-1 text-sm text-slate-300 truncate flex items-center gap-1\">\r\n                                            {TURKISH_TEAMS.includes(match.awayTeam) && <span>­şç╣­şçÀ</span>}\r\n                                            {match.awayTeam}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-center text-[10px] text-slate-500\">\r\n                                        {ROUND_LABELS[match.round] || match.round} ÔÇó {match.date?.split('-').reverse().join('.')}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Quick Links */}\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    <Link\r\n                        href=\"/cev-cup/gunceldurum\"\r\n                        className=\"bg-slate-900 border border-slate-800 rounded-xl p-4 hover:bg-slate-800 transition-colors group\"\r\n                    >\r\n                        <div className=\"text-2xl mb-2\">­şôè</div>\r\n                        <div className=\"font-bold text-white text-sm group-hover:text-amber-400 transition-colors\">G├╝ncel Durum</div>\r\n                        <div className=\"text-xs text-slate-500\">T├╝m e┼şle┼şmeleri g├Âr</div>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/cev-cup/stats\"\r\n                        className=\"bg-slate-900 border border-slate-800 rounded-xl p-4 hover:bg-slate-800 transition-colors group\"\r\n                    >\r\n                        <div className=\"text-2xl mb-2\">­şôê</div>\r\n                        <div className=\"font-bold text-white text-sm group-hover:text-amber-400 transition-colors\">─░statistikler</div>\r\n                        <div className=\"text-xs text-slate-500\">Tak─▒m performanslar─▒</div>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\gunceldurum\\CEVCupGuncelDurumClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mIdx' is defined but never used.","line":185,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":185,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\n\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport LeagueActionBar from \"../../components/LeagueTemplate/LeagueActionBar\";\r\nimport { LEAGUE_CONFIGS } from \"../../components/LeagueTemplate/types\";\r\n\r\ninterface CEVCupMatch {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    setScores?: string;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface CEVCupTeam {\r\n    name: string;\r\n    country: string;\r\n}\r\n\r\ninterface CEVCupData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: CEVCupTeam[];\r\n    fixture: CEVCupMatch[];\r\n}\r\n\r\ninterface CEVCupGuncelDurumClientProps {\r\n    initialData: CEVCupData;\r\n}\r\n\r\nconst ROUNDS = [\"16th Finals\", \"8th Finals\", \"Play Off\", \"4th Finals\", \"Semi Finals\", \"Finals\"];\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"16th Finals\": \"Son 32\",\r\n    \"8th Finals\": \"Son 16\",\r\n    \"Play Off\": \"Play-Off\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\"\r\n};\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"THY ISTANBUL\"];\r\n\r\nexport default function CEVCupGuncelDurumClient({ initialData }: CEVCupGuncelDurumClientProps) {\r\n    const [activeRound, setActiveRound] = useState<string>(initialData.currentStage || \"8th Finals\");\r\n\r\n    const availableRounds = useMemo(() => {\r\n        const roundsInData = new Set(initialData.fixture.map(m => m.round));\r\n        return ROUNDS.filter(r => roundsInData.has(r));\r\n    }, [initialData.fixture]);\r\n\r\n    const roundMatches = useMemo(() => {\r\n        return initialData.fixture.filter(m => m.round === activeRound);\r\n    }, [initialData.fixture, activeRound]);\r\n\r\n    // Group matches by matchup (leg 1 and leg 2 together)\r\n    const matchups = useMemo(() => {\r\n        const grouped: Record<string, CEVCupMatch[]> = {};\r\n        roundMatches.forEach(match => {\r\n            const key = [match.homeTeam, match.awayTeam].sort().join(\" vs \");\r\n            if (!grouped[key]) grouped[key] = [];\r\n            grouped[key].push(match);\r\n        });\r\n        return Object.values(grouped).map(matches => matches.sort((a, b) => (a.leg || 1) - (b.leg || 1)));\r\n    }, [roundMatches]);\r\n\r\n    const playedCount = roundMatches.filter(m => m.isPlayed).length;\r\n    const totalCount = roundMatches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    const isTurkishTeam = (team: string) => TURKISH_TEAMS.includes(team);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans overflow-hidden\">\r\n            <div className=\"max-w-7xl mx-auto space-y-1 h-full flex flex-col\">\r\n                <div className=\"space-y-3 bg-slate-900/40 p-3 rounded-2xl border border-slate-800/60 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                    {/* Action Bar using LeagueTemplate */}\r\n                    <LeagueActionBar\r\n                        config={LEAGUE_CONFIGS['cev-cup']}\r\n                        title={`${LEAGUE_CONFIGS['cev-cup'].name} - ${ROUND_LABELS[activeRound]}`}\r\n                        subtitle=\"CEV Cup ÔÇó G├╝ncel Durum\"\r\n                        selectorLabel=\"Tur\"\r\n                        selectorValue={activeRound}\r\n                        selectorOptions={availableRounds.map(r => ({ label: ROUND_LABELS[r], value: r }))}\r\n                        onSelectorChange={setActiveRound}\r\n                        progress={completionRate}\r\n                        progressLabel={`%${completionRate}`}\r\n                    >\r\n                        {/* Live Badge */}\r\n                        <div className=\"px-3 h-8 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase hidden sm:inline\">Otomatik G├╝ncelleme</span>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase sm:hidden\">CANLI</span>\r\n                        </div>\r\n                        <div className=\"bg-slate-950/50 px-3 py-1.5 rounded-lg border border-slate-800 text-center flex flex-col justify-center\">\r\n                            <div className=\"text-[9px] font-bold text-slate-500 uppercase leading-none mb-0.5\">Format</div>\r\n                            <div className=\"text-xs font-bold text-white leading-none\">Eleme (─░├ğ-D─▒┼ş)</div>\r\n                        </div>\r\n                        <div className=\"px-3 py-1.5 bg-amber-950/50 rounded-lg border border-amber-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-amber-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-amber-400 uppercase\">{matchups.length} E┼şle┼şme</span>\r\n                        </div>\r\n                    </LeagueActionBar>\r\n\r\n                    {/* Matchups Grid */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                        {matchups.map((matchup, idx) => {\r\n                            const team1 = matchup[0]?.homeTeam;\r\n                            const team2 = matchup[0]?.awayTeam;\r\n\r\n                            // Calculate aggregate score\r\n                            let team1Total = 0;\r\n                            let team2Total = 0;\r\n                            let allPlayed = true;\r\n\r\n                            matchup.forEach(m => {\r\n                                if (m.isPlayed && m.homeScore !== null && m.awayScore !== null) {\r\n                                    if (m.homeTeam === team1) {\r\n                                        team1Total += m.homeScore;\r\n                                        team2Total += m.awayScore;\r\n                                    } else {\r\n                                        team1Total += m.awayScore;\r\n                                        team2Total += m.homeScore;\r\n                                    }\r\n                                } else {\r\n                                    allPlayed = false;\r\n                                }\r\n                            });\r\n\r\n                            const hasTurkish = isTurkishTeam(team1) || isTurkishTeam(team2);\r\n\r\n                            return (\r\n                                <div\r\n                                    key={idx}\r\n                                    className={`bg-slate-950/60 rounded-xl border p-3 space-y-2 ${hasTurkish ? 'border-amber-700/50 ring-1 ring-amber-500/20' : 'border-slate-800/50'\r\n                                        }`}\r\n                                >\r\n                                    {/* Matchup Header */}\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div className=\"flex items-center gap-2 flex-1 overflow-hidden\">\r\n                                            <TeamAvatar name={team1} size=\"sm\" />\r\n                                            <div className=\"overflow-hidden\">\r\n                                                <span className=\"text-sm font-bold text-slate-200 truncate block\">\r\n                                                    {team1}\r\n                                                    {isTurkishTeam(team1) && <span className=\"ml-1\">­şç╣­şçÀ</span>}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"px-3 flex flex-col items-center shrink-0\">\r\n                                            {allPlayed ? (\r\n                                                <div className=\"flex items-center gap-1\">\r\n                                                    <span className={`text-lg font-black ${team1Total > team2Total ? 'text-green-400' : 'text-slate-400'}`}>\r\n                                                        {team1Total}\r\n                                                    </span>\r\n                                                    <span className=\"text-slate-600\">-</span>\r\n                                                    <span className={`text-lg font-black ${team2Total > team1Total ? 'text-green-400' : 'text-slate-400'}`}>\r\n                                                        {team2Total}\r\n                                                    </span>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <span className=\"text-xs font-bold text-slate-600 bg-slate-900 px-2 py-1 rounded\">VS</span>\r\n                                            )}\r\n                                            <span className=\"text-[9px] text-slate-500 uppercase\">Toplam</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 flex-1 justify-end overflow-hidden\">\r\n                                            <div className=\"overflow-hidden text-right\">\r\n                                                <span className=\"text-sm font-bold text-slate-200 truncate block\">\r\n                                                    {isTurkishTeam(team2) && <span className=\"mr-1\">­şç╣­şçÀ</span>}\r\n                                                    {team2}\r\n                                                </span>\r\n                                            </div>\r\n                                            <TeamAvatar name={team2} size=\"sm\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Individual Legs */}\r\n                                    <div className=\"space-y-1.5 pt-1 border-t border-slate-800/50\">\r\n                                        {matchup.map((match, mIdx) => (\r\n                                            <div key={match.id} className=\"flex items-center justify-between text-xs bg-slate-900/50 rounded-lg px-2 py-1.5\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <span className=\"text-[10px] font-bold text-slate-500 bg-slate-800 px-1.5 py-0.5 rounded\">\r\n                                                        {match.leg === 1 ? \"1. Ma├ğ\" : \"2. Ma├ğ\"}\r\n                                                    </span>\r\n                                                    <span className=\"text-[10px] text-slate-500\">\r\n                                                        {match.date?.split('-').reverse().join('.')}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-1\">\r\n                                                    <span className=\"text-slate-400 text-[10px] truncate max-w-[60px]\">{match.homeTeam.split(' ')[0]}</span>\r\n                                                    {match.isPlayed ? (\r\n                                                        <span className=\"font-bold text-white px-2\">\r\n                                                            {match.homeScore} - {match.awayScore}\r\n                                                        </span>\r\n                                                    ) : (\r\n                                                        <span className=\"text-slate-600 px-2\">-</span>\r\n                                                    )}\r\n                                                    <span className=\"text-slate-400 text-[10px] truncate max-w-[60px]\">{match.awayTeam.split(' ')[0]}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {matchups.length === 0 && (\r\n                        <div className=\"flex flex-col items-center justify-center py-12 text-slate-500\">\r\n                            <span className=\"text-4xl mb-2\">­şÅÉ</span>\r\n                            <p className=\"text-sm\">Bu tur i├ğin hen├╝z ma├ğ planlanmad─▒.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\gunceldurum\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\playoffs\\CEVCupPlayoffsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\playoffs\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\stats\\CEVCupStatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\stats\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[589,592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[589,592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[619,622],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[619,622],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\r\nimport path from 'path';\r\nimport { Metadata } from \"next\";\r\nimport CEVCupStatsClient from './CEVCupStatsClient';\r\n\r\nexport const metadata: Metadata = {\r\n    title: \"CEV Cup ─░statistikler\",\r\n    description: \"CEV Kad─▒nlar Kupas─▒ tak─▒m istatistikleri ve performans analizleri.\",\r\n    openGraph: {\r\n        title: \"CEV Cup ─░statistikler | VolleySimulator\",\r\n        description: \"CEV Cup tak─▒m istatistikleri.\",\r\n    },\r\n};\r\n\r\nexport default async function CEVCupStatsPage() {\r\n    const dataPath = path.join(process.cwd(), 'data', 'cev-cup-data.json');\r\n    let teams: any[] = [];\r\n    let fixture: any[] = [];\r\n\r\n    try {\r\n        const jsonData = fs.readFileSync(dataPath, 'utf-8');\r\n        const data = JSON.parse(jsonData);\r\n        teams = data.teams || [];\r\n        fixture = data.fixture || [];\r\n    } catch (error) {\r\n        console.error('Error reading CEV Cup data:', error);\r\n    }\r\n\r\n    return (\r\n        <CEVCupStatsClient teams={teams} fixture={fixture} />\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\tahminoyunu\\CEVCupTahminOyunuClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ACHIEVEMENTS' is defined but never used.","line":7,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":36},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[627,630],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[627,630],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\n\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport { useToast } from \"../../components\";\r\nimport { useGameState, ACHIEVEMENTS } from \"../../utils/gameState\";\r\nimport { sounds } from \"../../utils/sounds\";\r\n\r\ninterface Match {\r\n    id: number;\r\n    round: string;\r\n    leg?: number;\r\n    date: string;\r\n    homeTeam: string;\r\n    awayTeam: string;\r\n    homeScore: number | null;\r\n    awayScore: number | null;\r\n    isPlayed: boolean;\r\n}\r\n\r\ninterface CEVCupData {\r\n    league: string;\r\n    season: string;\r\n    currentStage: string;\r\n    teams: any[];\r\n    fixture: Match[];\r\n}\r\n\r\nconst ROUNDS = [\"16th Finals\", \"8th Finals\", \"Play Off\", \"4th Finals\", \"Semi Finals\", \"Finals\"];\r\nconst ROUND_LABELS: Record<string, string> = {\r\n    \"16th Finals\": \"Son 32\",\r\n    \"8th Finals\": \"Son 16\",\r\n    \"Play Off\": \"Play-Off\",\r\n    \"4th Finals\": \"├çeyrek Final\",\r\n    \"Semi Finals\": \"Yar─▒ Final\",\r\n    \"Finals\": \"Final\"\r\n};\r\n\r\nconst TURKISH_TEAMS = [\"Galatasaray Daikin ISTANBUL\", \"THY ISTANBUL\"];\r\n\r\nexport default function CEVCupTahminOyunuClient({ initialData }: { initialData: CEVCupData }) {\r\n    const { showToast, showUndoToast } = useToast();\r\n    const { addXP, recordPrediction, unlockAchievement, hasAchievement, gameState } = useGameState();\r\n\r\n    const [activeRound, setActiveRound] = useState<string>(initialData.currentStage || \"8th Finals\");\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n\r\n    const availableRounds = useMemo(() => {\r\n        const roundsInData = new Set(initialData.fixture.map(m => m.round));\r\n        return ROUNDS.filter(r => roundsInData.has(r));\r\n    }, [initialData.fixture]);\r\n\r\n    const roundMatches = useMemo(() => {\r\n        return initialData.fixture.filter(m => m.round === activeRound);\r\n    }, [initialData.fixture, activeRound]);\r\n\r\n    // Load saved predictions\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('cevCupPredictions');\r\n        if (saved) {\r\n            try {\r\n                setOverrides(JSON.parse(saved));\r\n            } catch (e) { console.error(e); }\r\n        }\r\n    }, []);\r\n\r\n    // Save predictions\r\n    useEffect(() => {\r\n        localStorage.setItem('cevCupPredictions', JSON.stringify(overrides));\r\n    }, [overrides]);\r\n\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...overrides };\r\n        const wasNew = !overrides[matchId];\r\n\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n\r\n            if (wasNew) {\r\n                addXP(10);\r\n                sounds.scoreSelect();\r\n\r\n                if (!hasAchievement('first_prediction')) {\r\n                    unlockAchievement('first_prediction');\r\n                    sounds.achievement();\r\n                }\r\n\r\n                if (gameState.stats.totalPredictions >= 49 && !hasAchievement('game_addict')) {\r\n                    unlockAchievement('game_addict');\r\n                    sounds.achievement();\r\n                }\r\n\r\n                recordPrediction(true);\r\n            }\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setOverrides(newOverrides);\r\n    };\r\n\r\n    const handleResetRound = () => {\r\n        if (!confirm(`${ROUND_LABELS[activeRound]} tahminleriniz silinecek. Emin misiniz?`)) return;\r\n        const newOverrides = { ...overrides };\r\n        roundMatches.forEach(m => {\r\n            delete newOverrides[`match-${m.id}`];\r\n        });\r\n        setOverrides(newOverrides);\r\n        showToast(`${ROUND_LABELS[activeRound]} tahminleri s─▒f─▒rland─▒`, \"success\");\r\n    };\r\n\r\n    const handleResetAll = () => {\r\n        const previousOverrides = { ...overrides };\r\n        setOverrides({});\r\n        localStorage.removeItem('cevCupPredictions');\r\n        showUndoToast(\"CEV Cup tahminleri s─▒f─▒rland─▒\", () => {\r\n            setOverrides(previousOverrides);\r\n        });\r\n    };\r\n\r\n    const handleRandomize = () => {\r\n        if (!confirm(\"Oynanmam─▒┼ş ma├ğlar rastgele skorlarla doldurulacak. Onayl─▒yor musunuz?\")) return;\r\n        const newOverrides = { ...overrides };\r\n        const scores = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n        let count = 0;\r\n\r\n        roundMatches.forEach(match => {\r\n            if (match.isPlayed || newOverrides[`match-${match.id}`]) return;\r\n            const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n            newOverrides[`match-${match.id}`] = randomScore;\r\n            count++;\r\n        });\r\n\r\n        setOverrides(newOverrides);\r\n        if (count > 0) {\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ rastgele tahmin edildi!`, \"success\");\r\n            addXP(count * 2);\r\n        }\r\n    };\r\n\r\n    const predictedCount = roundMatches.filter(m => overrides[`match-${m.id}`]).length;\r\n    const totalUnplayed = roundMatches.filter(m => !m.isPlayed).length;\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-1 sm:p-2 font-sans\">\r\n            <div className=\"w-full max-w-7xl mx-auto flex flex-col h-full gap-2\">\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3 p-2 bg-slate-900/40 rounded-xl border border-slate-800\">\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto\">\r\n                        <div className=\"text-center sm:text-left\">\r\n                            <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">CEV Cup</h1>\r\n                            <p className=\"text-[10px] text-slate-400 hidden sm:block\">Tahmin Oyunu</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2 items-center w-full sm:w-auto\">\r\n                            <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden sm:inline whitespace-nowrap\">TUR:</span>\r\n                            <div className=\"flex gap-1 p-1 bg-slate-950/50 rounded-lg border border-slate-800 items-center\">\r\n                                <select\r\n                                    value={activeRound}\r\n                                    onChange={(e) => setActiveRound(e.target.value)}\r\n                                    title=\"Tur Se├ğin\"\r\n                                    className=\"px-3 py-1 bg-amber-600/20 text-amber-500 text-[10px] uppercase font-black rounded-md border border-amber-500/30 outline-none cursor-pointer transition-all focus:ring-2 focus:ring-amber-500/50\"\r\n                                >\r\n                                    {availableRounds.map(r => (\r\n                                        <option key={r} value={r} className=\"bg-slate-900 text-white\">\r\n                                            {ROUND_LABELS[r] || r}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto\">\r\n                        <div className=\"flex items-center gap-2 sm:mr-2\">\r\n                            <span className=\"text-xs text-slate-500 hidden lg:inline\">\r\n                                {predictedCount}/{totalUnplayed} tahmin\r\n                            </span>\r\n                            <div className=\"w-16 h-1.5 bg-slate-800 rounded-full overflow-hidden\">\r\n                                <div\r\n                                    className=\"h-full bg-amber-500 transition-all\"\r\n                                     \r\n                                    style={{ width: `${totalUnplayed > 0 ? (predictedCount / totalUnplayed) * 100 : 0}%` }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                                onClick={handleRandomize}\r\n                                className=\"px-3 py-1.5 bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold rounded-lg transition-all\"\r\n                            >\r\n                                ­şÄ▓ Rastgele\r\n                            </button>\r\n                            <button\r\n                                onClick={handleResetRound}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white text-xs font-bold rounded-lg transition-all border border-slate-700\"\r\n                            >\r\n                                Turu S─▒f─▒rla\r\n                            </button>\r\n                            <button\r\n                                onClick={handleResetAll}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-rose-900/50 text-slate-400 hover:text-rose-400 text-xs font-bold rounded-lg transition-all border border-slate-700\"\r\n                            >\r\n                                T├╝m├╝n├╝ S─▒f─▒rla\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Matches Grid */}\r\n                <div className=\"bg-slate-900/40 rounded-2xl border border-slate-800/60 p-3 space-y-3\">\r\n                    <h2 className=\"text-xl font-black italic uppercase tracking-tighter text-amber-500\">\r\n                        {ROUND_LABELS[activeRound] || activeRound}\r\n                    </h2>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                        {roundMatches.map(match => {\r\n                            const matchId = `match-${match.id}`;\r\n                            const prediction = overrides[matchId];\r\n                            const hasTurkish = TURKISH_TEAMS.includes(match.homeTeam) || TURKISH_TEAMS.includes(match.awayTeam);\r\n\r\n                            return (\r\n                                <div\r\n                                    key={match.id}\r\n                                    id={matchId}\r\n                                    className={`bg-slate-950/60 rounded-xl border p-3 space-y-2 ${hasTurkish ? 'border-amber-700/50 ring-1 ring-amber-500/20' : 'border-slate-800/50'\r\n                                        }`}\r\n                                >\r\n                                    {/* Match Header */}\r\n                                    <div className=\"flex items-center justify-between text-[10px] text-slate-500\">\r\n                                        <span>{match.leg === 1 ? \"1. Ma├ğ\" : match.leg === 2 ? \"2. Ma├ğ\" : \"\"}</span>\r\n                                        <span>{match.date?.split('-').reverse().join('.')}</span>\r\n                                    </div>\r\n\r\n                                    {/* Teams */}\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"flex items-center gap-2 flex-1 overflow-hidden\">\r\n                                            <TeamAvatar name={match.homeTeam} size=\"sm\" />\r\n                                            <span className=\"text-sm font-bold text-slate-200 truncate\">\r\n                                                {match.homeTeam}\r\n                                                {TURKISH_TEAMS.includes(match.homeTeam) && <span className=\"ml-1\">­şç╣­şçÀ</span>}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"px-2\">\r\n                                            {match.isPlayed ? (\r\n                                                <span className=\"text-sm font-bold text-emerald-400\">\r\n                                                    {match.homeScore} - {match.awayScore}\r\n                                                </span>\r\n                                            ) : (\r\n                                                <span className=\"text-xs text-slate-600\">VS</span>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 flex-1 justify-end overflow-hidden\">\r\n                                            <span className=\"text-sm font-bold text-slate-200 truncate text-right\">\r\n                                                {TURKISH_TEAMS.includes(match.awayTeam) && <span className=\"mr-1\">­şç╣­şçÀ</span>}\r\n                                                {match.awayTeam}\r\n                                            </span>\r\n                                            <TeamAvatar name={match.awayTeam} size=\"sm\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Score Selection */}\r\n                                    {!match.isPlayed && (\r\n                                        <div className=\"flex flex-wrap gap-1 pt-2 border-t border-slate-800/50\">\r\n                                            {[\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"].map(score => {\r\n                                                const isSelected = prediction === score;\r\n                                                return (\r\n                                                    <button\r\n                                                        key={score}\r\n                                                        onClick={() => handleScoreChange(matchId, isSelected ? \"\" : score)}\r\n                                                        className={`\r\n                                                            px-2 py-1 text-xs rounded border transition-all\r\n                                                            ${isSelected\r\n                                                                ? 'bg-amber-600 border-amber-400 text-white font-bold shadow-[0_0_10px_rgba(245,158,11,0.5)]'\r\n                                                                : 'bg-slate-900 border-slate-700 text-slate-500 hover:bg-slate-800 hover:border-slate-500'}\r\n                                                        `}\r\n                                                    >\r\n                                                        {score}\r\n                                                    </button>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {roundMatches.length === 0 && (\r\n                        <div className=\"flex flex-col items-center justify-center py-12 text-slate-500\">\r\n                            <span className=\"text-4xl mb-2\">­şÅÉ</span>\r\n                            <p className=\"text-sm\">Bu tur i├ğin hen├╝z ma├ğ planlanmad─▒.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\cev-cup\\tahminoyunu\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\AIPredictionCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\AccessiBeWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Achievements.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":3,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Achievement } from \"../types\";\r\nimport { useGameState, ACHIEVEMENTS } from \"../utils/gameState\";\r\n\r\ninterface AchievementToastProps {\r\n    achievement: Achievement;\r\n    onClose: () => void;\r\n}\r\n\r\nfunction AchievementToast({ achievement, onClose }: AchievementToastProps) {\r\n    useEffect(() => {\r\n        const timer = setTimeout(onClose, 5000);\r\n        return () => clearTimeout(timer);\r\n    }, [onClose]);\r\n\r\n    return (\r\n        <div className=\"fixed top-20 left-1/2 -translate-x-1/2 z-50 animate-bounce-in\">\r\n            <div className=\"bg-gradient-to-r from-amber-900/95 to-orange-900/95 backdrop-blur-lg rounded-2xl border-2 border-amber-500 shadow-2xl shadow-amber-500/30 p-4 min-w-[300px]\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl text-4xl shadow-lg\" aria-hidden=\"true\">\r\n                        {achievement.icon}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <div className=\"text-xs text-amber-400 font-bold uppercase tracking-wider mb-1\">\r\n                            ­şÄë Ba┼şar─▒ A├ğ─▒ld─▒!\r\n                        </div>\r\n                        <div className=\"text-lg font-black text-white\">{achievement.name}</div>\r\n                        <div className=\"text-xs text-slate-300\">{achievement.description}</div>\r\n                        <div className=\"text-sm font-bold text-amber-400 mt-1\">\r\n                            +{achievement.xpReward} XP\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface AchievementsPanelProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport function AchievementsPanel({ isOpen, onClose }: AchievementsPanelProps) {\r\n    const { gameState, hasAchievement } = useGameState();\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const allAchievements = Object.values(ACHIEVEMENTS);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm\" onClick={onClose}>\r\n            <div\r\n                className=\"bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden\"\r\n                onClick={e => e.stopPropagation()}\r\n                role=\"dialog\"\r\n                aria-modal=\"true\"\r\n                aria-labelledby=\"achievements-title\"\r\n            >\r\n                <div className=\"p-4 border-b border-slate-700 flex items-center justify-between\">\r\n                    <h2 id=\"achievements-title\" className=\"text-xl font-black text-white flex items-center gap-2\">\r\n                        <span>­şÅå</span> Ba┼şar─▒lar\r\n                    </h2>\r\n                    <button onClick={onClose} className=\"text-slate-400 hover:text-white text-xl\">Ô£ò</button>\r\n                </div>\r\n\r\n                <div className=\"p-4 overflow-y-auto max-h-[60vh]\">\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                        {allAchievements.map(achievement => {\r\n                            const isUnlocked = hasAchievement(achievement.id);\r\n                            const unlockedData = gameState.achievements.find(a => a.id === achievement.id);\r\n\r\n                            return (\r\n                                <div\r\n                                    key={achievement.id}\r\n                                    className={`p-3 rounded-xl border transition-all ${isUnlocked\r\n                                        ? 'bg-gradient-to-br from-amber-900/30 to-orange-900/30 border-amber-600/50'\r\n                                        : 'bg-slate-800/50 border-slate-700/50 opacity-60'\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"flex items-start gap-3\">\r\n                                        <div className={`text-3xl ${!isUnlocked && 'grayscale opacity-50'}`}>\r\n                                            {achievement.icon}\r\n                                        </div>\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            <div className=\"font-bold text-white text-sm truncate\">\r\n                                                {achievement.name}\r\n                                            </div>\r\n                                            <div className=\"text-[10px] text-slate-400 line-clamp-2\">\r\n                                                {achievement.description}\r\n                                            </div>\r\n                                            <div className=\"text-xs font-bold text-amber-400 mt-1\">\r\n                                                +{achievement.xpReward} XP\r\n                                            </div>\r\n                                            {isUnlocked && unlockedData?.unlockedAt && (\r\n                                                <div className=\"text-[10px] text-slate-500 mt-0.5\">\r\n                                                    Ô£ô {new Date(unlockedData.unlockedAt).toLocaleDateString('tr-TR')}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-4 border-t border-slate-700 bg-slate-800/50\">\r\n                    <div className=\"text-center text-sm text-slate-400\">\r\n                        {gameState.achievements.length} / {allAchievements.length} ba┼şar─▒ a├ğ─▒ld─▒\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Export the toast component\r\nexport { AchievementToast };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\AuthGuard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\BadgeDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\BracketView.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BracketMatch' is defined but never used.","line":12,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'idx' is defined but never used.","line":55,"column":61,"nodeType":null,"messageId":"unusedVar","endLine":55,"endColumn":64}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport TeamAvatar from \"./TeamAvatar\";\r\n\r\ninterface BracketTeam {\r\n    name: string;\r\n    sourceGroup: string;\r\n    position: number;\r\n    eliminated?: boolean;\r\n}\r\n\r\ninterface BracketMatch {\r\n    team1: BracketTeam | null;\r\n    team2: BracketTeam | null;\r\n    winner?: 1 | 2;\r\n}\r\n\r\ninterface BracketViewProps {\r\n    quarterGroups: { name: string; teams: { name: string; sourceGroup: string; position: string }[] }[];\r\n    semiGroups: { name: string; teams: { name: string; sourceGroup: string; position: string }[] }[];\r\n    finalGroups: { name: string; teams: { name: string; sourceGroup: string; position: string }[] }[];\r\n}\r\n\r\ninterface GroupTeam {\r\n    name: string;\r\n    sourceGroup: string;\r\n    position: string;\r\n}\r\n\r\ninterface GroupData {\r\n    name: string;\r\n    teams: GroupTeam[];\r\n}\r\n\r\nexport default function BracketView({ quarterGroups, semiGroups, finalGroups }: BracketViewProps) {\r\n    const getWinners = (groups: GroupData[]) => {\r\n        return groups.map(g => ({\r\n            name: g.name,\r\n            first: g.teams[0],\r\n            second: g.teams[1]\r\n        }));\r\n    };\r\n\r\n    const quarterWinners = getWinners(quarterGroups);\r\n    const semiWinners = getWinners(semiGroups);\r\n    const finalWinners = getWinners(finalGroups);\r\n\r\n    return (\r\n        <div className=\"overflow-x-auto pb-4\">\r\n            <div className=\"min-w-[800px] flex items-center gap-4 p-4\">\r\n\r\n                {/* Quarter Finals */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <h3 className=\"text-xs font-bold text-amber-400 text-center mb-2\">├çEYREK F─░NAL</h3>\r\n                    {quarterWinners.slice(0, 4).map((group, idx) => (\r\n                        <BracketCard\r\n                            key={group.name}\r\n                            groupName={`Grup ${group.name}`}\r\n                            team1={group.first?.name || '?'}\r\n                            team2={group.second?.name || '?'}\r\n                            color=\"amber\"\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Connector Lines 1 */}\r\n                <div className=\"flex flex-col gap-4 items-center self-stretch justify-around py-16\">\r\n                    <ConnectorLine />\r\n                    <ConnectorLine />\r\n                </div>\r\n\r\n                {/* Semi Finals Left */}\r\n                <div className=\"flex flex-col gap-4 self-center\">\r\n                    <h3 className=\"text-xs font-bold text-blue-400 text-center mb-2\">YARI F─░NAL</h3>\r\n                    {semiWinners.slice(0, 2).map((group) => (\r\n                        <BracketCard\r\n                            key={group.name}\r\n                            groupName={`Grup ${group.name}`}\r\n                            team1={group.first?.name || '?'}\r\n                            team2={group.second?.name || '?'}\r\n                            color=\"blue\"\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Connector Lines 2 */}\r\n                <div className=\"flex flex-col gap-4 items-center self-center\">\r\n                    <ConnectorLine />\r\n                </div>\r\n\r\n                {/* Final */}\r\n                <div className=\"flex flex-col gap-4 self-center\">\r\n                    <h3 className=\"text-xs font-bold text-emerald-400 text-center mb-2\">F─░NAL</h3>\r\n                    {finalWinners.map((group) => (\r\n                        <BracketCard\r\n                            key={group.name}\r\n                            groupName={`Grup ${group.name}`}\r\n                            team1={group.first?.name || '?'}\r\n                            team2={group.second?.name || '?'}\r\n                            color=\"emerald\"\r\n                            isChampion\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Right Side Mirror */}\r\n                <div className=\"flex flex-col gap-4 items-center self-center\">\r\n                    <ConnectorLine />\r\n                </div>\r\n\r\n                <div className=\"flex flex-col gap-4 self-center\">\r\n                    <h3 className=\"text-xs font-bold text-blue-400 text-center mb-2 opacity-0\">.</h3>\r\n                    {semiWinners.slice(2, 4).map((group) => (\r\n                        <BracketCard\r\n                            key={group.name}\r\n                            groupName={`Grup ${group.name}`}\r\n                            team1={group.first?.name || '?'}\r\n                            team2={group.second?.name || '?'}\r\n                            color=\"blue\"\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"flex flex-col gap-4 items-center self-stretch justify-around py-16\">\r\n                    <ConnectorLine />\r\n                    <ConnectorLine />\r\n                </div>\r\n\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <h3 className=\"text-xs font-bold text-amber-400 text-center mb-2 opacity-0\">.</h3>\r\n                    {quarterWinners.slice(4, 8).map((group) => (\r\n                        <BracketCard\r\n                            key={group.name}\r\n                            groupName={`Grup ${group.name}`}\r\n                            team1={group.first?.name || '?'}\r\n                            team2={group.second?.name || '?'}\r\n                            color=\"amber\"\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Legend */}\r\n            <div className=\"flex justify-center gap-6 mt-4 text-xs text-slate-500\">\r\n                <span className=\"flex items-center gap-1\">\r\n                    <span className=\"w-3 h-3 rounded bg-amber-600\"></span> ├çeyrek Final\r\n                </span>\r\n                <span className=\"flex items-center gap-1\">\r\n                    <span className=\"w-3 h-3 rounded bg-blue-600\"></span> Yar─▒ Final\r\n                </span>\r\n                <span className=\"flex items-center gap-1\">\r\n                    <span className=\"w-3 h-3 rounded bg-emerald-700\"></span> Final\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction BracketCard({\r\n    groupName,\r\n    team1,\r\n    team2,\r\n    color = 'slate',\r\n    isChampion = false\r\n}: {\r\n    groupName: string;\r\n    team1: string;\r\n    team2: string;\r\n    color?: 'amber' | 'blue' | 'emerald' | 'slate';\r\n    isChampion?: boolean;\r\n}) {\r\n    const colors = {\r\n        amber: 'border-amber-600 bg-amber-950/30',\r\n        blue: 'border-blue-600 bg-blue-950/30',\r\n        emerald: 'border-emerald-600 bg-emerald-950/30',\r\n        slate: 'border-slate-700 bg-slate-900'\r\n    };\r\n\r\n    return (\r\n        <div className={`rounded-lg border-2 ${colors[color]} p-2 w-40 transition-all hover:scale-105 ${isChampion ? 'glow-emerald' : ''}`}>\r\n            <div className=\"text-[10px] text-center opacity-50 mb-1\">{groupName}</div>\r\n            <div className=\"space-y-1\">\r\n                <TeamSlot name={team1} isWinner />\r\n                <TeamSlot name={team2} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction TeamSlot({ name, isWinner = false }: { name: string; isWinner?: boolean }) {\r\n    return (\r\n        <div className={`text-xs px-2 py-1 rounded truncate flex items-center gap-2 ${isWinner\r\n            ? 'bg-emerald-900/50 text-emerald-300 border border-emerald-700'\r\n            : 'bg-slate-800/50 text-slate-400'\r\n            }`}>\r\n            <TeamAvatar name={name} size=\"sm\" />\r\n            <span className=\"truncate\">{name}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ConnectorLine() {\r\n    return (\r\n        <div className=\"w-8 h-px bg-gradient-to-r from-slate-600 to-slate-700\"></div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Calculator\\FixtureList.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useCallback' is defined but never used.","line":1,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMemo' is defined but never used.","line":1,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":46},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5057,5060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5057,5060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":206,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":206,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10565,10568],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10565,10568],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, memo, useCallback, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Match } from \"../../types\";\r\nimport { SCORES, normalizeTeamName } from \"../../utils/calculatorUtils\";\r\nimport { generateTeamSlug } from \"../../utils/teamSlug\";\r\nimport TeamAvatar from \"../TeamAvatar\";\r\n\r\ninterface FixtureListProps {\r\n    matches: Match[];\r\n    overrides: Record<string, string>;\r\n    onScoreChange: (matchId: string, score: string) => void;\r\n    teamRanks?: Map<string, number>;\r\n    totalTeams?: number; // Total teams in group for relegation calculation\r\n    relegationSpots?: number; // Number of teams to be relegated\r\n}\r\n\r\nfunction FixtureList({ matches, overrides, onScoreChange, teamRanks, totalTeams = 16, relegationSpots = 2 }: FixtureListProps) {\r\n    const [activeTab, setActiveTab] = useState<'upcoming' | 'past'>('upcoming');\r\n    const [collapsedDates, setCollapsedDates] = useState<Set<string>>(new Set());\r\n\r\n    const toggleDateCollapse = (dateStr: string) => {\r\n        setCollapsedDates(prev => {\r\n            const newSet = new Set(prev);\r\n            if (newSet.has(dateStr)) {\r\n                newSet.delete(dateStr);\r\n            } else {\r\n                newSet.add(dateStr);\r\n            }\r\n            return newSet;\r\n        });\r\n    };\r\n\r\n    // Helper to get team rank\r\n    const getTeamRank = (teamName: string): number | null => {\r\n        if (!teamRanks) return null;\r\n        if (teamRanks.has(teamName)) return teamRanks.get(teamName)!;\r\n        const normalized = normalizeTeamName(teamName);\r\n        for (const [key, rank] of teamRanks.entries()) {\r\n            if (normalizeTeamName(key) === normalized) return rank;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // Determine match importance based on team positions\r\n    const getMatchImportance = (homeRank: number | null, awayRank: number | null): { label: string; color: string } | null => {\r\n        if (!homeRank || !awayRank) return null;\r\n        if (relegationSpots === 0) return null; // No relegation warning if spots is 0\r\n\r\n        const playoffBoundary = 4; // Top 4 go to playoff usually (adjusted based on needs)\r\n        const relegationBoundary = totalTeams - relegationSpots + 1; // e.g. 10 teams, 2 spots -> 9 and 10 are relegated. Boundary is 9.\r\n\r\n        // Both in playoff zone\r\n        if (homeRank <= playoffBoundary && awayRank <= playoffBoundary) {\r\n            return { label: 'Playoff Kar┼ş─▒la┼şmas─▒', color: 'from-emerald-600/80 to-emerald-500/60 text-emerald-200' };\r\n        }\r\n        // One in playoff, one fighting for it\r\n        if ((homeRank <= playoffBoundary && awayRank <= playoffBoundary + 1) || (awayRank <= playoffBoundary && homeRank <= playoffBoundary + 1)) {\r\n            return { label: 'Playoff M├╝cadelesi', color: 'from-blue-600/80 to-blue-500/60 text-blue-200' };\r\n        }\r\n        // Both in relegation zone\r\n        if (homeRank >= relegationBoundary && awayRank >= relegationBoundary) {\r\n            return { label: 'ÔÜá´©Å K├£ME D├£┼ŞME HATTINDA KR─░T─░K MA├ç', color: 'from-rose-600/80 to-rose-500/60 text-rose-200' };\r\n        }\r\n        // One in relegation zone\r\n        if (homeRank >= relegationBoundary || awayRank >= relegationBoundary) {\r\n            return { label: 'ÔÜá´©Å K├£ME D├£┼ŞME TEHL─░KES─░', color: 'from-orange-600/80 to-orange-500/60 text-orange-200' };\r\n        }\r\n        // Mid-table clash\r\n        if (homeRank > playoffBoundary && homeRank < relegationBoundary && awayRank > playoffBoundary && awayRank < relegationBoundary) {\r\n            return { label: 'Orta S─▒ra', color: 'from-slate-600/60 to-slate-500/40 text-slate-300' };\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // Parse date from DD.MM.YYYY or YYYY-MM-DD format\r\n    const parseDate = (dateStr: string | undefined): Date | null => {\r\n        if (!dateStr) return null;\r\n\r\n        // Try DD.MM.YYYY\r\n        if (dateStr.includes('.')) {\r\n            const parts = dateStr.split('.');\r\n            if (parts.length === 3) {\r\n                return new Date(parseInt(parts[2]), parseInt(parts[1]) - 1, parseInt(parts[0]));\r\n            }\r\n        }\r\n\r\n        // Try YYYY-MM-DD\r\n        if (dateStr.includes('-')) {\r\n            const parts = dateStr.split('-');\r\n            if (parts.length === 3) {\r\n                return new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    // Helper function for robust isPlayed check\r\n    const isMatchPlayed = (m: Match) => {\r\n        return m.isPlayed || (m.homeScore !== undefined && m.homeScore !== null && m.awayScore !== undefined && m.awayScore !== null);\r\n    };\r\n\r\n    // Split matches into upcoming and past\r\n    const upcomingMatches = matches.filter(m => !isMatchPlayed(m));\r\n    const pastMatches = matches.filter(m => isMatchPlayed(m));\r\n    const currentMatches = activeTab === 'upcoming' ? upcomingMatches : pastMatches;\r\n\r\n    // Group matches by date\r\n    const groupedMatches = currentMatches.reduce((acc, match) => {\r\n        const matchDate = match.matchDate || (match as any).date || 'Tarih Belirtilmemi┼ş';\r\n        if (!acc[matchDate]) acc[matchDate] = [];\r\n        acc[matchDate].push(match);\r\n        return acc;\r\n    }, {} as Record<string, Match[]>);\r\n\r\n    // Sort date groups\r\n    const sortedDateGroups = Object.entries(groupedMatches).sort((a, b) => {\r\n        const dateA = parseDate(a[0]);\r\n        const dateB = parseDate(b[0]);\r\n        if (!dateA && !dateB) return 0;\r\n        if (!dateA) return 1;\r\n        if (!dateB) return -1;\r\n        return activeTab === 'upcoming'\r\n            ? dateA.getTime() - dateB.getTime()  // Nearest first\r\n            : dateB.getTime() - dateA.getTime(); // Most recent first\r\n    });\r\n\r\n    // Format date for display with day name\r\n    const formatDateDisplay = (dateStr: string): string => {\r\n        if (dateStr === 'Tarih Belirtilmemi┼ş') return dateStr;\r\n\r\n        const date = parseDate(dateStr);\r\n        if (!date) return dateStr;\r\n\r\n        const days = ['PAZAR', 'PAZARTES─░', 'SALI', '├çAR┼ŞAMBA', 'PER┼ŞEMBE', 'CUMA', 'CUMARTES─░'];\r\n        const dayName = days[date.getDay()];\r\n\r\n        // Format as DD/MM/YYYY\r\n        const day = date.getDate().toString().padStart(2, '0');\r\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n        const year = date.getFullYear();\r\n\r\n        return `${day}/${month}/${year} ${dayName}`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-slate-900 border border-slate-800 rounded-lg overflow-hidden shadow-xl flex flex-col h-full\">\r\n            {/* Tabs */}\r\n            <div className=\"bg-slate-800/50 px-2 py-2 border-b border-slate-800 sticky top-0 z-10\">\r\n                <div className=\"flex gap-1\">\r\n                    <button\r\n                        onClick={() => setActiveTab('upcoming')}\r\n                        className={`flex-1 px-3 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-1.5 ${activeTab === 'upcoming'\r\n                            ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/20'\r\n                            : 'bg-slate-800 text-slate-400 hover:bg-slate-700'\r\n                            }`}\r\n                    >\r\n                        <span>­şôà</span>\r\n                        <span>Gelecek</span>\r\n                        <span className=\"bg-white/20 px-1.5 py-0.5 rounded text-[9px]\">{upcomingMatches.length}</span>\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab('past')}\r\n                        className={`flex-1 px-3 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-1.5 ${activeTab === 'past'\r\n                            ? 'bg-slate-600 text-white shadow-lg'\r\n                            : 'bg-slate-800 text-slate-400 hover:bg-slate-700'\r\n                            }`}\r\n                    >\r\n                        <span>Ô£à</span>\r\n                        <span>Ge├ğmi┼ş</span>\r\n                        <span className=\"bg-white/20 px-1.5 py-0.5 rounded text-[10px]\">{pastMatches.length}</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-2 space-y-3 custom-scrollbar\">\r\n                {sortedDateGroups.length === 0 ? (\r\n                    <div className=\"flex items-center justify-center h-32 text-slate-500 text-sm\">\r\n                        {activeTab === 'upcoming' ? 'Gelecek ma├ğ bulunamad─▒' : 'Ge├ğmi┼ş ma├ğ bulunamad─▒'}\r\n                    </div>\r\n                ) : (\r\n                    sortedDateGroups.map(([dateStr, dateMatches]) => {\r\n                        const isCollapsed = collapsedDates.has(dateStr);\r\n                        return (\r\n                            <div key={dateStr} className=\"space-y-2\">\r\n                                <button\r\n                                    onClick={() => toggleDateCollapse(dateStr)}\r\n                                    className=\"sticky top-0 z-5 w-full bg-slate-950/90 backdrop-blur-sm py-1.5 px-3 rounded-lg border border-slate-800 flex items-center justify-between hover:bg-slate-900/90 transition-colors cursor-pointer\"\r\n                                >\r\n                                    <span className=\"text-[10px] font-bold text-indigo-400 flex items-center gap-2\">\r\n                                        <span className={`transition-transform duration-200 ${isCollapsed ? '' : 'rotate-90'}`}>ÔûÂ</span>\r\n                                        ­şôå {formatDateDisplay(dateStr)}\r\n                                    </span>\r\n                                    <span className=\"text-[9px] text-slate-400 bg-slate-800/50 px-2 py-0.5 rounded\">{dateMatches.length} ma├ğ</span>\r\n                                </button>\r\n\r\n                                {!isCollapsed && dateMatches.map((match) => {\r\n                                    const matchId = `${match.homeTeam}-${match.awayTeam}`;\r\n                                    const currentScore = overrides[matchId];\r\n                                    // ROBUST: Treat as played if isPlayed is true OR scores are present\r\n                                    const isPlayed = isMatchPlayed(match);\r\n\r\n                                    const homeRank = getTeamRank(match.homeTeam);\r\n                                    const awayRank = getTeamRank(match.awayTeam);\r\n                                    const matchImportance = getMatchImportance(homeRank, awayRank);\r\n                                    const matchTime = match.matchTime || (match as any).time;\r\n\r\n                                    return (\r\n                                        <div\r\n                                            key={matchId}\r\n                                            id={`match-${match.homeTeam}-${match.awayTeam}`}\r\n                                            className={`p-2 rounded-lg border transition-all ${isPlayed\r\n                                                ? 'bg-slate-950/50 border-slate-800/50'\r\n                                                : currentScore\r\n                                                    ? 'bg-slate-800 border-indigo-500/50 shadow-md ring-1 ring-indigo-500/20'\r\n                                                    : 'bg-slate-800 border-slate-700 hover:border-slate-600'\r\n                                                }`}\r\n                                        >\r\n                                            {/* Match Time Badge - Always show */}\r\n                                            <div className=\"flex justify-center -mt-1 mb-1.5\">\r\n                                                <span className=\"text-[9px] font-mono bg-slate-950/80 px-1.5 py-0.5 rounded text-slate-400 border border-slate-800/50\">\r\n                                                    {matchTime || '--:--'}\r\n                                                </span>\r\n                                            </div>\r\n\r\n                                            {/* Match Importance Badge */}\r\n                                            {matchImportance && !isPlayed && (\r\n                                                <div className={`text-[9px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-t-md -mx-3 -mt-3 mb-2 text-center bg-gradient-to-r ${matchImportance.color}`}>\r\n                                                    {matchImportance.label}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            <div className=\"flex items-center justify-between text-[10px] mb-1.5\">\r\n                                                <div className={`flex-1 text-right font-semibold truncate pr-2 flex items-center justify-end gap-1 ${currentScore && getScoreWinner(currentScore) === 'home' ? 'text-emerald-400' : 'text-slate-300'}`}>\r\n                                                    {homeRank && (\r\n                                                        <span className={`text-[10px] px-1.5 py-0.5 rounded font-bold ${homeRank <= 2 ? 'bg-emerald-500/20 text-emerald-400' : homeRank <= 4 ? 'bg-blue-500/20 text-blue-400' : 'bg-slate-700 text-slate-300'}`}>\r\n                                                            {homeRank}.\r\n                                                        </span>\r\n                                                    )}\r\n                                                    <Link href={`/takimlar/${generateTeamSlug(match.homeTeam)}`} className=\"truncate hover:underline\">{match.homeTeam}</Link>\r\n                                                    <TeamAvatar name={match.homeTeam} size=\"sm\" />\r\n                                                </div>\r\n                                                <div className=\"text-[10px] text-slate-600 font-mono shrink-0 px-1\">v</div>\r\n                                                <div className={`flex-1 text-left font-semibold truncate pl-2 flex items-center gap-1 ${currentScore && getScoreWinner(currentScore) === 'away' ? 'text-emerald-400' : 'text-slate-300'}`}>\r\n                                                    <TeamAvatar name={match.awayTeam} size=\"sm\" />\r\n                                                    <Link href={`/takimlar/${generateTeamSlug(match.awayTeam)}`} className=\"truncate hover:underline\">{match.awayTeam}</Link>\r\n                                                    {awayRank && (\r\n                                                        <span className={`text-[10px] px-1.5 py-0.5 rounded font-bold ${awayRank <= 2 ? 'bg-emerald-500/20 text-emerald-400' : awayRank <= 4 ? 'bg-blue-500/20 text-blue-400' : 'bg-slate-700 text-slate-300'}`}>\r\n                                                            {awayRank}.\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {isPlayed ? (\r\n                                                <div className=\"flex justify-center\">\r\n                                                    <span className=\"px-3 py-1 bg-slate-900 font-mono font-bold text-slate-400 rounded border border-slate-800 text-sm\">\r\n                                                        {match.homeScore !== undefined && match.homeScore !== null && match.awayScore !== undefined && match.awayScore !== null\r\n                                                            ? `${match.homeScore} - ${match.awayScore}`\r\n                                                            : match.resultScore || \"Oynand─▒\"}\r\n                                                    </span>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div className=\"flex justify-center gap-1 flex-wrap\">\r\n                                                    {SCORES.map(score => {\r\n                                                        const isSelected = currentScore === score;\r\n                                                        const [h, a] = score.split('-').map(Number);\r\n                                                        const homeWin = h > a;\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={score}\r\n                                                                onClick={() => onScoreChange(matchId, isSelected ? '' : score)}\r\n                                                                className={`w-8 h-6 flex items-center justify-center rounded text-[10px] font-bold transition-all border ${isSelected\r\n                                                                    ? homeWin\r\n                                                                        ? 'bg-emerald-700 border-emerald-600 text-white shadow-emerald-600/30 shadow-md'\r\n                                                                        : 'bg-rose-700 border-rose-600 text-white shadow-rose-600/30 shadow-md'\r\n                                                                    : 'bg-slate-950 border-slate-700 text-slate-400 hover:bg-slate-800 hover:text-slate-300'\r\n                                                                    }`}\r\n                                                            >\r\n                                                                {score}\r\n                                                            </button>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {!isPlayed && currentScore && (\r\n                                                <div className=\"flex justify-center text-[10px] text-indigo-400 font-medium mt-2\">Ô£ô Tahmin Girildi</div>\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction getScoreWinner(score: string) {\r\n    const [h, a] = score.split('-').map(Number);\r\n    if (h > a) return 'home';\r\n    if (a > h) return 'away';\r\n    return null;\r\n}\r\n\r\nexport default memo(FixtureList);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Calculator\\StandingsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Confetti.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ErrorFallback.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LanguageSwitcher.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\CalculatorTemplate.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'theme' is assigned a value but never used.","line":25,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showAutoMenu' is assigned a value but never used.","line":36,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setShowAutoMenu' is assigned a value but never used.","line":36,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport { TeamStats, Match, Achievement } from \"../../types\";\r\n\r\nimport { useToast } from \"../Toast\";\r\nimport { AchievementToast, AchievementsPanel } from \"../Achievements\";\r\nimport StandingsTable from \"../Calculator/StandingsTable\";\r\nimport FixtureList from \"../Calculator/FixtureList\";\r\nimport ShareButton from \"../ShareButton\";\r\nimport { calculateLiveStandings } from \"../../utils/calculatorUtils\";\r\nimport { useGameState, ACHIEVEMENTS } from \"../../utils/gameState\";\r\nimport { sounds } from \"../../utils/sounds\";\r\nimport { LeagueConfig, THEME_COLORS } from \"./types\";\r\nimport LeagueActionBar from \"./LeagueActionBar\";\r\n\r\ninterface CalculatorTemplateProps {\r\n    config: LeagueConfig;\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function CalculatorTemplate({ config, initialTeams, initialMatches }: CalculatorTemplateProps) {\r\n    const { showToast, showUndoToast } = useToast();\r\n    const theme = THEME_COLORS[config.theme];\r\n    const standingsRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Data State\r\n    const [allTeams, setAllTeams] = useState<TeamStats[]>(initialTeams);\r\n    const [allMatches, setAllMatches] = useState<Match[]>(initialMatches);\r\n    const [activeGroup, setActiveGroup] = useState<string>(config.groups?.[0] || \"\");\r\n\r\n    // UI State\r\n    const [overrides, setOverrides] = useState<Record<string, string>>({});\r\n    const [showAchievements, setShowAchievements] = useState(false);\r\n    const [showAutoMenu, setShowAutoMenu] = useState(false);\r\n    const [newAchievement, setNewAchievement] = useState<Achievement | null>(null);\r\n\r\n    // Game State\r\n    const { gameState, addXP, recordPrediction, unlockAchievement, hasAchievement } = useGameState();\r\n\r\n    // Update state when props change (needed for some edge cases)\r\n    useEffect(() => {\r\n        setAllTeams(initialTeams);\r\n        setAllMatches(initialMatches);\r\n    }, [initialTeams, initialMatches]);\r\n\r\n    // Load saved scenarios on mount\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem(config.storageKey);\r\n        if (saved) {\r\n            try {\r\n                const parsed = JSON.parse(saved);\r\n                setOverrides(parsed);\r\n            } catch (e) { console.error(e); }\r\n        }\r\n    }, [config.storageKey]);\r\n\r\n    // Derived Data based on active group (if hasGroups)\r\n    const currentMatches = useMemo(() => {\r\n        if (!config.hasGroups) return allMatches;\r\n        return allMatches.filter(m => !activeGroup || m.groupName === activeGroup);\r\n    }, [allMatches, config.hasGroups, activeGroup]);\r\n\r\n    const currentTeams = useMemo(() => {\r\n        if (!config.hasGroups) return allTeams;\r\n        return allTeams.filter(t => !activeGroup || t.groupName === activeGroup);\r\n    }, [allTeams, config.hasGroups, activeGroup]);\r\n\r\n\r\n    // Handle Predictions\r\n    const handleScoreChange = (matchId: string, score: string) => {\r\n        const newOverrides = { ...overrides };\r\n        const wasNew = !overrides[matchId];\r\n\r\n        if (score) {\r\n            newOverrides[matchId] = score;\r\n\r\n            if (wasNew) {\r\n                addXP(10);\r\n                sounds.scoreSelect();\r\n\r\n                // Achievement: First Prediction\r\n                if (!hasAchievement('first_prediction')) {\r\n                    const wasUnlocked = unlockAchievement('first_prediction');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.first_prediction as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n\r\n                // Achievement: Game Addict\r\n                if (gameState.stats.totalPredictions >= 49 && !hasAchievement('game_addict')) {\r\n                    const wasUnlocked = unlockAchievement('game_addict');\r\n                    if (wasUnlocked) {\r\n                        setNewAchievement(ACHIEVEMENTS.game_addict as Achievement);\r\n                        sounds.achievement();\r\n                    }\r\n                }\r\n\r\n                recordPrediction(true);\r\n            }\r\n        } else {\r\n            delete newOverrides[matchId];\r\n        }\r\n        setOverrides(newOverrides);\r\n    };\r\n\r\n    // Save Scenarios\r\n    useEffect(() => {\r\n        localStorage.setItem(config.storageKey, JSON.stringify(overrides));\r\n    }, [overrides, config.storageKey]);\r\n\r\n    // Reset Logic\r\n    const handleReset = () => {\r\n        const previousOverrides = { ...overrides };\r\n        setOverrides({});\r\n        localStorage.removeItem(config.storageKey);\r\n        showUndoToast(`${config.name} tahminleri s─▒f─▒rland─▒`, () => {\r\n            setOverrides(previousOverrides);\r\n            localStorage.setItem(config.storageKey, JSON.stringify(previousOverrides));\r\n        });\r\n    };\r\n\r\n    const handleRandomize = () => {\r\n        if (!confirm(\"Oynanmam─▒┼ş ma├ğlar rastgele skorlarla doldurulacak. Onayl─▒yor musunuz?\")) return;\r\n        const newOverrides = { ...overrides };\r\n        const scores = [\"3-0\", \"3-1\", \"3-2\", \"2-3\", \"1-3\", \"0-3\"];\r\n        let count = 0;\r\n\r\n        currentMatches.forEach(match => {\r\n            const matchId = `match-${match.id}`;\r\n            if (!match.isPlayed && !newOverrides[matchId]) {\r\n                const randomScore = scores[Math.floor(Math.random() * scores.length)];\r\n                newOverrides[matchId] = randomScore;\r\n                count++;\r\n            }\r\n        });\r\n\r\n        if (count > 0) {\r\n            setOverrides(newOverrides);\r\n            sounds.levelUp();\r\n            showToast(`${count} ma├ğ rastgele tahmin edildi!`, \"success\");\r\n            addXP(count * 5); // 5xp per random match\r\n        }\r\n    };\r\n\r\n    // Calculations\r\n    const standings = useMemo(() =>\r\n        calculateLiveStandings(currentTeams, currentMatches, overrides),\r\n        [currentTeams, currentMatches, overrides]\r\n    );\r\n\r\n    // Initial Standings for comparison (rank changes)\r\n    const initialRanks = useMemo(() => {\r\n        const baseStandings = calculateLiveStandings(currentTeams, currentMatches, {});\r\n        // Sort by points/wins etc to get rank\r\n        const map = new Map<string, number>();\r\n        baseStandings.forEach((t, i) => map.set(t.name, i + 1));\r\n        return map;\r\n    }, [currentTeams, currentMatches]);\r\n\r\n    const completedMatches = currentMatches.filter(m => m.isPlayed || overrides[`match-${m.id}`]).length;\r\n    const progress = (completedMatches / currentMatches.length) * 100 || 0;\r\n\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-2 sm:p-4 font-sans pb-20 sm:pb-4\">\r\n            <div className=\"w-full max-w-[1600px] mx-auto flex flex-col h-[calc(100vh-2rem)] gap-4\">\r\n\r\n                <LeagueActionBar\r\n                    config={config}\r\n                    title={config.name}\r\n                    subtitle=\"Tahmin Oyunu & Puan Durumu Hesaplay─▒c─▒\"\r\n                    selectorLabel={config.hasGroups ? \"Grup\" : undefined}\r\n                    selectorValue={activeGroup}\r\n                    selectorOptions={config.hasGroups ? (config.groups || []) : []}\r\n                    onSelectorChange={config.hasGroups ? setActiveGroup : undefined}\r\n                    progress={progress}\r\n                    progressLabel={`${completedMatches}/${currentMatches.length} Ma├ğ`}\r\n                >\r\n                    <button\r\n                        onClick={handleRandomize}\r\n                        className={`px-3 py-1.5 bg-${config.theme}-600 hover:bg-${config.theme}-500 text-white text-xs font-bold rounded-lg transition-all shadow-lg shadow-${config.theme}-900/20`}\r\n                    >\r\n                        ­şÄ▓ Rastgele\r\n                    </button>\r\n                    <button\r\n                        onClick={handleReset}\r\n                        className=\"px-3 py-1.5 bg-slate-800 hover:bg-rose-900/50 text-slate-400 hover:text-rose-400 text-xs font-bold rounded-lg transition-all border border-slate-700\"\r\n                    >\r\n                        S─▒f─▒rla\r\n                    </button>\r\n                    <ShareButton\r\n                        targetRef={standingsRef}\r\n                    />\r\n                </LeagueActionBar>\r\n\r\n                {/* Content Grid */}\r\n                <div className=\"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-4 min-h-0 overflow-hidden\">\r\n                    {/* Left: Fixture */}\r\n                    <div className=\"lg:col-span-8 h-full min-h-0 flex flex-col bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden order-2 lg:order-1\">\r\n                        <FixtureList\r\n                            matches={currentMatches}\r\n                            overrides={overrides}\r\n                            onScoreChange={handleScoreChange}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Right: Standings */}\r\n                    <div className=\"lg:col-span-4 h-full min-h-0 flex flex-col order-1 lg:order-2\" ref={standingsRef}>\r\n                        <StandingsTable\r\n                            teams={standings}\r\n                            playoffSpots={config.playoffSpots}\r\n                            relegationSpots={config.relegationSpots}\r\n                            initialRanks={initialRanks}\r\n                        />\r\n\r\n                        {/* Achievements Panel */}\r\n                        {showAchievements && (\r\n                            <div className=\"absolute inset-0 bg-slate-950/90 z-50 flex items-center justify-center p-4\">\r\n                                <AchievementsPanel\r\n                                    isOpen={showAchievements}\r\n                                    onClose={() => setShowAchievements(false)}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Achievement Toast */}\r\n            {newAchievement && (\r\n                <AchievementToast\r\n                    achievement={newAchievement}\r\n                    onClose={() => setNewAchievement(null)}\r\n                />\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\LeagueActionBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\PlayoffTemplate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\StatsTemplate.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TeamAvatar' is defined but never used.","line":8,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'streaks' is assigned a value but never used.","line":23,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":145,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6339,6342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6339,6342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\nimport { LeagueConfig } from \"./types\";\r\nimport LeagueActionBar from \"./LeagueActionBar\";\r\nimport StatsCard from \"../StatsCard\";\r\nimport TeamAvatar from \"../TeamAvatar\";\r\nimport { sortStandings } from \"../../utils/calculatorUtils\";\r\n\r\ninterface StatsTemplateProps {\r\n    config: LeagueConfig;\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function StatsTemplate({ config, initialTeams, initialMatches }: StatsTemplateProps) {\r\n    const teams = useMemo(() => sortStandings(initialTeams), [initialTeams]);\r\n\r\n    // Derived Stats\r\n    const stats = useMemo(() => {\r\n        // Calculate Streaks & Form\r\n        const streaks = teams.map(t => {\r\n            // This is a simplified streak calculation based on wins/losses since we don't have full match history in TeamStats\r\n            // Ideally we'd parse matches to find current streak.\r\n            // For now, let's use the matches array to find last matches for each team\r\n            const teamMatches = initialMatches.filter(m => (m.homeTeam === t.name || m.awayTeam === t.name) && m.isPlayed);\r\n\r\n            // Sort by ID (assuming ID correlates with time) or Date if available\r\n            // Note: Match ID logic might need improvement\r\n            return {\r\n                name: t.name,\r\n                matches: teamMatches.length,\r\n                wins: t.wins\r\n            };\r\n        });\r\n\r\n        const topWinRate = [...teams].sort((a, b) => (b.wins / (b.played || 1)) - (a.wins / (a.played || 1)))[0];\r\n        const topSetRatio = [...teams].sort((a, b) => ((b.setsWon / (b.setsLost || 1)) - (a.setsWon / (a.setsLost || 1))))[0];\r\n        const mostPlayed = [...teams].sort((a, b) => b.played - a.played)[0];\r\n\r\n        return {\r\n            topWinRate,\r\n            topSetRatio,\r\n            mostPlayed\r\n        };\r\n    }, [teams, initialMatches]);\r\n\r\n    // Completion Rate for Action Bar\r\n    // Completion Rate for Action Bar\r\n    const totalMatches = initialMatches.length;\r\n    const playedMatches = initialMatches.filter(m => m.isPlayed).length;\r\n    const progress = totalMatches > 0 ? Math.round((playedMatches / totalMatches) * 100) : 0;\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans pb-20 sm:pb-4\">\r\n            <div className=\"max-w-7xl mx-auto space-y-4\">\r\n\r\n                <LeagueActionBar\r\n                    config={config}\r\n                    title={config.name}\r\n                    subtitle={`${config.subtitle} ─░statistikleri`}\r\n                    progress={progress}\r\n                    progressLabel={`%${progress}`}\r\n                />\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    <StatsCard\r\n                        title=\"Galibiyet Lideri\"\r\n                        value={stats.topWinRate?.name || '-'}\r\n                        subtitle={`${stats.topWinRate?.wins || 0} Galibiyet`}\r\n                        trend=\"up\"\r\n                        icon=\"­şÅå\"\r\n                        color=\"emerald\"\r\n                    />\r\n                    <StatsCard\r\n                        title=\"Set Averaj─▒\"\r\n                        value={stats.topSetRatio?.name || '-'}\r\n                        subtitle={(stats.topSetRatio?.setsWon / (stats.topSetRatio?.setsLost || 1)).toFixed(2)}\r\n                        trend=\"up\"\r\n                        icon=\"­şôè\"\r\n                        color=\"blue\"\r\n                    />\r\n                    <StatsCard\r\n                        title=\"En ├çok Ma├ğ\"\r\n                        value={stats.mostPlayed?.name || '-'}\r\n                        subtitle={`${stats.mostPlayed?.played || 0} Ma├ğ`}\r\n                        trend=\"neutral\"\r\n                        icon=\"­şôà\"\r\n                        color=\"amber\"\r\n                    />\r\n                    <StatsCard\r\n                        title=\"MVP Aday─▒\"\r\n                        value=\"Tijana Boskovic\"\r\n                        subtitle=\"Eczac─▒ba┼ş─▒\"\r\n                        trend=\"up\"\r\n                        icon=\"Ô¡É\"\r\n                        color=\"rose\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Detailed Stats Grid - Placeholder for now as we don't have player stats logic fully migrated */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-widest px-1\">\r\n                            ├ûne ├ç─▒kan Oyuncular (Demo)\r\n                        </h3>\r\n                        <div className=\"grid grid-cols-1 gap-3\">\r\n                            <StatTile\r\n                                title=\"En Skorer\"\r\n                                player=\"Tijana Boskovic\"\r\n                                team=\"Eczac─▒ba┼ş─▒ Dynavit\"\r\n                                value=\"324\"\r\n                                icon=\"­şÅÉ\"\r\n                                color=\"rose\"\r\n                            />\r\n                            <StatTile\r\n                                title=\"En ├çok Blok\"\r\n                                player=\"Zehra G├╝ne┼ş\"\r\n                                team=\"Vak─▒fBank\"\r\n                                value=\"42\"\r\n                                icon=\"Ô£ï\"\r\n                                color=\"emerald\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-widest px-1\">\r\n                            Tak─▒m Performans─▒\r\n                        </h3>\r\n                        {/* Team Performance Bars could go here */}\r\n                        <div className=\"bg-slate-900/40 rounded-xl p-4 border border-slate-800/50 h-full flex items-center justify-center text-slate-500 italic\">\r\n                            Detayl─▒ tak─▒m istatistikleri yak─▒nda...\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\n// Stat Tile Component (Local helper or could be separate)\r\nconst StatTile = ({ title, player, team, value, icon, color }: any) => (\r\n    <div className=\"bg-slate-900/50 p-4 rounded-xl border border-slate-800/50 flex items-center justify-between group hover:border-slate-700 transition-all\">\r\n        <div className=\"flex items-center gap-4\">\r\n            <div className={`w-10 h-10 rounded-lg bg-${color}-500/10 flex items-center justify-center text-xl`}>\r\n                {icon}\r\n            </div>\r\n            <div>\r\n                <div className=\"text-xs text-slate-400 font-bold uppercase tracking-wider mb-0.5\">{title}</div>\r\n                <div className=\"font-bold text-slate-200 group-hover:text-white transition-colors\">{player}</div>\r\n                <div className=\"text-xs text-slate-500\">{team}</div>\r\n            </div>\r\n        </div>\r\n        <div className=\"text-right\">\r\n            <div className={`text-xl font-black text-${color}-400`}>{value}</div>\r\n        </div>\r\n    </div>\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LeagueTemplate\\useLeagueData.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Match' is defined but never used.","line":5,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { LeagueConfig, LeagueData, LEAGUE_CONFIGS } from './types';\r\nimport { TeamStats, Match } from '../../types';\r\n\r\ninterface UseLeagueDataOptions {\r\n    leagueId: string;\r\n    autoFetch?: boolean;\r\n}\r\n\r\ninterface UseLeagueDataReturn {\r\n    data: LeagueData | null;\r\n    loading: boolean;\r\n    error: string | null;\r\n    refetch: () => Promise<void>;\r\n    config: LeagueConfig;\r\n}\r\n\r\nexport function useLeagueData({ leagueId, autoFetch = true }: UseLeagueDataOptions): UseLeagueDataReturn {\r\n    const [data, setData] = useState<LeagueData | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const config = LEAGUE_CONFIGS[leagueId];\r\n\r\n    const fetchData = useCallback(async () => {\r\n        if (!config) {\r\n            setError(`Unknown league: ${leagueId}`);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n\r\n            const res = await fetch(config.apiEndpoint);\r\n            if (!res.ok) throw new Error('Veri ├ğekilemedi');\r\n\r\n            const json = await res.json();\r\n\r\n            // Normalize data structure\r\n            const normalizedData: LeagueData = {\r\n                teams: json.teams || [],\r\n                fixture: json.fixture || json.matches || [],\r\n                groups: json.groups || (config.hasGroups ? extractGroups(json.teams) : undefined),\r\n                rounds: json.rounds || undefined,\r\n                pools: json.pools || undefined\r\n            };\r\n\r\n            setData(normalizedData);\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Bilinmeyen hata');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [config, leagueId]);\r\n\r\n    useEffect(() => {\r\n        if (autoFetch) {\r\n            fetchData();\r\n        }\r\n    }, [autoFetch, fetchData]);\r\n\r\n    return {\r\n        data,\r\n        loading,\r\n        error,\r\n        refetch: fetchData,\r\n        config\r\n    };\r\n}\r\n\r\n// Helper to extract unique groups from teams\r\nfunction extractGroups(teams: TeamStats[]): string[] {\r\n    const groups = [...new Set(teams.map(t => t.groupName))].filter(Boolean);\r\n    return groups.sort((a, b) => {\r\n        const numA = parseInt(a.match(/\\d+/)?.[0] || '0');\r\n        const numB = parseInt(b.match(/\\d+/)?.[0] || '0');\r\n        return numA - numB;\r\n    });\r\n}\r\n\r\nexport default useLeagueData;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LiveMatchCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showChat' is assigned a value but never used.","line":12,"column":57,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { LiveMatch } from '../types';\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface LiveMatchCardProps {\r\n  match: LiveMatch;\r\n  onClick?: () => void;\r\n  showChat?: boolean;\r\n}\r\n\r\nexport default function LiveMatchCard({ match, onClick, showChat = true }: LiveMatchCardProps) {\r\n  const [pulseKey, setPulseKey] = useState(0);\r\n\r\n  // Pulse animation every few seconds to show \"live\" status\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setPulseKey(prev => prev + 1);\r\n    }, 3000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <div \r\n      onClick={onClick}\r\n      className={`bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl overflow-hidden transition-all ${\r\n        onClick ? 'cursor-pointer hover:border-red-500/50 hover:scale-[1.02]' : ''\r\n      }`}\r\n    >\r\n      {/* Live Badge */}\r\n      <div className=\"flex items-center justify-between px-4 py-2 bg-red-500/10 border-b border-slate-800\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span \r\n            key={pulseKey} \r\n            className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"\r\n          />\r\n          <span className=\"text-xs font-bold text-red-400 uppercase\">Canl─▒</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 text-xs text-slate-400\">\r\n          <span>­şæü {match.viewers?.toLocaleString() || '-'}</span>\r\n          <span>Set {match.currentSet}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Teams and Score */}\r\n      <div className=\"p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          {/* Home Team */}\r\n          <div className=\"flex-1 text-center\">\r\n            <div className=\"w-12 h-12 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center text-2xl mb-2 shadow-lg\">\r\n              ­şÅÉ\r\n            </div>\r\n            <h3 className=\"font-bold text-white text-sm truncate\">{match.homeTeam}</h3>\r\n          </div>\r\n\r\n          {/* Score */}\r\n          <div className=\"px-4 text-center\">\r\n            <div className=\"text-3xl font-black text-white\">\r\n              {match.setWins?.home || 0} - {match.setWins?.away || 0}\r\n            </div>\r\n            <div className=\"text-sm text-slate-400 mt-1\">Set</div>\r\n            \r\n            {/* Current Set Score */}\r\n            <div className=\"mt-3 bg-red-500/20 border border-red-500/30 rounded-lg px-4 py-2\">\r\n              <div className=\"text-lg font-bold text-white\">\r\n                {match.currentSetScore?.home || 0} - {match.currentSetScore?.away || 0}\r\n              </div>\r\n              <div className=\"text-xs text-red-400\">{match.currentSet}. Set</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Away Team */}\r\n          <div className=\"flex-1 text-center\">\r\n            <div className=\"w-12 h-12 mx-auto bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-2xl mb-2 shadow-lg\">\r\n              ­şÅÉ\r\n            </div>\r\n            <h3 className=\"font-bold text-white text-sm truncate\">{match.awayTeam}</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Set Scores */}\r\n        {match.homeScore && match.homeScore.length > 0 && (\r\n          <div className=\"mt-4 flex justify-center gap-2\">\r\n            {match.homeScore.map((homePoints, index) => (\r\n              <div \r\n                key={index}\r\n                className={`px-2 py-1 rounded text-xs font-medium ${\r\n                  index === match.currentSet - 1\r\n                    ? 'bg-red-500/30 text-red-300 animate-pulse'\r\n                    : homePoints > (match.awayScore?.[index] || 0)\r\n                      ? 'bg-blue-500/30 text-blue-300'\r\n                      : 'bg-orange-500/30 text-orange-300'\r\n                }`}\r\n              >\r\n                {homePoints}-{match.awayScore?.[index] || 0}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"px-4 py-2 bg-slate-900/50 flex items-center justify-between text-xs text-slate-500\">\r\n        <span>{match.league?.toUpperCase()}</span>\r\n        <span>{match.venue}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Mini version for sidebar/navbar\r\nexport function LiveMatchMini({ match }: { match: LiveMatch }) {\r\n  return (\r\n    <div className=\"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n      <span className=\"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\" />\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"flex items-center justify-between text-xs\">\r\n          <span className=\"text-slate-300 truncate\">{match.homeTeam}</span>\r\n          <span className=\"font-bold text-white mx-2\">\r\n            {match.setWins?.home || 0}-{match.setWins?.away || 0}\r\n          </span>\r\n          <span className=\"text-slate-300 truncate text-right\">{match.awayTeam}</span>\r\n        </div>\r\n        <div className=\"text-xs text-slate-500 text-center mt-0.5\">\r\n          Set {match.currentSet}: {match.currentSetScore?.home || 0}-{match.currentSetScore?.away || 0}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Live Match Counter for Navbar\r\nexport function LiveMatchCounter({ count }: { count: number }) {\r\n  if (count === 0) return null;\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1.5 bg-red-500/20 px-2 py-1 rounded-lg\">\r\n      <span className=\"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\" />\r\n      <span className=\"text-xs font-bold text-red-400\">{count} Canl─▒</span>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\LoginBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\MiniBarChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'barWidth' is assigned a value but never used.","line":19,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\ninterface MiniBarChartProps {\r\n    data: number[];\r\n    labels?: string[];\r\n    height?: number;\r\n    color?: string;\r\n    showValues?: boolean;\r\n}\r\n\r\nexport default function MiniBarChart({\r\n    data,\r\n    labels,\r\n    height = 40,\r\n    color = '#10b981',\r\n    showValues = false\r\n}: MiniBarChartProps) {\r\n    const max = Math.max(...data, 1);\r\n    const barWidth = 100 / data.length;\r\n\r\n    return (\r\n        <div className=\"w-full\" style={{ height }}>\r\n            <div className=\"flex items-end justify-between h-full gap-0.5\">\r\n                {data.map((value, i) => (\r\n                    <div\r\n                        key={i}\r\n                        className=\"flex-1 flex flex-col items-center justify-end\"\r\n                        title={labels?.[i] ? `${labels[i]}: ${value}` : `${value}`}\r\n                    >\r\n                        {showValues && (\r\n                            <span className=\"text-[8px] text-slate-400 mb-0.5\">{value}</span>\r\n                        )}\r\n                        <div\r\n                            className=\"w-full rounded-t transition-all duration-300 hover:opacity-80\"\r\n                            style={{\r\n                                height: `${(value / max) * 100}%`,\r\n                                backgroundColor: color,\r\n                                minHeight: value > 0 ? '2px' : '0'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            {labels && (\r\n                <div className=\"flex justify-between mt-1\">\r\n                    {labels.map((label, i) => (\r\n                        <span key={i} className=\"text-[8px] text-slate-500 flex-1 text-center truncate\">\r\n                            {label}\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Navbar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getLevelTitle' is defined but never used.","line":8,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport Logo from \"./Logo\";\r\nimport ThemeToggle from \"./ThemeToggle\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useGameState, getLevelTitle, getXPForNextLevel } from \"../utils/gameState\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { LEVEL_THRESHOLDS } from \"../types\";\r\nimport NotificationBell from \"./NotificationBell\";\r\nimport { StreakBadge } from \"./StreakWidget\";\r\nimport { LiveMatchCounter } from \"./LiveMatchCard\";\r\n\r\n\r\nexport default function Navbar() {\r\n    const pathname = usePathname();\r\n    const { gameState } = useGameState();\r\n    const { user, loading, signOut } = useAuth();\r\n    const [showLeagueModal, setShowLeagueModal] = useState(false);\r\n    const [scrolled, setScrolled] = useState(false);\r\n\r\n    // Track scroll position for navbar background\r\n    useEffect(() => {\r\n        const handleScroll = () => {\r\n            setScrolled(window.scrollY > 20);\r\n        };\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    // Calculate XP progress\r\n    const currentLevelXP = LEVEL_THRESHOLDS[gameState.level - 1] || 0;\r\n    const nextLevelXP = getXPForNextLevel(gameState.level);\r\n    const progress = gameState.xp - currentLevelXP;\r\n    const required = nextLevelXP - currentLevelXP;\r\n    const xpProgress = Math.min((progress / required) * 100, 100);\r\n\r\n    const isInLeague = pathname?.startsWith('/1lig') || pathname?.startsWith('/2lig') || pathname?.startsWith('/vsl') || pathname?.startsWith('/cev-cl') || pathname?.startsWith('/cev-cup') || pathname?.startsWith('/cev-challenge');\r\n    const isAnasayfa = pathname === '/' || pathname === '/anasayfa';\r\n    const isAyarlar = pathname === '/ayarlar';\r\n    const isProfile = pathname === '/profile' || pathname === '/login' || pathname === '/register';\r\n\r\n    // Generate league URL preserving current page path\r\n    const getLeagueUrl = (targetLeague: string) => {\r\n        if (!pathname) return `/${targetLeague}/tahminoyunu`;\r\n\r\n        const pathParts = pathname.split('/');\r\n        if (pathParts[1] === '1lig' || pathParts[1] === '2lig') {\r\n            pathParts[1] = targetLeague;\r\n            return pathParts.join('/');\r\n        }\r\n        return `/${targetLeague}/tahminoyunu`;\r\n    };\r\n\r\n    // Get user display name\r\n    const userName = user?.user_metadata?.name || user?.email?.split('@')[0] || 'Oyuncu';\r\n\r\n    return (\r\n        <>\r\n            {/* Top Header */}\r\n            <nav className={`fixed top-0 left-0 right-0 z-50 backdrop-blur-md border-b h-14 transition-all duration-300 ${scrolled\r\n                ? 'bg-slate-900/95 border-slate-700 shadow-lg'\r\n                : 'bg-slate-900/80 border-slate-800'\r\n                }`}>\r\n                <div className=\"max-w-7xl mx-auto px-4 h-full flex items-center justify-between gap-4\">\r\n                    {/* Brand & Context Navigation */}\r\n                    <div className=\"flex items-center gap-6 overflow-x-auto no-scrollbar\">\r\n                        <Link href=\"/\" className=\"flex items-center gap-2 group shrink-0\" prefetch={true}>\r\n                            <Logo size=\"md\" className=\"group-hover:scale-110 transition-transform duration-300\" />\r\n                            <span className={`text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-cyan-400 ${isInLeague ? 'hidden xl:inline' : 'hidden sm:inline'}`}>\r\n                                VolleySimulator\r\n                            </span>\r\n                        </Link>\r\n\r\n                        {/* Context Navigation (Moved from PageHeader) */}\r\n                        {isInLeague && (\r\n                            <div className=\"flex items-center gap-4\">\r\n                                {/* League Switcher */}\r\n                                <div className=\"flex items-center bg-slate-800/50 rounded-lg p-1 border border-slate-700/50\">\r\n                                    <Link href={getLeagueUrl('vsl')} className={`px-2 py-1 rounded text-[10px] font-bold transition-all flex items-center gap-1.5 ${pathname?.includes('/vsl') ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-white hover:bg-slate-700/50'}`}>\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-rose-400\"></span>\r\n                                        VSL\r\n                                    </Link>\r\n                                    <Link href={getLeagueUrl('1lig')} className={`px-2 py-1 rounded text-[10px] font-bold transition-all flex items-center gap-1.5 ${pathname?.includes('/1lig') ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-white hover:bg-slate-700/50'}`}>\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-amber-400\"></span>\r\n                                        1.Lig\r\n                                    </Link>\r\n                                    <Link href={getLeagueUrl('2lig')} className={`px-2 py-1 rounded text-[10px] font-bold transition-all flex items-center gap-1.5 ${pathname?.includes('/2lig') ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-white hover:bg-slate-700/50'}`}>\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-400\"></span>\r\n                                        2.Lig\r\n                                    </Link>\r\n                                    <Link href={getLeagueUrl('cev-cl')} className={`px-2 py-1 rounded text-[10px] font-bold transition-all flex items-center gap-1.5 ${pathname?.includes('/cev-cl') ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-white hover:bg-slate-700/50'}`}>\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-blue-500\"></span>\r\n                                        ┼ŞL\r\n                                    </Link>\r\n                                    <Link href={getLeagueUrl('cev-cup')} className={`px-2 py-1 rounded text-[10px] font-bold transition-all flex items-center gap-1.5 ${pathname?.includes('/cev-cup') ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-white hover:bg-slate-700/50'}`}>\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-amber-500\"></span>\r\n                                        Cup\r\n                                    </Link>\r\n                                    <Link href={getLeagueUrl('cev-challenge')} className={`px-2 py-1 rounded text-[10px] font-bold transition-all flex items-center gap-1.5 ${pathname?.includes('/cev-challenge') ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-white hover:bg-slate-700/50'}`}>\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-purple-500\"></span>\r\n                                        Chall\r\n                                    </Link>\r\n                                </div>\r\n\r\n                                {/* Divider */}\r\n                                <div className=\"w-px h-4 bg-slate-800 hidden lg:block\"></div>\r\n\r\n                                {/* Page Switcher */}\r\n                                <div className=\"hidden lg:flex items-center gap-1\">\r\n                                    <Link\r\n                                        href={pathname?.replace(/\\/(gunceldurum|stats|playoffs|tahminoyunu)/, '/tahminoyunu') || '#'}\r\n                                        className={`px-3 py-1.5 rounded text-xs font-bold transition-all ${pathname?.includes('/tahminoyunu') ? 'bg-gradient-to-r from-slate-700 to-slate-600 text-white shadow-md border border-slate-600' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}\r\n                                    >\r\n                                        Tahmin\r\n                                    </Link>\r\n                                    <Link\r\n                                        href={pathname?.replace(/\\/(gunceldurum|stats|playoffs|tahminoyunu)/, '/gunceldurum') || '#'}\r\n                                        className={`px-3 py-1.5 rounded text-xs font-bold transition-all ${pathname?.includes('/gunceldurum') ? 'bg-gradient-to-r from-slate-700 to-slate-600 text-white shadow-md border border-slate-600' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}\r\n                                    >\r\n                                        Durum\r\n                                    </Link>\r\n                                    <Link\r\n                                        href={pathname?.replace(/\\/(gunceldurum|stats|playoffs|tahminoyunu)/, '/stats') || '#'}\r\n                                        className={`px-3 py-1.5 rounded text-xs font-bold transition-all ${pathname?.includes('/stats') ? 'bg-gradient-to-r from-slate-700 to-slate-600 text-white shadow-md border border-slate-600' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}\r\n                                    >\r\n                                        ─░statistik\r\n                                    </Link>\r\n                                    <Link\r\n                                        href={pathname?.replace(/\\/(gunceldurum|stats|playoffs|tahminoyunu)/, '/playoffs') || '#'}\r\n                                        className={`px-3 py-1.5 rounded text-xs font-bold transition-all ${pathname?.includes('/playoffs') ? 'bg-gradient-to-r from-amber-600 to-orange-500 text-white shadow-md' : 'text-amber-500/80 hover:text-amber-400 hover:bg-amber-900/10'}`}\r\n                                    >\r\n                                        Play-Off\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Right: User & Actions */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                        {/* Live Match Counter */}\r\n                        <Link href=\"/live\" className=\"hidden md:block\">\r\n                            <LiveMatchCounter count={2} />\r\n                        </Link>\r\n                        \r\n                        {/* Streak Badge */}\r\n                        {user && (\r\n                            <Link href=\"/quests\" className=\"hidden sm:block\">\r\n                                <StreakBadge />\r\n                            </Link>\r\n                        )}\r\n                        \r\n                        {/* Notification Bell */}\r\n                        {user && <NotificationBell />}\r\n                        \r\n                        <ThemeToggle />\r\n\r\n                        {!loading && (\r\n                            user ? (\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    {/* Achievements Badge */}\r\n                                    <div className=\"hidden sm:flex items-center gap-1 text-xs text-amber-400 bg-amber-500/20 px-2 py-1 rounded-full border border-amber-500/30\">\r\n                                        <span className=\"font-bold\">{gameState.achievements.length}</span>\r\n                                    </div>\r\n\r\n                                    {/* Level + XP Bar */}\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <div className=\"hidden sm:block\">\r\n                                            <div className=\"w-20 h-1.5 bg-slate-700 rounded-full overflow-hidden\">\r\n                                                <div\r\n                                                    className=\"h-full bg-gradient-to-r from-amber-400 to-orange-400 transition-all\"\r\n                                                     \r\n                                                    style={{ width: `${xpProgress}%` }}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <span className=\"text-xs font-bold text-amber-400 bg-amber-500/20 px-2 py-0.5 rounded-full border border-amber-500/30\">\r\n                                            Lv.{gameState.level}\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    {/* User Name */}\r\n                                    <Link\r\n                                        href=\"/profile\"\r\n                                        className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-white text-sm font-medium rounded-lg transition-all\"\r\n                                        prefetch={true}\r\n                                    >\r\n                                        <div className=\"w-6 h-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center text-white text-xs font-bold\">\r\n                                            {userName[0].toUpperCase()}\r\n                                        </div>\r\n                                        <span className=\"hidden md:inline max-w-[100px] truncate\">{userName}</span>\r\n                                    </Link>\r\n\r\n                                    {/* Logout Button */}\r\n                                    <button\r\n                                        onClick={() => signOut()}\r\n                                        className=\"px-2 py-1.5 bg-slate-800 hover:bg-rose-900/50 border border-slate-700 hover:border-rose-600/50 text-slate-400 hover:text-rose-400 text-xs font-medium rounded-lg transition-all\"\r\n                                        title=\"├ç─▒k─▒┼ş Yap\"\r\n                                    >\r\n                                        ├ç─▒k─▒┼ş\r\n                                    </button>\r\n                                </div>\r\n                            ) : (\r\n                                <Link\r\n                                    href=\"/login\"\r\n                                    className=\"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-sm font-bold rounded-lg shadow-lg shadow-emerald-500/20 hover:shadow-emerald-500/40 hover:scale-105 active:scale-95 transition-all duration-200\"\r\n                                    prefetch={true}\r\n                                >\r\n                                    <span>Giri┼ş Yap</span>\r\n                                </Link>\r\n                            )\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n            {/* Bottom Navigation Bar */}\r\n            <nav className=\"fixed bottom-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-md border-t border-slate-800 h-14 shadow-[0_-4px_20px_rgba(0,0,0,0.3)]\">\r\n                <div className=\"max-w-lg mx-auto h-full flex items-center justify-around px-2\">\r\n                    {/* Anasayfa */}\r\n                    <Link\r\n                        href={user ? \"/anasayfa\" : \"/\"}\r\n                        className={`relative flex flex-col items-center gap-0.5 px-5 py-2 rounded-xl transition-all duration-200 active:scale-95 ${isAnasayfa\r\n                            ? 'text-emerald-400'\r\n                            : 'text-slate-400 hover:text-white'\r\n                            }`}\r\n                        prefetch={true}\r\n                    >\r\n                        {isAnasayfa && (\r\n                            <div className=\"absolute inset-0 bg-emerald-500/15 rounded-xl border border-emerald-500/30\"></div>\r\n                        )}\r\n                        <span className=\"text-xs font-bold relative z-10\">Anasayfa</span>\r\n                    </Link>\r\n\r\n\r\n\r\n                    {/* Ligler */}\r\n                    <Link\r\n                        href=\"/ligler\"\r\n                        className={`relative flex flex-col items-center gap-0.5 px-5 py-2 rounded-xl transition-all duration-200 active:scale-95 ${isInLeague || pathname === '/ligler'\r\n                            ? 'text-indigo-400'\r\n                            : 'text-slate-400 hover:text-white'\r\n                            }`}\r\n                        prefetch={true}\r\n                    >\r\n                        {(isInLeague || pathname === '/ligler') && (\r\n                            <div className=\"absolute inset-0 bg-indigo-500/15 rounded-xl border border-indigo-500/30\"></div>\r\n                        )}\r\n                        <span className=\"text-xs font-bold relative z-10\">Ligler</span>\r\n                    </Link>\r\n\r\n                    {/* Ayarlar */}\r\n                    <Link\r\n                        href=\"/ayarlar\"\r\n                        className={`relative flex flex-col items-center gap-0.5 px-5 py-2 rounded-xl transition-all duration-200 active:scale-95 ${isAyarlar\r\n                            ? 'text-cyan-400'\r\n                            : 'text-slate-400 hover:text-white'\r\n                            }`}\r\n                        prefetch={true}\r\n                    >\r\n                        {isAyarlar && (\r\n                            <div className=\"absolute inset-0 bg-cyan-500/15 rounded-xl border border-cyan-500/30\"></div>\r\n                        )}\r\n                        <span className=\"text-xs font-bold relative z-10\">Ayarlar</span>\r\n                    </Link>\r\n\r\n                    {/* Profil */}\r\n                    <Link\r\n                        href={user ? \"/profile\" : \"/login\"}\r\n                        className={`relative flex flex-col items-center gap-0.5 px-5 py-2 rounded-xl transition-all duration-200 active:scale-95 ${isProfile\r\n                            ? 'text-amber-400'\r\n                            : 'text-slate-400 hover:text-white'\r\n                            }`}\r\n                        prefetch={true}\r\n                    >\r\n                        {isProfile && (\r\n                            <div className=\"absolute inset-0 bg-amber-500/15 rounded-xl border border-amber-500/30\"></div>\r\n                        )}\r\n                        <span className=\"text-xs font-bold relative z-10\">Profil</span>\r\n                    </Link>\r\n                </div>\r\n            </nav>\r\n\r\n            {/* League Selection Modal */}\r\n            {showLeagueModal && (\r\n                <div\r\n                    className=\"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4\"\r\n                    onClick={() => setShowLeagueModal(false)}\r\n                >\r\n                    <div\r\n                        className=\"bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-700/50 rounded-3xl w-full max-w-md shadow-2xl shadow-black/50 animate-scale-in overflow-hidden\"\r\n                        onClick={e => e.stopPropagation()}\r\n                        role=\"dialog\"\r\n                        aria-modal=\"true\"\r\n                        aria-labelledby=\"league-modal-title\"\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"bg-gradient-to-r from-emerald-600/20 via-transparent to-amber-600/20 p-6 border-b border-slate-800\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <h2 id=\"league-modal-title\" className=\"text-xl font-bold text-white\">Lig Se├ğin</h2>\r\n                                    <p className=\"text-xs text-slate-400 mt-1\">Takip etmek istedi─şiniz ligi se├ğin</p>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setShowLeagueModal(false)}\r\n                                    className=\"w-8 h-8 bg-slate-800 hover:bg-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    Ô£ò\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Content */}\r\n                        <div className=\"p-4 max-h-[60vh] overflow-y-auto\">\r\n                            {/* Turkey Section */}\r\n                            <div className=\"mb-4\">\r\n                                <div className=\"flex items-center gap-2 mb-3 px-1\">\r\n                                    <span className=\"text-sm font-bold text-slate-300 uppercase tracking-wider\">T├╝rkiye</span>\r\n                                    <div className=\"flex-1 h-px bg-gradient-to-r from-slate-700 to-transparent\"></div>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-2\">\r\n                                    {/* Vodafone Sultanlar Ligi */}\r\n                                    <Link\r\n                                        href=\"/vsl/tahminoyunu\"\r\n                                        onClick={() => setShowLeagueModal(false)}\r\n                                        className=\"group flex items-center gap-4 p-4 bg-gradient-to-r from-red-900/30 to-red-800/10 hover:from-red-800/40 hover:to-red-700/20 rounded-2xl border border-red-600/30 hover:border-red-500/50 transition-all duration-300\"\r\n                                    >\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-bold text-white group-hover:text-red-300 transition-colors\">Vodafone Sultanlar Ligi</div>\r\n                                            <div className=\"text-xs text-red-400/70\">Kad─▒nlar Voleybol ÔÇó 2025-26</div>\r\n                                        </div>\r\n                                        <div className=\"text-red-500/50 group-hover:text-red-400 group-hover:translate-x-1 transition-all\">ÔåÆ</div>\r\n                                    </Link>\r\n\r\n                                    {/* 1. Lig */}\r\n                                    <Link\r\n                                        href={getLeagueUrl('1lig')}\r\n                                        onClick={() => setShowLeagueModal(false)}\r\n                                        className=\"group flex items-center gap-4 p-4 bg-gradient-to-r from-amber-900/30 to-amber-800/10 hover:from-amber-800/40 hover:to-amber-700/20 rounded-2xl border border-amber-600/30 hover:border-amber-500/50 transition-all duration-300\"\r\n                                    >\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-bold text-white group-hover:text-amber-300 transition-colors\">Arabica Coffee House 1. Lig</div>\r\n                                            <div className=\"text-xs text-amber-400/70\">Kad─▒nlar Voleybol ÔÇó 2025-26</div>\r\n                                        </div>\r\n                                        <div className=\"text-amber-500/50 group-hover:text-amber-400 group-hover:translate-x-1 transition-all\">ÔåÆ</div>\r\n                                    </Link>\r\n\r\n                                    {/* 2. Lig */}\r\n                                    <Link\r\n                                        href={getLeagueUrl('2lig')}\r\n                                        onClick={() => setShowLeagueModal(false)}\r\n                                        className=\"group flex items-center gap-4 p-4 bg-gradient-to-r from-emerald-900/30 to-emerald-800/10 hover:from-emerald-800/40 hover:to-emerald-700/20 rounded-2xl border border-emerald-600/30 hover:border-emerald-500/50 transition-all duration-300\"\r\n                                    >\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-bold text-white group-hover:text-emerald-300 transition-colors\">Kad─▒nlar 2. Lig</div>\r\n                                            <div className=\"text-xs text-emerald-400/70\">Kad─▒nlar Voleybol ÔÇó 2025-26</div>\r\n                                        </div>\r\n                                        <div className=\"text-emerald-500/50 group-hover:text-emerald-400 group-hover:translate-x-1 transition-all\">ÔåÆ</div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Europe Section */}\r\n                            <div className=\"mt-6 pt-4 border-t border-slate-800\">\r\n                                <div className=\"flex items-center gap-2 mb-3 px-1\">\r\n                                    <span className=\"text-sm font-bold text-slate-300 uppercase tracking-wider\">Avrupa</span>\r\n                                    <div className=\"flex-1 h-px bg-gradient-to-r from-slate-700 to-transparent\"></div>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-2\">\r\n                                    {/* CEV Champions League */}\r\n                                    <Link\r\n                                        href=\"/cev-cl/anasayfa\"\r\n                                        onClick={() => setShowLeagueModal(false)}\r\n                                        className=\"group flex items-center gap-4 p-4 bg-gradient-to-r from-blue-900/30 to-indigo-800/10 hover:from-blue-800/40 hover:to-indigo-700/20 rounded-2xl border border-blue-600/30 hover:border-blue-500/50 transition-all duration-300\"\r\n                                    >\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-bold text-white group-hover:text-blue-300 transition-colors\">CEV ┼Şampiyonlar Ligi</div>\r\n                                            <div className=\"text-xs text-blue-400/70\">Kad─▒nlar ÔÇó Grup A┼şamas─▒ 2025-26</div>\r\n                                        </div>\r\n                                        <div className=\"text-blue-500/50 group-hover:text-blue-400 group-hover:translate-x-1 transition-all\">ÔåÆ</div>\r\n                                    </Link>\r\n\r\n                                    {/* CEV Cup */}\r\n                                    <Link\r\n                                        href=\"/cev-cup/gunceldurum\"\r\n                                        onClick={() => setShowLeagueModal(false)}\r\n                                        className=\"group flex items-center gap-4 p-4 bg-gradient-to-r from-amber-900/30 to-orange-800/10 hover:from-amber-800/40 hover:to-orange-700/20 rounded-2xl border border-amber-600/30 hover:border-amber-500/50 transition-all duration-300\"\r\n                                    >\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-bold text-white group-hover:text-amber-300 transition-colors\">CEV Cup</div>\r\n                                            <div className=\"text-xs text-amber-400/70\">Kad─▒nlar ÔÇó Eleme A┼şamas─▒ 2025-26</div>\r\n                                        </div>\r\n                                        <div className=\"text-amber-500/50 group-hover:text-amber-400 group-hover:translate-x-1 transition-all\">ÔåÆ</div>\r\n                                    </Link>\r\n\r\n                                    {/* CEV Challenge Cup */}\r\n                                    <Link\r\n                                        href=\"/cev-challenge/gunceldurum\"\r\n                                        onClick={() => setShowLeagueModal(false)}\r\n                                        className=\"group flex items-center gap-4 p-4 bg-gradient-to-r from-purple-900/30 to-violet-800/10 hover:from-purple-800/40 hover:to-violet-700/20 rounded-2xl border border-purple-600/30 hover:border-purple-500/50 transition-all duration-300\"\r\n                                    >\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-bold text-white group-hover:text-purple-300 transition-colors\">CEV Challenge Cup</div>\r\n                                            <div className=\"text-xs text-purple-400/70\">Kad─▒nlar ÔÇó 2025-26</div>\r\n                                        </div>\r\n                                        <div className=\"text-purple-500/50 group-hover:text-purple-400 group-hover:translate-x-1 transition-all\">ÔåÆ</div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Coming Soon Section */}\r\n                            <div className=\"mt-6 pt-4 border-t border-slate-800\">\r\n                                <div className=\"flex items-center gap-2 mb-3 px-1\">\r\n                                    <span className=\"text-xs font-medium text-slate-500 uppercase tracking-wider\">Yak─▒nda Eklenecek</span>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-3 gap-2\">\r\n                                    <div className=\"flex flex-col items-center gap-1 p-3 bg-slate-800/30 rounded-xl opacity-50\">\r\n                                        <span className=\"text-[10px] text-slate-500\">─░talya</span>\r\n                                    </div>\r\n                                    <div className=\"flex flex-col items-center gap-1 p-3 bg-slate-800/30 rounded-xl opacity-50\">\r\n                                        <span className=\"text-[10px] text-slate-500\">Polonya</span>\r\n                                    </div>\r\n                                    <div className=\"flex flex-col items-center gap-1 p-3 bg-slate-800/30 rounded-xl opacity-50\">\r\n                                        <span className=\"text-[10px] text-slate-500\">Brezilya</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Footer */}\r\n                        <div className=\"p-4 border-t border-slate-800 bg-slate-900/50\">\r\n                            <p className=\"text-center text-xs text-slate-500\">\r\n                                Daha fazla lig i├ğin takipte kal─▒n!\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <style jsx>{`\r\n                @keyframes slide-up {\r\n                    from {\r\n                        transform: translateY(100%);\r\n                        opacity: 0;\r\n                    }\r\n                    to {\r\n                        transform: translateY(0);\r\n                        opacity: 1;\r\n                    }\r\n                }\r\n                .animate-slide-up {\r\n                    animation: slide-up 0.3s ease-out forwards;\r\n                }\r\n                @keyframes scale-in {\r\n                    from {\r\n                        transform: scale(0.9);\r\n                        opacity: 0;\r\n                    }\r\n                    to {\r\n                        transform: scale(1);\r\n                        opacity: 1;\r\n                    }\r\n                }\r\n                .animate-scale-in {\r\n                    animation: scale-in 0.25s ease-out forwards;\r\n                }\r\n            `}</style>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\NotificationBell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\NotificationToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\OptimizedImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ProgressRing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\QuestPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lastResetDate' is assigned a value but never used.","line":48,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":48,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { Quest, QuestId } from \"../types\";\r\nimport { useGameState } from \"../utils/gameState\";\r\n\r\n// Quest definitions\r\nconst DAILY_QUESTS: Record<QuestId, Omit<Quest, 'progress' | 'expiresAt' | 'completed'>> = {\r\n    daily_3_predictions: {\r\n        id: 'daily_3_predictions',\r\n        name: 'G├╝n├╝n Tahminleri',\r\n        description: 'Bug├╝n 3 ma├ğ tahmini yap',\r\n        icon: '­şÄ»',\r\n        target: 3,\r\n        xpReward: 50\r\n    },\r\n    daily_underdog: {\r\n        id: 'daily_underdog',\r\n        name: 'Cesur Tahmin',\r\n        description: 'Alt s─▒radaki tak─▒m─▒n kazanaca─ş─▒n─▒ tahmin et',\r\n        icon: '­şĞ©',\r\n        target: 1,\r\n        xpReward: 30\r\n    },\r\n    daily_complete_group: {\r\n        id: 'daily_complete_group',\r\n        name: 'Grup Tamamla',\r\n        description: 'Bir grubun t├╝m ma├ğlar─▒n─▒ tahmin et',\r\n        icon: 'Ô£à',\r\n        target: 1,\r\n        xpReward: 100\r\n    }\r\n};\r\n\r\ninterface QuestPanelProps {\r\n    dailyPredictions?: number;\r\n    underdogPredictions?: number;\r\n    completedGroups?: number;\r\n}\r\n\r\nexport default function QuestPanel({\r\n    dailyPredictions = 0,\r\n    underdogPredictions = 0,\r\n    completedGroups = 0\r\n}: QuestPanelProps) {\r\n    const { addXP } = useGameState();\r\n    const [completedQuests, setCompletedQuests] = useState<Set<QuestId>>(new Set());\r\n    const [lastResetDate, setLastResetDate] = useState<string>('');\r\n\r\n    // Get today's date string\r\n    const today = new Date().toISOString().split('T')[0];\r\n\r\n    // Reset quests at midnight\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('questLastReset');\r\n        Promise.resolve().then(() => {\r\n            if (saved !== today) {\r\n                setCompletedQuests(new Set());\r\n                localStorage.setItem('questLastReset', today);\r\n                localStorage.removeItem('completedQuests');\r\n            } else {\r\n                const savedCompleted = localStorage.getItem('completedQuests');\r\n                if (savedCompleted) {\r\n                    setCompletedQuests(new Set(JSON.parse(savedCompleted)));\r\n                }\r\n            }\r\n            setLastResetDate(today);\r\n        });\r\n    }, [today]);\r\n\r\n    // Build quests with current progress\r\n    const quests = useMemo(() => {\r\n        const questList: Quest[] = [\r\n            {\r\n                ...DAILY_QUESTS.daily_3_predictions,\r\n                progress: dailyPredictions,\r\n                expiresAt: `${today}T23:59:59`,\r\n                completed: completedQuests.has('daily_3_predictions') || dailyPredictions >= 3\r\n            },\r\n            {\r\n                ...DAILY_QUESTS.daily_underdog,\r\n                progress: underdogPredictions,\r\n                expiresAt: `${today}T23:59:59`,\r\n                completed: completedQuests.has('daily_underdog') || underdogPredictions >= 1\r\n            },\r\n            {\r\n                ...DAILY_QUESTS.daily_complete_group,\r\n                progress: completedGroups,\r\n                expiresAt: `${today}T23:59:59`,\r\n                completed: completedQuests.has('daily_complete_group') || completedGroups >= 1\r\n            }\r\n        ];\r\n        return questList;\r\n    }, [dailyPredictions, underdogPredictions, completedGroups, today, completedQuests]);\r\n\r\n    // Check for newly completed quests and award XP\r\n    useEffect(() => {\r\n        const newlyCompletedQuests = quests.filter(\r\n            quest => quest.progress >= quest.target && !completedQuests.has(quest.id)\r\n        );\r\n\r\n        if (newlyCompletedQuests.length > 0) {\r\n            // Defer update to avoid \"cascading renders\" warning\r\n            Promise.resolve().then(() => {\r\n                setCompletedQuests(prev => {\r\n                    const newSet = new Set(prev);\r\n                    newlyCompletedQuests.forEach(quest => {\r\n                        newSet.add(quest.id);\r\n                        addXP(quest.xpReward);\r\n                    });\r\n                    localStorage.setItem('completedQuests', JSON.stringify([...newSet]));\r\n                    return newSet;\r\n                });\r\n            });\r\n        }\r\n    }, [quests, completedQuests, addXP]);\r\n\r\n    const completedCount = quests.filter(q => q.completed).length;\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/80 backdrop-blur-sm rounded-xl border border-slate-700 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"px-3 py-2 bg-gradient-to-r from-purple-900/50 to-indigo-900/50 border-b border-slate-700 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-lg\">­şôï</span>\r\n                    <span className=\"text-sm font-bold text-white\">G├╝nl├╝k G├Ârevler</span>\r\n                </div>\r\n                <div className=\"text-xs text-purple-400 font-bold\">\r\n                    {completedCount}/{quests.length}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Quest List */}\r\n            <div className=\"p-2 space-y-2\">\r\n                {quests.map(quest => {\r\n                    const progressPercent = Math.min((quest.progress / quest.target) * 100, 100);\r\n\r\n                    return (\r\n                        <div\r\n                            key={quest.id}\r\n                            className={`p-2 rounded-lg border transition-all ${quest.completed\r\n                                ? 'bg-emerald-900/20 border-emerald-600/30'\r\n                                : 'bg-slate-800/50 border-slate-700/50'\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex items-start gap-2\">\r\n                                <span className={`text-xl ${quest.completed ? '' : 'grayscale-[50%]'}`}>\r\n                                    {quest.icon}\r\n                                </span>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span className={`text-xs font-bold ${quest.completed ? 'text-emerald-400' : 'text-white'\r\n                                            }`}>\r\n                                            {quest.name}\r\n                                        </span>\r\n                                        {quest.completed && (\r\n                                            <span className=\"text-[10px] bg-emerald-700 text-white px-1.5 rounded\">Ô£ô</span>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"text-[10px] text-slate-400\">{quest.description}</div>\r\n\r\n                                    {/* Progress Bar */}\r\n                                    <div className=\"mt-1.5 flex items-center gap-2\">\r\n                                        <div className=\"flex-1 h-1.5 bg-slate-700 rounded-full overflow-hidden\">\r\n                                            <div\r\n                                                className={`h-full transition-all duration-500 ${quest.completed\r\n                                                    ? 'bg-emerald-500'\r\n                                                    : 'bg-gradient-to-r from-purple-500 to-indigo-500'\r\n                                                    }`}\r\n                                                style={{ width: `${progressPercent}%` }}\r\n                                            />\r\n                                        </div>\r\n                                        <span className=\"text-[10px] text-slate-500 font-mono\">\r\n                                            {quest.progress}/{quest.target}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"text-xs font-bold text-amber-400\">\r\n                                    +{quest.xpReward}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Reset Info */}\r\n            <div className=\"px-3 py-1.5 text-[10px] text-slate-500 text-center border-t border-slate-700/50\">\r\n                G├Ârevler gece yar─▒s─▒ s─▒f─▒rlan─▒r\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\SEOSchema.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ScenarioEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ScrollToTop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\SearchFilter.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[137,140],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[137,140],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[172,175],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[172,175],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface SearchFilterProps {\r\n    items: { name: string;[key: string]: any }[];\r\n    onFilter: (filtered: any[]) => void;\r\n    placeholder?: string;\r\n}\r\n\r\nexport default function SearchFilter({ items, onFilter, placeholder = \"Ara...\" }: SearchFilterProps) {\r\n    const [query, setQuery] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!query.trim()) {\r\n            onFilter(items);\r\n            return;\r\n        }\r\n\r\n        const q = query.toLowerCase();\r\n        const filtered = items.filter(item =>\r\n            item.name.toLowerCase().includes(q)\r\n        );\r\n        onFilter(filtered);\r\n    }, [query, items, onFilter]);\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <input\r\n                type=\"text\"\r\n                value={query}\r\n                onChange={(e) => setQuery(e.target.value)}\r\n                placeholder={placeholder}\r\n                className=\"w-full px-4 py-2 pl-10 bg-slate-900 border border-slate-700 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-blue-500 transition-colors\"\r\n            />\r\n            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\">\r\n                ­şöı\r\n            </span>\r\n            {query && (\r\n                <button\r\n                    onClick={() => setQuery('')}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white\"\r\n                >\r\n                    Ô£ò\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ShareButton.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":3,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useCallback, useRef, useState } from \"react\";\r\nimport { toPng } from \"html-to-image\";\r\n\r\ninterface ShareButtonProps {\r\n    targetRef: React.RefObject<HTMLElement | null>;\r\n    championName?: string;\r\n    className?: string;\r\n}\r\n\r\nexport default function ShareButton({ targetRef, championName, className = \"\" }: ShareButtonProps) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleShare = useCallback(async () => {\r\n        if (!targetRef.current) return;\r\n\r\n        setIsLoading(true);\r\n        try {\r\n            // Create a wrapper with watermark\r\n            const element = targetRef.current;\r\n\r\n            const dataUrl = await toPng(element, {\r\n                backgroundColor: \"#0f172a\",\r\n                pixelRatio: 2,\r\n                style: {\r\n                    transform: \"scale(1)\",\r\n                    transformOrigin: \"top left\",\r\n                }\r\n            });\r\n\r\n            // Create canvas to add watermark\r\n            const img = new Image();\r\n            img.src = dataUrl;\r\n\r\n            await new Promise((resolve) => { img.onload = resolve; });\r\n\r\n            const canvas = document.createElement(\"canvas\");\r\n            canvas.width = img.width;\r\n            canvas.height = img.height + 80; // Extra space for watermark\r\n\r\n            const ctx = canvas.getContext(\"2d\");\r\n            if (!ctx) return;\r\n\r\n            // Fill background\r\n            ctx.fillStyle = \"#0f172a\";\r\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n            // Draw the captured image\r\n            ctx.drawImage(img, 0, 0);\r\n\r\n            // Add watermark bar\r\n            ctx.fillStyle = \"#1e293b\";\r\n            ctx.fillRect(0, img.height, canvas.width, 80);\r\n\r\n            // Add champion text\r\n            ctx.fillStyle = \"#fbbf24\";\r\n            ctx.font = \"bold 24px system-ui, sans-serif\";\r\n            ctx.textAlign = \"center\";\r\n\r\n            const text = championName\r\n                ? `­şÅå Benim Senaryoma G├Âre ┼Şampiyon: ${championName}`\r\n                : \"­şÅÉ VolleySimulator - Sezon Senaryom\";\r\n            ctx.fillText(text, canvas.width / 2, img.height + 50);\r\n\r\n            // Convert to blob and download\r\n            canvas.toBlob((blob) => {\r\n                if (!blob) return;\r\n                const url = URL.createObjectURL(blob);\r\n                const a = document.createElement(\"a\");\r\n                a.href = url;\r\n                a.download = `senaryo-${new Date().toLocaleDateString(\"tr-TR\")}.png`;\r\n                a.click();\r\n                URL.revokeObjectURL(url);\r\n            }, \"image/png\");\r\n\r\n        } catch (err) {\r\n            console.error(\"Share failed:\", err);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [targetRef, championName]);\r\n\r\n    return (\r\n        <button\r\n            onClick={handleShare}\r\n            disabled={isLoading}\r\n            className={`flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white text-xs font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-wait ${className}`}\r\n        >\r\n            {isLoading ? (\r\n                <>\r\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                    <span>─░ndiriliyor...</span>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <span>Payla┼ş</span>\r\n                </>\r\n            )}\r\n        </button>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Skeleton\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\StatsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\StreakWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\SwipeableTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\TeamAvatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\TeamCompareModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\TeamFormDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\TeamLoyaltySelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useGameState } from \"../utils/gameState\";\r\n\r\ninterface TeamLoyaltySelectorProps {\r\n    teams: { name: string }[];\r\n    onSelect?: (team: string | null) => void;\r\n}\r\n\r\nexport default function TeamLoyaltySelector({ teams, onSelect }: TeamLoyaltySelectorProps) {\r\n    const { gameState, setFavoriteTeam } = useGameState();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const handleSelect = (teamName: string | null) => {\r\n        setFavoriteTeam(teamName);\r\n        setIsOpen(false);\r\n        onSelect?.(teamName);\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className={`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${gameState.favoriteTeam\r\n                        ? 'bg-gradient-to-r from-rose-600 to-pink-600 text-white border-rose-500 shadow-lg shadow-rose-500/20'\r\n                        : 'bg-slate-800 text-slate-400 border-slate-700 hover:text-white hover:bg-slate-700'\r\n                    }`}\r\n            >\r\n                <span>ÔØñ´©Å</span>\r\n                <span className=\"hidden sm:inline\">\r\n                    {gameState.favoriteTeam || \"Tak─▒m Se├ğ\"}\r\n                </span>\r\n                {gameState.favoriteTeam && (\r\n                    <span className=\"bg-amber-500 text-[9px] px-1 rounded\">+20% XP</span>\r\n                )}\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"absolute top-full mt-1 right-0 z-50 bg-slate-900 border border-slate-700 rounded-lg shadow-xl max-h-[300px] overflow-y-auto min-w-[200px]\">\r\n                    <div className=\"p-2 border-b border-slate-700\">\r\n                        <div className=\"text-xs text-slate-400 font-bold uppercase\">Favori Tak─▒m</div>\r\n                        <div className=\"text-[10px] text-amber-500 mt-0.5\">Ma├ğlar─▒na +20% XP bonus!</div>\r\n                    </div>\r\n\r\n                    {gameState.favoriteTeam && (\r\n                        <button\r\n                            onClick={() => handleSelect(null)}\r\n                            className=\"w-full px-3 py-2 text-left text-xs text-rose-400 hover:bg-rose-900/30 border-b border-slate-700/50\"\r\n                        >\r\n                            Ô£ò Se├ğimi Kald─▒r\r\n                        </button>\r\n                    )}\r\n\r\n                    <div className=\"py-1\">\r\n                        {teams.map(team => (\r\n                            <button\r\n                                key={team.name}\r\n                                onClick={() => handleSelect(team.name)}\r\n                                className={`w-full px-3 py-2 text-left text-xs transition-all flex items-center gap-2 ${gameState.favoriteTeam === team.name\r\n                                        ? 'bg-rose-600/20 text-rose-400'\r\n                                        : 'text-slate-300 hover:bg-slate-800'\r\n                                    }`}\r\n                            >\r\n                                {gameState.favoriteTeam === team.name && <span>ÔØñ´©Å</span>}\r\n                                <span className=\"truncate\">{team.name}</span>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\ThemeWrapper.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mounted' is assigned a value but never used.","line":7,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { ReactNode, useEffect, useState } from \"react\";\r\nimport { ThemeProvider } from \"../context/ThemeContext\";\r\n\r\nexport default function ThemeWrapper({ children }: { children: ReactNode }) {\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        Promise.resolve().then(() => {\r\n            setMounted(true);\r\n        });\r\n        // Set initial theme from localStorage or default to dark\r\n        const saved = localStorage.getItem(\"theme\") || \"dark\";\r\n        document.documentElement.setAttribute(\"data-theme\", saved);\r\n    }, []);\r\n\r\n    // Prevent flash by rendering children immediately but theme applies after mount\r\n    return <ThemeProvider>{children}</ThemeProvider>;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\TutorialModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\XPBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\AuthContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1758,1761],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1758,1761],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { User, Session, SupabaseClient } from '@supabase/supabase-js';\r\nimport { createClient } from '../utils/supabase';\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    session: Session | null;\r\n    loading: boolean;\r\n    signUp: (email: string, password: string, metadata?: { name?: string }) => Promise<{ error: Error | null }>;\r\n    signIn: (email: string, password: string) => Promise<{ error: Error | null }>;\r\n    signOut: () => Promise<void>;\r\n    signInWithGoogle: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [session, setSession] = useState<Session | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [supabase, setSupabase] = useState<SupabaseClient | null>(null);\r\n\r\n    // Initialize Supabase client only in browser\r\n    useEffect(() => {\r\n        const client = createClient();\r\n        setSupabase(client);\r\n\r\n        if (!client) {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const initAuth = async () => {\r\n            try {\r\n                // Set a timeout to prevent infinite loading\r\n                const timeoutPromise = new Promise((_, reject) =>\r\n                    setTimeout(() => reject(new Error('Auth timeout')), 5000)\r\n                );\r\n\r\n                const sessionPromise = client.auth.getSession();\r\n\r\n                // Race between session fetch and timeout\r\n                const { data } = await Promise.race([sessionPromise, timeoutPromise]) as any;\r\n\r\n                setSession(data.session);\r\n                setUser(data.session?.user ?? null);\r\n            } catch (err) {\r\n                console.warn(\"Auth check failed or timed out:\", err);\r\n                // If it was a timeout or error, valid state is \"not logged in\"\r\n                setSession(null);\r\n                setUser(null);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        initAuth();\r\n\r\n        // Listen for auth changes\r\n        const { data: { subscription } } = client.auth.onAuthStateChange((_event: string, currentSession: Session | null) => {\r\n            setSession(currentSession);\r\n            setUser(currentSession?.user ?? null);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, []);\r\n\r\n    const signUp = async (email: string, password: string, metadata?: { name?: string }) => {\r\n        if (!supabase) {\r\n            return { error: new Error('Supabase is not configured') };\r\n        }\r\n        const { error } = await supabase.auth.signUp({\r\n            email,\r\n            password,\r\n            options: {\r\n                data: metadata\r\n            }\r\n        });\r\n        return { error: error as Error | null };\r\n    };\r\n\r\n    const signIn = async (email: string, password: string) => {\r\n        if (!supabase) {\r\n            return { error: new Error('Supabase is not configured') };\r\n        }\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n            email,\r\n            password\r\n        });\r\n        return { error: error as Error | null };\r\n    };\r\n\r\n    const signOut = async () => {\r\n        if (!supabase) return;\r\n        await supabase.auth.signOut();\r\n        // Redirect to home page after sign out\r\n        window.location.href = '/';\r\n    };\r\n\r\n    const signInWithGoogle = async () => {\r\n        if (!supabase) return;\r\n        await supabase.auth.signInWithOAuth({\r\n            provider: 'google',\r\n            options: {\r\n                redirectTo: `${window.location.origin}/auth/callback`\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            user,\r\n            session,\r\n            loading,\r\n            signUp,\r\n            signIn,\r\n            signOut,\r\n            signInWithGoogle\r\n        }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\CustomLeaguesContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'UserProfile' is defined but never used.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useCallback, useEffect } from \"react\";\r\nimport { \r\n  CustomLeague, \r\n  CustomLeagueMember, \r\n  CustomLeagueInvite,\r\n  UserProfile \r\n} from \"../types\";\r\nimport { useAuth } from \"./AuthContext\";\r\n\r\ninterface CustomLeaguesContextType {\r\n  myLeagues: CustomLeague[];\r\n  joinedLeagues: CustomLeague[];\r\n  pendingInvites: CustomLeagueInvite[];\r\n  currentLeague: CustomLeague | null;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  // Actions\r\n  createLeague: (data: CreateLeagueData) => Promise<CustomLeague | null>;\r\n  updateLeague: (leagueId: string, data: Partial<CreateLeagueData>) => Promise<boolean>;\r\n  deleteLeague: (leagueId: string) => Promise<boolean>;\r\n  joinLeague: (code: string) => Promise<boolean>;\r\n  leaveLeague: (leagueId: string) => Promise<boolean>;\r\n  inviteMember: (leagueId: string, email: string) => Promise<boolean>;\r\n  removeMember: (leagueId: string, userId: string) => Promise<boolean>;\r\n  promoteMember: (leagueId: string, userId: string, role: 'admin' | 'member') => Promise<boolean>;\r\n  acceptInvite: (inviteId: string) => Promise<boolean>;\r\n  rejectInvite: (inviteId: string) => Promise<boolean>;\r\n  getLeagueDetails: (leagueId: string) => Promise<CustomLeague | null>;\r\n  getLeagueLeaderboard: (leagueId: string) => Promise<CustomLeagueMember[]>;\r\n  refreshLeagues: () => Promise<void>;\r\n}\r\n\r\ninterface CreateLeagueData {\r\n  name: string;\r\n  description?: string;\r\n  isPrivate: boolean;\r\n  maxMembers: number;\r\n  leagues: string[];\r\n  startDate: string;\r\n  endDate: string;\r\n}\r\n\r\nconst CustomLeaguesContext = createContext<CustomLeaguesContextType | undefined>(undefined);\r\n\r\nexport function CustomLeaguesProvider({ children }: { children: React.ReactNode }) {\r\n  const { user } = useAuth();\r\n  const [myLeagues, setMyLeagues] = useState<CustomLeague[]>([]);\r\n  const [joinedLeagues, setJoinedLeagues] = useState<CustomLeague[]>([]);\r\n  const [pendingInvites, setPendingInvites] = useState<CustomLeagueInvite[]>([]);\r\n  const [currentLeague, setCurrentLeague] = useState<CustomLeague | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Fetch user's leagues\r\n  const fetchLeagues = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await fetch('/api/custom-leagues', {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to fetch leagues');\r\n      \r\n      const data = await response.json();\r\n      setMyLeagues(data.myLeagues || []);\r\n      setJoinedLeagues(data.joinedLeagues || []);\r\n      setPendingInvites(data.pendingInvites || []);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  // Create new league\r\n  const createLeague = useCallback(async (data: CreateLeagueData): Promise<CustomLeague | null> => {\r\n    if (!user) return null;\r\n    \r\n    try {\r\n      const response = await fetch('/api/custom-leagues', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to create league');\r\n      \r\n      const result = await response.json();\r\n      await fetchLeagues();\r\n      return result.league;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return null;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Update league\r\n  const updateLeague = useCallback(async (\r\n    leagueId: string, \r\n    data: Partial<CreateLeagueData>\r\n  ): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to update league');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Delete league\r\n  const deleteLeague = useCallback(async (leagueId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to delete league');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Join league with code\r\n  const joinLeague = useCallback(async (code: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch('/api/custom-leagues/join', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ code }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.error || 'Failed to join league');\r\n      }\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Leave league\r\n  const leaveLeague = useCallback(async (leagueId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}/leave`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to leave league');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Invite member\r\n  const inviteMember = useCallback(async (leagueId: string, email: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}/invite`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to invite member');\r\n      \r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user]);\r\n\r\n  // Remove member\r\n  const removeMember = useCallback(async (leagueId: string, userId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}/members/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to remove member');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Promote/demote member\r\n  const promoteMember = useCallback(async (\r\n    leagueId: string, \r\n    userId: string, \r\n    role: 'admin' | 'member'\r\n  ): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}/members/${userId}/role`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ role }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to update member role');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Accept invite\r\n  const acceptInvite = useCallback(async (inviteId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/invites/${inviteId}/accept`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to accept invite');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Reject invite\r\n  const rejectInvite = useCallback(async (inviteId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/invites/${inviteId}/reject`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to reject invite');\r\n      \r\n      await fetchLeagues();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  // Get league details\r\n  const getLeagueDetails = useCallback(async (leagueId: string): Promise<CustomLeague | null> => {\r\n    if (!user) return null;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to get league details');\r\n      \r\n      const data = await response.json();\r\n      setCurrentLeague(data.league);\r\n      return data.league;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return null;\r\n    }\r\n  }, [user]);\r\n\r\n  // Get league leaderboard\r\n  const getLeagueLeaderboard = useCallback(async (leagueId: string): Promise<CustomLeagueMember[]> => {\r\n    if (!user) return [];\r\n    \r\n    try {\r\n      const response = await fetch(`/api/custom-leagues/${leagueId}/leaderboard`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to get leaderboard');\r\n      \r\n      const data = await response.json();\r\n      return data.leaderboard || [];\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return [];\r\n    }\r\n  }, [user]);\r\n\r\n  // Refresh leagues\r\n  const refreshLeagues = useCallback(async () => {\r\n    await fetchLeagues();\r\n  }, [fetchLeagues]);\r\n\r\n  // Initial fetch\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchLeagues();\r\n    }\r\n  }, [user, fetchLeagues]);\r\n\r\n  return (\r\n    <CustomLeaguesContext.Provider\r\n      value={{\r\n        myLeagues,\r\n        joinedLeagues,\r\n        pendingInvites,\r\n        currentLeague,\r\n        isLoading,\r\n        error,\r\n        createLeague,\r\n        updateLeague,\r\n        deleteLeague,\r\n        joinLeague,\r\n        leaveLeague,\r\n        inviteMember,\r\n        removeMember,\r\n        promoteMember,\r\n        acceptInvite,\r\n        rejectInvite,\r\n        getLeagueDetails,\r\n        getLeagueLeaderboard,\r\n        refreshLeagues,\r\n      }}\r\n    >\r\n      {children}\r\n    </CustomLeaguesContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useCustomLeagues() {\r\n  const context = useContext(CustomLeaguesContext);\r\n  if (context === undefined) {\r\n    throw new Error('useCustomLeagues must be used within a CustomLeaguesProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\FriendsContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FriendshipStatus' is defined but never used.","line":4,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":63}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useCallback, useEffect } from \"react\";\r\nimport { Friend, UserProfile, FriendActivity, FriendshipStatus } from \"../types\";\r\nimport { useAuth } from \"./AuthContext\";\r\n\r\ninterface FriendsContextType {\r\n  friends: Friend[];\r\n  pendingRequests: Friend[];\r\n  friendActivities: FriendActivity[];\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  // Actions\r\n  sendFriendRequest: (userId: string) => Promise<boolean>;\r\n  acceptFriendRequest: (friendshipId: string) => Promise<boolean>;\r\n  rejectFriendRequest: (friendshipId: string) => Promise<boolean>;\r\n  removeFriend: (friendshipId: string) => Promise<boolean>;\r\n  blockUser: (userId: string) => Promise<boolean>;\r\n  searchUsers: (query: string) => Promise<UserProfile[]>;\r\n  getFriendProfile: (userId: string) => Promise<UserProfile | null>;\r\n  comparePredictions: (friendId: string, league?: string) => Promise<PredictionComparison | null>;\r\n  refreshFriends: () => Promise<void>;\r\n}\r\n\r\ninterface PredictionComparison {\r\n  userId: string;\r\n  friendId: string;\r\n  userStats: {\r\n    totalPredictions: number;\r\n    correctPredictions: number;\r\n    accuracy: number;\r\n    points: number;\r\n  };\r\n  friendStats: {\r\n    totalPredictions: number;\r\n    correctPredictions: number;\r\n    accuracy: number;\r\n    points: number;\r\n  };\r\n  commonMatches: CommonMatchPrediction[];\r\n}\r\n\r\ninterface CommonMatchPrediction {\r\n  matchId: string;\r\n  homeTeam: string;\r\n  awayTeam: string;\r\n  userPrediction: string;\r\n  friendPrediction: string;\r\n  actualResult?: string;\r\n  userCorrect?: boolean;\r\n  friendCorrect?: boolean;\r\n}\r\n\r\nconst FriendsContext = createContext<FriendsContextType | undefined>(undefined);\r\n\r\nexport function FriendsProvider({ children }: { children: React.ReactNode }) {\r\n  const { user } = useAuth();\r\n  const [friends, setFriends] = useState<Friend[]>([]);\r\n  const [pendingRequests, setPendingRequests] = useState<Friend[]>([]);\r\n  const [friendActivities, setFriendActivities] = useState<FriendActivity[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Fetch friends list\r\n  const fetchFriends = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await fetch('/api/friends', {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to fetch friends');\r\n      \r\n      const data = await response.json();\r\n      setFriends(data.friends || []);\r\n      setPendingRequests(data.pendingRequests || []);\r\n      setFriendActivities(data.activities || []);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  // Send friend request\r\n  const sendFriendRequest = useCallback(async (userId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch('/api/friends/request', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ friendId: userId }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to send friend request');\r\n      \r\n      await fetchFriends();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchFriends]);\r\n\r\n  // Accept friend request\r\n  const acceptFriendRequest = useCallback(async (friendshipId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/friends/request/${friendshipId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ action: 'accept' }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to accept friend request');\r\n      \r\n      await fetchFriends();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchFriends]);\r\n\r\n  // Reject friend request\r\n  const rejectFriendRequest = useCallback(async (friendshipId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/friends/request/${friendshipId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ action: 'reject' }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to reject friend request');\r\n      \r\n      await fetchFriends();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchFriends]);\r\n\r\n  // Remove friend\r\n  const removeFriend = useCallback(async (friendshipId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/friends/${friendshipId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to remove friend');\r\n      \r\n      await fetchFriends();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchFriends]);\r\n\r\n  // Block user\r\n  const blockUser = useCallback(async (userId: string): Promise<boolean> => {\r\n    if (!user) return false;\r\n    \r\n    try {\r\n      const response = await fetch('/api/friends/block', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ userId }),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to block user');\r\n      \r\n      await fetchFriends();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return false;\r\n    }\r\n  }, [user, fetchFriends]);\r\n\r\n  // Search users\r\n  const searchUsers = useCallback(async (query: string): Promise<UserProfile[]> => {\r\n    if (!user || query.length < 2) return [];\r\n    \r\n    try {\r\n      const response = await fetch(`/api/users/search?q=${encodeURIComponent(query)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to search users');\r\n      \r\n      const data = await response.json();\r\n      return data.users || [];\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return [];\r\n    }\r\n  }, [user]);\r\n\r\n  // Get friend profile\r\n  const getFriendProfile = useCallback(async (userId: string): Promise<UserProfile | null> => {\r\n    if (!user) return null;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/users/${userId}/profile`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to get user profile');\r\n      \r\n      const data = await response.json();\r\n      return data.profile;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return null;\r\n    }\r\n  }, [user]);\r\n\r\n  // Compare predictions with friend\r\n  const comparePredictions = useCallback(async (\r\n    friendId: string,\r\n    league?: string\r\n  ): Promise<PredictionComparison | null> => {\r\n    if (!user) return null;\r\n    \r\n    try {\r\n      const url = league \r\n        ? `/api/friends/${friendId}/compare?league=${encodeURIComponent(league)}`\r\n        : `/api/friends/${friendId}/compare`;\r\n        \r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to compare predictions');\r\n      \r\n      const data = await response.json();\r\n      return data.comparison;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      return null;\r\n    }\r\n  }, [user]);\r\n\r\n  // Refresh friends data\r\n  const refreshFriends = useCallback(async () => {\r\n    await fetchFriends();\r\n  }, [fetchFriends]);\r\n\r\n  // Initial fetch\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchFriends();\r\n    }\r\n  }, [user, fetchFriends]);\r\n\r\n  return (\r\n    <FriendsContext.Provider\r\n      value={{\r\n        friends,\r\n        pendingRequests,\r\n        friendActivities,\r\n        isLoading,\r\n        error,\r\n        sendFriendRequest,\r\n        acceptFriendRequest,\r\n        rejectFriendRequest,\r\n        removeFriend,\r\n        blockUser,\r\n        searchUsers,\r\n        getFriendProfile,\r\n        comparePredictions,\r\n        refreshFriends,\r\n      }}\r\n    >\r\n      {children}\r\n    </FriendsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFriends() {\r\n  const context = useContext(FriendsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useFriends must be used within a FriendsProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\LiveMatchContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\LocaleContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":56}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\n\r\ntype Locale = 'tr' | 'en';\r\n\r\ninterface LocaleContextType {\r\n  locale: Locale;\r\n  setLocale: (locale: Locale) => void;\r\n}\r\n\r\nconst LocaleContext = createContext<LocaleContextType | undefined>(undefined);\r\n\r\nfunction getInitialLocale(): Locale {\r\n  if (typeof document === 'undefined') return 'tr';\r\n  \r\n  const savedLocale = document.cookie\r\n    .split('; ')\r\n    .find(row => row.startsWith('NEXT_LOCALE='))\r\n    ?.split('=')[1];\r\n  \r\n  if (savedLocale === 'tr' || savedLocale === 'en') {\r\n    return savedLocale;\r\n  }\r\n  return 'tr';\r\n}\r\n\r\nexport function LocaleProvider({ children }: { children: ReactNode }) {\r\n  const [locale, setLocaleState] = useState<Locale>(getInitialLocale);\r\n\r\n  const setLocale = (newLocale: Locale) => {\r\n    setLocaleState(newLocale);\r\n    // Set cookie for 1 year\r\n    document.cookie = `NEXT_LOCALE=${newLocale}; path=/; max-age=31536000`;\r\n    // Reload to apply new locale\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <LocaleContext.Provider value={{ locale, setLocale }}>\r\n      {children}\r\n    </LocaleContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useLocale() {\r\n  const context = useContext(LocaleContext);\r\n  if (!context) {\r\n    throw new Error('useLocale must be used within a LocaleProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\NotificationsContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'NotificationType' is defined but never used.","line":4,"column":54,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":70},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'registration' is assigned a value but never used.","line":208,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":208,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useCallback, useEffect, useRef } from \"react\";\r\nimport type { Notification, NotificationPreferences, NotificationType } from \"../types\";\r\nimport { useAuth } from \"./AuthContext\";\r\n\r\ninterface NotificationsContextType {\r\n  notifications: Notification[];\r\n  unreadCount: number;\r\n  preferences: NotificationPreferences;\r\n  isLoading: boolean;\r\n  // Actions\r\n  markAsRead: (notificationId: string) => Promise<void>;\r\n  markAllAsRead: () => Promise<void>;\r\n  deleteNotification: (notificationId: string) => Promise<void>;\r\n  clearAll: () => Promise<void>;\r\n  updatePreferences: (prefs: Partial<NotificationPreferences>) => Promise<void>;\r\n  requestPushPermission: () => Promise<boolean>;\r\n  // Real-time\r\n  subscribeToNotifications: () => void;\r\n  unsubscribeFromNotifications: () => void;\r\n}\r\n\r\nconst defaultPreferences: NotificationPreferences = {\r\n  matchReminders: true,\r\n  matchResults: true,\r\n  friendRequests: true,\r\n  friendActivity: true,\r\n  achievements: true,\r\n  leaderboardChanges: true,\r\n  dailyQuests: true,\r\n  weeklyDigest: true,\r\n  pushEnabled: false,\r\n  emailEnabled: true,\r\n};\r\n\r\nconst NotificationsContext = createContext<NotificationsContextType | undefined>(undefined);\r\n\r\nexport function NotificationsProvider({ children }: { children: React.ReactNode }) {\r\n  const { user } = useAuth();\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [preferences, setPreferences] = useState<NotificationPreferences>(defaultPreferences);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const eventSourceRef = useRef<EventSource | null>(null);\r\n\r\n  const unreadCount = notifications.filter(n => !n.isRead).length;\r\n\r\n  // Fetch notifications\r\n  const fetchNotifications = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      const response = await fetch('/api/notifications', {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to fetch notifications');\r\n      \r\n      const data = await response.json();\r\n      setNotifications(data.notifications || []);\r\n    } catch (err) {\r\n      console.error('Failed to fetch notifications:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  // Fetch preferences\r\n  const fetchPreferences = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const response = await fetch('/api/notifications/preferences', {\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to fetch preferences');\r\n      \r\n      const data = await response.json();\r\n      setPreferences(data.preferences || defaultPreferences);\r\n    } catch (err) {\r\n      console.error('Failed to fetch preferences:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Mark single notification as read\r\n  const markAsRead = useCallback(async (notificationId: string) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      await fetch(`/api/notifications/${notificationId}/read`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      setNotifications(prev => \r\n        prev.map(n => n.id === notificationId ? { ...n, isRead: true } : n)\r\n      );\r\n    } catch (err) {\r\n      console.error('Failed to mark notification as read:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Mark all as read\r\n  const markAllAsRead = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      await fetch('/api/notifications/read-all', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      setNotifications(prev => prev.map(n => ({ ...n, isRead: true })));\r\n    } catch (err) {\r\n      console.error('Failed to mark all as read:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Delete notification\r\n  const deleteNotification = useCallback(async (notificationId: string) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      await fetch(`/api/notifications/${notificationId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      setNotifications(prev => prev.filter(n => n.id !== notificationId));\r\n    } catch (err) {\r\n      console.error('Failed to delete notification:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Clear all notifications\r\n  const clearAll = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      await fetch('/api/notifications', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n      \r\n      setNotifications([]);\r\n    } catch (err) {\r\n      console.error('Failed to clear notifications:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Update preferences\r\n  const updatePreferences = useCallback(async (prefs: Partial<NotificationPreferences>) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const response = await fetch('/api/notifications/preferences', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify(prefs),\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to update preferences');\r\n      \r\n      setPreferences(prev => ({ ...prev, ...prefs }));\r\n    } catch (err) {\r\n      console.error('Failed to update preferences:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Request push permission\r\n  const requestPushPermission = useCallback(async (): Promise<boolean> => {\r\n    if (!('Notification' in window)) {\r\n      console.log('This browser does not support notifications');\r\n      return false;\r\n    }\r\n    \r\n    if (Notification.permission === 'granted') {\r\n      await updatePreferences({ pushEnabled: true });\r\n      return true;\r\n    }\r\n    \r\n    if (Notification.permission !== 'denied') {\r\n      const permission = await Notification.requestPermission();\r\n      if (permission === 'granted') {\r\n        await updatePreferences({ pushEnabled: true });\r\n        \r\n        // Register service worker for push\r\n        if ('serviceWorker' in navigator) {\r\n          try {\r\n            const registration = await navigator.serviceWorker.ready;\r\n            // Here you would subscribe to push notifications\r\n            console.log('Push notification registered');\r\n          } catch (err) {\r\n            console.error('Failed to register push:', err);\r\n          }\r\n        }\r\n        \r\n        return true;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  }, [updatePreferences]);\r\n\r\n  // Subscribe to real-time notifications (SSE)\r\n  const subscribeToNotifications = useCallback(() => {\r\n    if (!user || eventSourceRef.current) return;\r\n    \r\n    eventSourceRef.current = new EventSource(`/api/notifications/stream?userId=${user.id}`);\r\n    \r\n    eventSourceRef.current.onmessage = (event) => {\r\n      try {\r\n        const notification = JSON.parse(event.data) as Notification;\r\n        setNotifications(prev => [notification, ...prev]);\r\n        \r\n        // Show browser notification if enabled\r\n        if (preferences.pushEnabled && Notification.permission === 'granted') {\r\n          new Notification(notification.title, {\r\n            body: notification.message,\r\n            icon: '/icons/icon-192x192.png',\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to parse notification:', err);\r\n      }\r\n    };\r\n    \r\n    eventSourceRef.current.onerror = () => {\r\n      eventSourceRef.current?.close();\r\n      eventSourceRef.current = null;\r\n      \r\n      // Retry after 5 seconds\r\n      setTimeout(subscribeToNotifications, 5000);\r\n    };\r\n  }, [user, preferences.pushEnabled]);\r\n\r\n  // Unsubscribe from notifications\r\n  const unsubscribeFromNotifications = useCallback(() => {\r\n    if (eventSourceRef.current) {\r\n      eventSourceRef.current.close();\r\n      eventSourceRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  // Initial fetch\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchNotifications();\r\n      fetchPreferences();\r\n    }\r\n  }, [user, fetchNotifications, fetchPreferences]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      unsubscribeFromNotifications();\r\n    };\r\n  }, [unsubscribeFromNotifications]);\r\n\r\n  return (\r\n    <NotificationsContext.Provider\r\n      value={{\r\n        notifications,\r\n        unreadCount,\r\n        preferences,\r\n        isLoading,\r\n        markAsRead,\r\n        markAllAsRead,\r\n        deleteNotification,\r\n        clearAll,\r\n        updatePreferences,\r\n        requestPushPermission,\r\n        subscribeToNotifications,\r\n        unsubscribeFromNotifications,\r\n      }}\r\n    >\r\n      {children}\r\n    </NotificationsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useNotifications() {\r\n  const context = useContext(NotificationsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useNotifications must be used within a NotificationsProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\QuestsContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":175,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":175,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useCallback, useEffect } from \"react\";\r\nimport { DailyQuest, WeeklyChallenge, StreakData, Badge } from \"../types\";\r\nimport { useAuth } from \"./AuthContext\";\r\nimport { useGameState } from \"../utils/gameState\";\r\n\r\ninterface QuestsContextType {\r\n  dailyQuests: DailyQuest[];\r\n  weeklyChallenge: WeeklyChallenge | null;\r\n  streakData: StreakData;\r\n  badges: Badge[];\r\n  unlockedBadges: Badge[];\r\n  isLoading: boolean;\r\n  // Actions\r\n  claimQuestReward: (questId: string) => Promise<{ xp: number; coins: number } | null>;\r\n  useStreakFreeze: () => Promise<boolean>;\r\n  refreshQuests: () => Promise<void>;\r\n  trackQuestProgress: (questType: string, amount?: number) => Promise<void>;\r\n}\r\n\r\nconst defaultStreakData: StreakData = {\r\n  currentStreak: 0,\r\n  longestStreak: 0,\r\n  lastPredictionDate: '',\r\n  streakFreezeAvailable: 0,\r\n  streakHistory: [],\r\n};\r\n\r\nconst QuestsContext = createContext<QuestsContextType | undefined>(undefined);\r\n\r\nexport function QuestsProvider({ children }: { children: React.ReactNode }) {\r\n  const { user } = useAuth();\r\n  const { addXP } = useGameState();\r\n  const [dailyQuests, setDailyQuests] = useState<DailyQuest[]>([]);\r\n  const [weeklyChallenge, setWeeklyChallenge] = useState<WeeklyChallenge | null>(null);\r\n  const [streakData, setStreakData] = useState<StreakData>(defaultStreakData);\r\n  const [badges, setBadges] = useState<Badge[]>([]);\r\n  const [unlockedBadges, setUnlockedBadges] = useState<Badge[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Fetch daily quests\r\n  const fetchQuests = useCallback(async () => {\r\n    if (!user) return;\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Use consolidated API endpoint\r\n      const response = await fetch('/api/quests', {\r\n        headers: { 'Authorization': `Bearer ${user.id}` },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n\r\n        if (data.dailyQuests) {\r\n          setDailyQuests(data.dailyQuests);\r\n        } else {\r\n          setDailyQuests(generateDefaultQuests());\r\n        }\r\n\r\n        if (data.weeklyChallenge) {\r\n          setWeeklyChallenge(data.weeklyChallenge);\r\n        }\r\n\r\n        if (data.streak) {\r\n          setStreakData(data.streak);\r\n        } else {\r\n          setStreakData(defaultStreakData);\r\n        }\r\n\r\n        if (data.badges) {\r\n          setBadges(data.badges);\r\n          // Assuming unlockedBadges are part of badges or separate property, \r\n          // but API returns 'badges' which likely contains status.\r\n          // For now, filtering if structure supports it, or setting empty if separate property missing\r\n          setUnlockedBadges(data.badges.filter((b: Badge) => b.unlockedAt) || []);\r\n        }\r\n      } else {\r\n        throw new Error('Failed to fetch quests');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch quests:', err);\r\n      // Use default quests on error\r\n      setDailyQuests(generateDefaultQuests());\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  // Generate default daily quests\r\n  function generateDefaultQuests(): DailyQuest[] {\r\n    const today = new Date();\r\n    today.setHours(23, 59, 59, 999);\r\n    const expiresAt = today.toISOString();\r\n\r\n    return [\r\n      {\r\n        id: 'daily_predict_3',\r\n        type: 'make_predictions',\r\n        title: '3 Tahmin Yap',\r\n        description: 'Bug├╝n en az 3 ma├ğ tahmini yap',\r\n        icon: '­şÄ»',\r\n        target: 3,\r\n        progress: 0,\r\n        xpReward: 50,\r\n        coinReward: 10,\r\n        expiresAt,\r\n        completed: false,\r\n        claimed: false,\r\n      },\r\n      {\r\n        id: 'daily_correct_1',\r\n        type: 'correct_predictions',\r\n        title: 'Do─şru Tahmin',\r\n        description: '1 do─şru tahmin yap',\r\n        icon: 'Ô£à',\r\n        target: 1,\r\n        progress: 0,\r\n        xpReward: 75,\r\n        coinReward: 15,\r\n        expiresAt,\r\n        completed: false,\r\n        claimed: false,\r\n      },\r\n      {\r\n        id: 'daily_underdog',\r\n        type: 'predict_underdog',\r\n        title: 'Underdog Tahmini',\r\n        description: 'Bir ma├ğta s├╝rpriz sonu├ğ tahmin et',\r\n        icon: '­şÉ║',\r\n        target: 1,\r\n        progress: 0,\r\n        xpReward: 100,\r\n        coinReward: 25,\r\n        expiresAt,\r\n        completed: false,\r\n        claimed: false,\r\n      },\r\n      {\r\n        id: 'daily_view_stats',\r\n        type: 'view_stats',\r\n        title: '─░statistikleri ─░ncele',\r\n        description: 'Tak─▒m istatistiklerini g├Âr├╝nt├╝le',\r\n        icon: '­şôè',\r\n        target: 1,\r\n        progress: 0,\r\n        xpReward: 25,\r\n        coinReward: 5,\r\n        expiresAt,\r\n        completed: false,\r\n        claimed: false,\r\n      },\r\n    ];\r\n  }\r\n\r\n  // Claim quest reward\r\n  const claimQuestReward = useCallback(async (questId: string): Promise<{ xp: number; coins: number } | null> => {\r\n    if (!user) return null;\r\n\r\n    const quest = dailyQuests.find(q => q.id === questId);\r\n    if (!quest || !quest.completed || quest.claimed) return null;\r\n\r\n    try {\r\n      const response = await fetch(`/api/quests/${questId}/claim`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to claim reward');\r\n\r\n      const data = await response.json();\r\n\r\n      // Update local state\r\n      setDailyQuests(prev =>\r\n        prev.map(q => q.id === questId ? { ...q, claimed: true } : q)\r\n      );\r\n\r\n      // Add XP\r\n      addXP(quest.xpReward);\r\n\r\n      return { xp: quest.xpReward, coins: quest.coinReward };\r\n    } catch (err) {\r\n      console.error('Failed to claim reward:', err);\r\n      return null;\r\n    }\r\n  }, [user, dailyQuests, addXP]);\r\n\r\n  // Use streak freeze\r\n  const useStreakFreeze = useCallback(async (): Promise<boolean> => {\r\n    if (!user || streakData.streakFreezeAvailable <= 0) return false;\r\n\r\n    try {\r\n      const response = await fetch('/api/streak/freeze', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to use streak freeze');\r\n\r\n      setStreakData(prev => ({\r\n        ...prev,\r\n        streakFreezeAvailable: prev.streakFreezeAvailable - 1,\r\n      }));\r\n\r\n      return true;\r\n    } catch (err) {\r\n      console.error('Failed to use streak freeze:', err);\r\n      return false;\r\n    }\r\n  }, [user, streakData.streakFreezeAvailable]);\r\n\r\n  // Track quest progress\r\n  const trackQuestProgress = useCallback(async (questType: string, amount: number = 1) => {\r\n    if (!user) return;\r\n\r\n    // Update local state optimistically\r\n    setDailyQuests(prev =>\r\n      prev.map(q => {\r\n        if (q.type === questType && !q.completed) {\r\n          const newProgress = Math.min(q.progress + amount, q.target);\r\n          return {\r\n            ...q,\r\n            progress: newProgress,\r\n            completed: newProgress >= q.target,\r\n          };\r\n        }\r\n        return q;\r\n      })\r\n    );\r\n\r\n    // Send to server\r\n    try {\r\n      await fetch('/api/quests/progress', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.id}`,\r\n        },\r\n        body: JSON.stringify({ questType, amount }),\r\n      });\r\n    } catch (err) {\r\n      console.error('Failed to track quest progress:', err);\r\n    }\r\n  }, [user]);\r\n\r\n  // Refresh quests\r\n  const refreshQuests = useCallback(async () => {\r\n    await fetchQuests();\r\n  }, [fetchQuests]);\r\n\r\n  // Initial fetch\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchQuests();\r\n    }\r\n  }, [user, fetchQuests]);\r\n\r\n  // Check for new day and reset quests\r\n  useEffect(() => {\r\n    const checkDailyReset = () => {\r\n      const now = new Date();\r\n      const questExpiry = dailyQuests[0]?.expiresAt;\r\n\r\n      if (questExpiry && new Date(questExpiry) < now) {\r\n        fetchQuests();\r\n      }\r\n    };\r\n\r\n    const interval = setInterval(checkDailyReset, 60000); // Check every minute\r\n    return () => clearInterval(interval);\r\n  }, [dailyQuests, fetchQuests]);\r\n\r\n  return (\r\n    <QuestsContext.Provider\r\n      value={{\r\n        dailyQuests,\r\n        weeklyChallenge,\r\n        streakData,\r\n        badges,\r\n        unlockedBadges,\r\n        isLoading,\r\n        claimQuestReward,\r\n        useStreakFreeze,\r\n        refreshQuests,\r\n        trackQuestProgress,\r\n      }}\r\n    >\r\n      {children}\r\n    </QuestsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useQuests() {\r\n  const context = useContext(QuestsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useQuests must be used within a QuestsProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\context\\ThemeContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":106,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":106,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'mounted'. Either include it or remove the dependency array.","line":110,"column":8,"nodeType":"ArrayExpression","endLine":110,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [mounted]","fix":{"range":[4183,4185],"text":"[mounted]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":181,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":181,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode, useCallback } from \"react\";\r\nimport { ThemeMode, AccentColor, UIPreferences, DashboardWidget } from \"../types\";\r\n\r\ntype Theme = \"dark\" | \"light\";\r\n\r\ninterface ThemeContextType {\r\n    theme: Theme;\r\n    themeMode: ThemeMode;\r\n    accentColor: AccentColor;\r\n    preferences: UIPreferences;\r\n    isDark: boolean;\r\n    toggleTheme: () => void;\r\n    setTheme: (theme: Theme) => void;\r\n    setThemeMode: (mode: ThemeMode) => void;\r\n    setAccentColor: (color: AccentColor) => void;\r\n    updatePreferences: (prefs: Partial<UIPreferences>) => void;\r\n    updateDashboardLayout: (widgets: DashboardWidget[]) => void;\r\n    playSound: (sound: SoundType) => void;\r\n}\r\n\r\ntype SoundType = 'success' | 'error' | 'notification' | 'levelUp' | 'achievement' | 'click';\r\n\r\nconst defaultPreferences: UIPreferences = {\r\n    theme: 'dark',\r\n    accentColor: 'emerald',\r\n    soundEffects: true,\r\n    hapticFeedback: true,\r\n    compactMode: false,\r\n    showAnimations: true,\r\n    fontSize: 'medium',\r\n    dashboardLayout: [\r\n        { id: 'standings', type: 'standings', position: 1, size: 'large', visible: true },\r\n        { id: 'upcoming', type: 'upcoming', position: 2, size: 'medium', visible: true },\r\n        { id: 'quests', type: 'quests', position: 3, size: 'small', visible: true },\r\n        { id: 'streak', type: 'streak', position: 4, size: 'small', visible: true },\r\n        { id: 'leaderboard', type: 'leaderboard', position: 5, size: 'medium', visible: true },\r\n        { id: 'friends', type: 'friends', position: 6, size: 'medium', visible: true },\r\n    ],\r\n};\r\n\r\nconst SOUNDS: Record<SoundType, string> = {\r\n    success: '/sounds/success.mp3',\r\n    error: '/sounds/error.mp3',\r\n    notification: '/sounds/notification.mp3',\r\n    levelUp: '/sounds/level-up.mp3',\r\n    achievement: '/sounds/achievement.mp3',\r\n    click: '/sounds/click.mp3',\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function ThemeProvider({ children }: { children: ReactNode }) {\r\n    const [theme, setThemeState] = useState<Theme>(\"dark\");\r\n    const [themeMode, setThemeModeState] = useState<ThemeMode>(\"dark\");\r\n    const [accentColor, setAccentColorState] = useState<AccentColor>(\"emerald\");\r\n    const [preferences, setPreferences] = useState<UIPreferences>(defaultPreferences);\r\n    const [mounted, setMounted] = useState(false);\r\n    const [systemTheme, setSystemTheme] = useState<'light' | 'dark'>('dark');\r\n\r\n    const isDark = themeMode === 'dark' || (themeMode === 'system' && systemTheme === 'dark');\r\n\r\n    // Listen for system theme changes\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n        // Initialize system theme\r\n        Promise.resolve().then(() => setSystemTheme(mediaQuery.matches ? 'dark' : 'light'));\r\n\r\n        const handleChange = (e: MediaQueryListEvent) => {\r\n            setSystemTheme(e.matches ? 'dark' : 'light');\r\n        };\r\n\r\n        mediaQuery.addEventListener('change', handleChange);\r\n\r\n        return () => mediaQuery.removeEventListener('change', handleChange);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        Promise.resolve().then(() => setMounted(true));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!mounted) return;\r\n\r\n        const saved = localStorage.getItem(\"theme\") as Theme | null;\r\n        const savedPrefs = localStorage.getItem(\"ui-preferences\");\r\n\r\n        if (saved) {\r\n            Promise.resolve().then(() => {\r\n                setThemeState(saved);\r\n                document.documentElement.setAttribute(\"data-theme\", saved);\r\n            });\r\n        }\r\n\r\n        if (savedPrefs) {\r\n            try {\r\n                const prefs = JSON.parse(savedPrefs);\r\n                Promise.resolve().then(() => {\r\n                    setPreferences(prefs);\r\n                    setThemeModeState(prefs.theme || 'dark');\r\n                    setAccentColorState(prefs.accentColor || 'emerald');\r\n                });\r\n            } catch (e) {\r\n                // Ignore parse errors\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    // Apply accent color as CSS variable\r\n    useEffect(() => {\r\n        if (!mounted) return;\r\n\r\n        const root = document.documentElement;\r\n        const colors: Record<AccentColor, string> = {\r\n            emerald: '#10b981',\r\n            blue: '#3b82f6',\r\n            purple: '#8b5cf6',\r\n            rose: '#f43f5e',\r\n            amber: '#f59e0b',\r\n            cyan: '#06b6d4',\r\n        };\r\n        root.style.setProperty('--accent-color', colors[accentColor]);\r\n\r\n        // Apply font size\r\n        const fontSizes = { small: '14px', medium: '16px', large: '18px' };\r\n        root.style.setProperty('--base-font-size', fontSizes[preferences.fontSize]);\r\n    }, [mounted, accentColor, preferences.fontSize]);\r\n\r\n    const setTheme = (newTheme: Theme) => {\r\n        setThemeState(newTheme);\r\n        localStorage.setItem(\"theme\", newTheme);\r\n        document.documentElement.setAttribute(\"data-theme\", newTheme);\r\n    };\r\n\r\n    const toggleTheme = () => {\r\n        setTheme(theme === \"dark\" ? \"light\" : \"dark\");\r\n    };\r\n\r\n    const setThemeMode = useCallback((mode: ThemeMode) => {\r\n        setThemeModeState(mode);\r\n        const newPrefs = { ...preferences, theme: mode };\r\n        setPreferences(newPrefs);\r\n        localStorage.setItem(\"ui-preferences\", JSON.stringify(newPrefs));\r\n\r\n        // Also update legacy theme\r\n        const actualTheme = mode === 'system' ? systemTheme : mode;\r\n        setTheme(actualTheme as Theme);\r\n    }, [preferences, systemTheme]);\r\n\r\n    const setAccentColor = useCallback((color: AccentColor) => {\r\n        setAccentColorState(color);\r\n        const newPrefs = { ...preferences, accentColor: color };\r\n        setPreferences(newPrefs);\r\n        localStorage.setItem(\"ui-preferences\", JSON.stringify(newPrefs));\r\n    }, [preferences]);\r\n\r\n    const updatePreferences = useCallback((prefs: Partial<UIPreferences>) => {\r\n        const newPrefs = { ...preferences, ...prefs };\r\n        setPreferences(newPrefs);\r\n        localStorage.setItem(\"ui-preferences\", JSON.stringify(newPrefs));\r\n    }, [preferences]);\r\n\r\n    const updateDashboardLayout = useCallback((widgets: DashboardWidget[]) => {\r\n        const newPrefs = { ...preferences, dashboardLayout: widgets };\r\n        setPreferences(newPrefs);\r\n        localStorage.setItem(\"ui-preferences\", JSON.stringify(newPrefs));\r\n    }, [preferences]);\r\n\r\n    const playSound = useCallback((sound: SoundType) => {\r\n        if (!preferences.soundEffects) return;\r\n\r\n        try {\r\n            const audio = new Audio(SOUNDS[sound]);\r\n            audio.volume = 0.5;\r\n            audio.play().catch(() => {\r\n                // Ignore errors (e.g., user hasn't interacted with page yet)\r\n            });\r\n        } catch (err) {\r\n            // Ignore sound errors\r\n        }\r\n    }, [preferences.soundEffects]);\r\n\r\n    // Prevent flash of wrong theme\r\n    if (!mounted) {\r\n        return <>{children}</>;\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={{\r\n            theme,\r\n            themeMode,\r\n            accentColor,\r\n            preferences,\r\n            isDark,\r\n            toggleTheme,\r\n            setTheme,\r\n            setThemeMode,\r\n            setAccentColor,\r\n            updatePreferences,\r\n            updateDashboardLayout,\r\n            playSound,\r\n        }}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useTheme() {\r\n    const context = useContext(ThemeContext);\r\n    if (!context) {\r\n        throw new Error(\"useTheme must be used within a ThemeProvider\");\r\n    }\r\n    return context;\r\n}\r\n\r\n// Hook for accent color classes\r\nexport function useAccentClasses() {\r\n    const { accentColor } = useTheme();\r\n\r\n    const classes: Record<AccentColor, {\r\n        bg: string;\r\n        bgHover: string;\r\n        text: string;\r\n        border: string;\r\n        gradient: string;\r\n    }> = {\r\n        emerald: {\r\n            bg: 'bg-emerald-500',\r\n            bgHover: 'hover:bg-emerald-600',\r\n            text: 'text-emerald-500',\r\n            border: 'border-emerald-500',\r\n            gradient: 'from-emerald-500 to-teal-500',\r\n        },\r\n        blue: {\r\n            bg: 'bg-blue-500',\r\n            bgHover: 'hover:bg-blue-600',\r\n            text: 'text-blue-500',\r\n            border: 'border-blue-500',\r\n            gradient: 'from-blue-500 to-cyan-500',\r\n        },\r\n        purple: {\r\n            bg: 'bg-purple-500',\r\n            bgHover: 'hover:bg-purple-600',\r\n            text: 'text-purple-500',\r\n            border: 'border-purple-500',\r\n            gradient: 'from-purple-500 to-pink-500',\r\n        },\r\n        rose: {\r\n            bg: 'bg-rose-500',\r\n            bgHover: 'hover:bg-rose-600',\r\n            text: 'text-rose-500',\r\n            border: 'border-rose-500',\r\n            gradient: 'from-rose-500 to-red-500',\r\n        },\r\n        amber: {\r\n            bg: 'bg-amber-500',\r\n            bgHover: 'hover:bg-amber-600',\r\n            text: 'text-amber-500',\r\n            border: 'border-amber-500',\r\n            gradient: 'from-amber-500 to-orange-500',\r\n        },\r\n        cyan: {\r\n            bg: 'bg-cyan-500',\r\n            bgHover: 'hover:bg-cyan-600',\r\n            text: 'text-cyan-500',\r\n            border: 'border-cyan-500',\r\n            gradient: 'from-cyan-500 to-blue-500',\r\n        },\r\n    };\r\n\r\n    return classes[accentColor];\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\custom-leagues\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":14,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":14},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\custom-leagues\\page.tsx:29:19\n  27 |   const datesRef = React.useRef({\n  28 |     start: new Date().toISOString().split('T')[0],\n> 29 |     end: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n     |                   ^^^^^^^^^^ Cannot call impure function\n  30 |   });\n  31 |   const initialStartDate = datesRef.current.start;\n  32 |   const initialEndDate = datesRef.current.end;","line":29,"column":19,"nodeType":null,"endLine":29,"endColumn":29},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":423,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":423,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16813,16816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16813,16816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useCustomLeagues } from \"../context/CustomLeaguesContext\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function CustomLeaguesPage() {\r\n  const { user } = useAuth();\r\n  const {\r\n    myLeagues,\r\n    joinedLeagues,\r\n    pendingInvites,\r\n    isLoading,\r\n    createLeague,\r\n    joinLeague,\r\n    acceptInvite,\r\n    rejectInvite,\r\n  } = useCustomLeagues();\r\n\r\n  const [activeTab, setActiveTab] = useState<'my' | 'joined' | 'create' | 'join'>('my');\r\n  const [joinCode, setJoinCode] = useState('');\r\n  const [joinError, setJoinError] = useState('');\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n\r\n  // Calculate dates once using useRef (not useMemo to avoid purity issues)\r\n  const datesRef = React.useRef({\r\n    start: new Date().toISOString().split('T')[0],\r\n    end: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\r\n  });\r\n  const initialStartDate = datesRef.current.start;\r\n  const initialEndDate = datesRef.current.end;\r\n\r\n  // Create league form state\r\n  const [newLeague, setNewLeague] = useState({\r\n    name: '',\r\n    description: '',\r\n    isPrivate: true,\r\n    maxMembers: 20,\r\n    leagues: ['vsl'],\r\n    startDate: '',\r\n    endDate: '',\r\n  });\r\n\r\n  // Initialize dates after render\r\n  useEffect(() => {\r\n    setNewLeague(prev => ({ ...prev, startDate: initialStartDate, endDate: initialEndDate }));\r\n  }, [initialStartDate, initialEndDate]);\r\n\r\n  const handleJoinLeague = async () => {\r\n    if (!joinCode.trim()) return;\r\n\r\n    setJoinError('');\r\n    const success = await joinLeague(joinCode.trim());\r\n\r\n    if (success) {\r\n      setJoinCode('');\r\n      setActiveTab('joined');\r\n    } else {\r\n      setJoinError('Ge├ğersiz kod veya lig bulunamad─▒');\r\n    }\r\n  };\r\n\r\n  const handleCreateLeague = async () => {\r\n    if (!newLeague.name.trim()) return;\r\n\r\n    const league = await createLeague(newLeague);\r\n\r\n    if (league) {\r\n      setShowCreateModal(false);\r\n      setActiveTab('my');\r\n      setNewLeague({\r\n        name: '',\r\n        description: '',\r\n        isPrivate: true,\r\n        maxMembers: 20,\r\n        leagues: ['vsl'],\r\n        startDate: initialStartDate,\r\n        endDate: initialEndDate,\r\n      });\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-slate-400 mb-4\">Bu sayfay─▒ g├Âr├╝nt├╝lemek i├ğin giri┼ş yapmal─▒s─▒n─▒z.</p>\r\n          <Link href=\"/\" className=\"text-emerald-400 hover:underline\">Giri┼ş Yap</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-white\">├ûzel Ligler</h1>\r\n              <p className=\"text-white/70 text-sm mt-1\">\r\n                Arkada┼şlar─▒nla kendi ligini olu┼ştur!\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowCreateModal(true)}\r\n              className=\"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl text-sm font-medium transition-colors\"\r\n            >\r\n              + Lig Olu┼ştur\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Pending Invites Banner */}\r\n      {pendingInvites.length > 0 && (\r\n        <div className=\"max-w-4xl mx-auto px-4 mt-4\">\r\n          <div className=\"bg-amber-500/20 border border-amber-500/30 rounded-xl p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"text-2xl\">­şô®</span>\r\n                <div>\r\n                  <p className=\"font-medium text-amber-300\">\r\n                    {pendingInvites.length} bekleyen davet\r\n                  </p>\r\n                  <p className=\"text-sm text-amber-400/70\">\r\n                    ├ûzel liglere kat─▒lmak i├ğin davetleri kontrol edin\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                {pendingInvites.slice(0, 2).map(invite => (\r\n                  <div key={invite.id} className=\"flex gap-1\">\r\n                    <button\r\n                      onClick={() => acceptInvite(invite.id)}\r\n                      className=\"px-3 py-1 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-xs\"\r\n                    >\r\n                      Kabul\r\n                    </button>\r\n                    <button\r\n                      onClick={() => rejectInvite(invite.id)}\r\n                      className=\"px-3 py-1 bg-slate-600 hover:bg-slate-700 rounded-lg text-xs\"\r\n                    >\r\n                      Reddet\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div className=\"max-w-4xl mx-auto px-4\">\r\n        <div className=\"flex gap-2 py-4 border-b border-slate-800\">\r\n          {[\r\n            { key: 'my', label: 'Liglerim', icon: '­şææ', count: myLeagues.length },\r\n            { key: 'joined', label: 'Kat─▒ld─▒klar─▒m', icon: '­şÄ«', count: joinedLeagues.length },\r\n            { key: 'join', label: 'Kat─▒l', icon: '­şöù' },\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setActiveTab(tab.key as typeof activeTab)}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${activeTab === tab.key\r\n                ? 'bg-white/10 text-white'\r\n                : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n                }`}\r\n            >\r\n              <span>{tab.icon}</span>\r\n              <span>{tab.label}</span>\r\n              {tab.count !== undefined && tab.count > 0 && (\r\n                <span className=\"bg-indigo-500 text-white text-xs px-2 py-0.5 rounded-full\">\r\n                  {tab.count}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"py-6\">\r\n          {/* My Leagues */}\r\n          {activeTab === 'my' && (\r\n            <div className=\"space-y-4\">\r\n              {myLeagues.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"text-5xl mb-4\">­şææ</div>\r\n                  <p className=\"text-slate-400\">Hen├╝z olu┼şturdu─şunuz bir lig yok</p>\r\n                  <button\r\n                    onClick={() => setShowCreateModal(true)}\r\n                    className=\"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg text-sm font-medium transition-colors\"\r\n                  >\r\n                    ─░lk Ligini Olu┼ştur\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                myLeagues.map(league => (\r\n                  <LeagueCard key={league.id} league={league} isOwner />\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Joined Leagues */}\r\n          {activeTab === 'joined' && (\r\n            <div className=\"space-y-4\">\r\n              {joinedLeagues.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"text-5xl mb-4\">­şÄ«</div>\r\n                  <p className=\"text-slate-400\">Hen├╝z kat─▒ld─▒─ş─▒n─▒z bir lig yok</p>\r\n                  <button\r\n                    onClick={() => setActiveTab('join')}\r\n                    className=\"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg text-sm font-medium transition-colors\"\r\n                  >\r\n                    Bir Lige Kat─▒l\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                joinedLeagues.map(league => (\r\n                  <LeagueCard key={league.id} league={league} />\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Join League */}\r\n          {activeTab === 'join' && (\r\n            <div className=\"max-w-md mx-auto\">\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n                <h2 className=\"text-lg font-bold text-white mb-4\">Lige Kat─▒l</h2>\r\n                <p className=\"text-sm text-slate-400 mb-6\">\r\n                  Arkada┼ş─▒n─▒zdan ald─▒─ş─▒n─▒z davet kodunu girin\r\n                </p>\r\n\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={joinCode}\r\n                      onChange={(e) => {\r\n                        setJoinCode(e.target.value.toUpperCase());\r\n                        setJoinError('');\r\n                      }}\r\n                      placeholder=\"ABCD1234\"\r\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white text-center text-xl tracking-widest placeholder:text-slate-600 focus:outline-none focus:border-indigo-500\"\r\n                      maxLength={8}\r\n                    />\r\n                    {joinError && (\r\n                      <p className=\"text-red-400 text-sm mt-2\">{joinError}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleJoinLeague}\r\n                    disabled={!joinCode.trim()}\r\n                    className=\"w-full px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-700 disabled:cursor-not-allowed rounded-xl font-medium transition-colors\"\r\n                  >\r\n                    Kat─▒l\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create League Modal */}\r\n      {showCreateModal && (\r\n        <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-slate-900 border border-slate-700 rounded-2xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-bold text-white\">Yeni Lig Olu┼ştur</h2>\r\n              <button\r\n                onClick={() => setShowCreateModal(false)}\r\n                className=\"text-slate-400 hover:text-white\"\r\n              >\r\n                Ô£ò\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              {/* Name */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                  Lig Ad─▒ *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newLeague.name}\r\n                  onChange={(e) => setNewLeague({ ...newLeague, name: e.target.value })}\r\n                  placeholder=\"Arkada┼şlar Ligi\"\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:border-indigo-500\"\r\n                />\r\n              </div>\r\n\r\n              {/* Description */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                  A├ğ─▒klama\r\n                </label>\r\n                <textarea\r\n                  value={newLeague.description}\r\n                  onChange={(e) => setNewLeague({ ...newLeague, description: e.target.value })}\r\n                  placeholder=\"Lig hakk─▒nda k─▒sa bir a├ğ─▒klama...\"\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:border-indigo-500 resize-none h-20\"\r\n                />\r\n              </div>\r\n\r\n              {/* Privacy */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                  Gizlilik\r\n                </label>\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={() => setNewLeague({ ...newLeague, isPrivate: true })}\r\n                    className={`flex-1 px-4 py-3 rounded-xl border transition-colors ${newLeague.isPrivate\r\n                      ? 'bg-indigo-600 border-indigo-500 text-white'\r\n                      : 'bg-slate-800 border-slate-700 text-slate-400'\r\n                      }`}\r\n                  >\r\n                    ­şöÆ ├ûzel\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setNewLeague({ ...newLeague, isPrivate: false })}\r\n                    className={`flex-1 px-4 py-3 rounded-xl border transition-colors ${!newLeague.isPrivate\r\n                      ? 'bg-indigo-600 border-indigo-500 text-white'\r\n                      : 'bg-slate-800 border-slate-700 text-slate-400'\r\n                      }`}\r\n                  >\r\n                    ­şîÉ Herkese A├ğ─▒k\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Max Members */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                  Maksimum ├£ye: {newLeague.maxMembers}\r\n                </label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"5\"\r\n                  max=\"100\"\r\n                  value={newLeague.maxMembers}\r\n                  onChange={(e) => setNewLeague({ ...newLeague, maxMembers: parseInt(e.target.value) })}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n\r\n              {/* Included Leagues */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                  Dahil Edilecek Ligler\r\n                </label>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {['vsl', '1lig', '2lig', 'cev-cl', 'cev-cup'].map(league => (\r\n                    <button\r\n                      key={league}\r\n                      onClick={() => {\r\n                        const leagues = newLeague.leagues.includes(league)\r\n                          ? newLeague.leagues.filter(l => l !== league)\r\n                          : [...newLeague.leagues, league];\r\n                        setNewLeague({ ...newLeague, leagues });\r\n                      }}\r\n                      className={`px-3 py-1.5 rounded-lg text-sm transition-colors ${newLeague.leagues.includes(league)\r\n                        ? 'bg-indigo-600 text-white'\r\n                        : 'bg-slate-800 text-slate-400'\r\n                        }`}\r\n                    >\r\n                      {league.toUpperCase()}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Dates */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                    Ba┼şlang─▒├ğ\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={newLeague.startDate}\r\n                    onChange={(e) => setNewLeague({ ...newLeague, startDate: e.target.value })}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-indigo-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-400 mb-2\">\r\n                    Biti┼ş\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={newLeague.endDate}\r\n                    onChange={(e) => setNewLeague({ ...newLeague, endDate: e.target.value })}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-indigo-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Submit */}\r\n              <button\r\n                onClick={handleCreateLeague}\r\n                disabled={!newLeague.name.trim() || newLeague.leagues.length === 0}\r\n                className=\"w-full px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-700 disabled:cursor-not-allowed rounded-xl font-medium transition-colors mt-4\"\r\n              >\r\n                Lig Olu┼ştur\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\n// League Card Component\r\nfunction LeagueCard({ league, isOwner = false }: { league: any; isOwner?: boolean }) {\r\n  return (\r\n    <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4 hover:border-slate-700 transition-colors\">\r\n      <div className=\"flex items-start gap-4\">\r\n        <div className=\"w-16 h-16 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-2xl\">\r\n          {isOwner ? '­şææ' : '­şÅå'}\r\n        </div>\r\n\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <h3 className=\"font-bold text-white text-lg\">{league.name}</h3>\r\n            {league.isPrivate && (\r\n              <span className=\"text-xs bg-slate-700 text-slate-300 px-2 py-0.5 rounded\">­şöÆ ├ûzel</span>\r\n            )}\r\n          </div>\r\n\r\n          {league.description && (\r\n            <p className=\"text-sm text-slate-400 mt-1\">{league.description}</p>\r\n          )}\r\n\r\n          <div className=\"flex items-center gap-4 mt-3 text-sm text-slate-500\">\r\n            <span>­şæÑ {league.members?.length || 0}/{league.maxMembers}</span>\r\n            <span>­şôà {new Date(league.endDate).toLocaleDateString('tr-TR')}</span>\r\n            {isOwner && (\r\n              <span className=\"text-indigo-400\">Kod: {league.code}</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <Link\r\n          href={`/custom-leagues/${league.id}`}\r\n          className=\"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg text-sm font-medium transition-colors\"\r\n        >\r\n          G├Âr├╝nt├╝le\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\friends\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TeamAvatar' is defined but never used.","line":6,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":15,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":14},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[772,775],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[772,775],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useFriends } from \"../context/FriendsContext\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport TeamAvatar from \"../components/TeamAvatar\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function FriendsPage() {\r\n  const { user } = useAuth();\r\n  const { \r\n    friends, \r\n    pendingRequests, \r\n    friendActivities,\r\n    isLoading, \r\n    sendFriendRequest, \r\n    acceptFriendRequest, \r\n    rejectFriendRequest,\r\n    removeFriend,\r\n    searchUsers \r\n  } = useFriends();\r\n  \r\n  const [activeTab, setActiveTab] = useState<'friends' | 'requests' | 'search' | 'activity'>('friends');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n\r\n  // Search users\r\n  useEffect(() => {\r\n    const timer = setTimeout(async () => {\r\n      if (searchQuery.length >= 2) {\r\n        setIsSearching(true);\r\n        const results = await searchUsers(searchQuery);\r\n        setSearchResults(results);\r\n        setIsSearching(false);\r\n      } else {\r\n        setSearchResults([]);\r\n      }\r\n    }, 300);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery, searchUsers]);\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-slate-400 mb-4\">Bu sayfay─▒ g├Âr├╝nt├╝lemek i├ğin giri┼ş yapmal─▒s─▒n─▒z.</p>\r\n          <Link href=\"/\" className=\"text-emerald-400 hover:underline\">Giri┼ş Yap</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h1 className=\"text-2xl font-bold text-white\">Arkada┼şlar</h1>\r\n          <p className=\"text-white/70 text-sm mt-1\">\r\n            {friends.length} arkada┼ş ÔÇó {pendingRequests.length} bekleyen istek\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"max-w-4xl mx-auto px-4\">\r\n        <div className=\"flex gap-2 py-4 border-b border-slate-800 overflow-x-auto\">\r\n          {[\r\n            { key: 'friends', label: 'Arkada┼şlar', icon: '­şæÑ', count: friends.length },\r\n            { key: 'requests', label: '─░stekler', icon: '­şô®', count: pendingRequests.length },\r\n            { key: 'search', label: 'Ara', icon: '­şöı' },\r\n            { key: 'activity', label: 'Aktivite', icon: '­şôè' },\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setActiveTab(tab.key as typeof activeTab)}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all whitespace-nowrap ${\r\n                activeTab === tab.key\r\n                  ? 'bg-white/10 text-white'\r\n                  : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n              }`}\r\n            >\r\n              <span>{tab.icon}</span>\r\n              <span>{tab.label}</span>\r\n              {tab.count !== undefined && tab.count > 0 && (\r\n                <span className=\"bg-purple-500 text-white text-xs px-2 py-0.5 rounded-full\">\r\n                  {tab.count}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"py-6\">\r\n          {/* Friends List */}\r\n          {activeTab === 'friends' && (\r\n            <div className=\"space-y-3\">\r\n              {friends.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"text-5xl mb-4\">­şæÑ</div>\r\n                  <p className=\"text-slate-400\">Hen├╝z arkada┼ş─▒n─▒z yok</p>\r\n                  <button\r\n                    onClick={() => setActiveTab('search')}\r\n                    className=\"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm font-medium transition-colors\"\r\n                  >\r\n                    Arkada┼ş Bul\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                friends.map(friend => (\r\n                  <div\r\n                    key={friend.id}\r\n                    className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4 flex items-center gap-4\"\r\n                  >\r\n                    <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold\">\r\n                      {friend.friend?.displayName?.charAt(0) || '?'}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-bold text-white\">{friend.friend?.displayName}</h3>\r\n                      <div className=\"flex items-center gap-2 text-sm text-slate-400\">\r\n                        <span>Lv.{friend.friend?.level || 1}</span>\r\n                        <span>ÔÇó</span>\r\n                        <span>{friend.friend?.totalPoints || 0} puan</span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <Link\r\n                        href={`/profile/${friend.friendId}`}\r\n                        className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm transition-colors\"\r\n                      >\r\n                        Profil\r\n                      </Link>\r\n                      <button\r\n                        onClick={() => removeFriend(friend.id)}\r\n                        className=\"px-3 py-1.5 bg-red-600/20 hover:bg-red-600/40 text-red-400 rounded-lg text-sm transition-colors\"\r\n                      >\r\n                        ├ç─▒kar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Pending Requests */}\r\n          {activeTab === 'requests' && (\r\n            <div className=\"space-y-3\">\r\n              {pendingRequests.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"text-5xl mb-4\">­şô®</div>\r\n                  <p className=\"text-slate-400\">Bekleyen arkada┼şl─▒k iste─şi yok</p>\r\n                </div>\r\n              ) : (\r\n                pendingRequests.map(request => (\r\n                  <div\r\n                    key={request.id}\r\n                    className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4 flex items-center gap-4\"\r\n                  >\r\n                    <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold\">\r\n                      {request.friend?.displayName?.charAt(0) || '?'}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-bold text-white\">{request.friend?.displayName}</h3>\r\n                      <p className=\"text-sm text-slate-400\">Arkada┼şl─▒k iste─şi g├Ânderdi</p>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => acceptFriendRequest(request.id)}\r\n                        className=\"px-4 py-1.5 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-sm font-medium transition-colors\"\r\n                      >\r\n                        Kabul Et\r\n                      </button>\r\n                      <button\r\n                        onClick={() => rejectFriendRequest(request.id)}\r\n                        className=\"px-4 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm transition-colors\"\r\n                      >\r\n                        Reddet\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Search */}\r\n          {activeTab === 'search' && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"relative\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  placeholder=\"Kullan─▒c─▒ ara...\"\r\n                  className=\"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 pl-10 text-white placeholder:text-slate-500 focus:outline-none focus:border-purple-500\"\r\n                />\r\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\">­şöı</span>\r\n              </div>\r\n              \r\n              {isSearching && (\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto\"></div>\r\n                </div>\r\n              )}\r\n              \r\n              {!isSearching && searchResults.length > 0 && (\r\n                <div className=\"space-y-3\">\r\n                  {searchResults.map(user => (\r\n                    <div\r\n                      key={user.id}\r\n                      className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4 flex items-center gap-4\"\r\n                    >\r\n                      <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center text-white font-bold\">\r\n                        {user.displayName?.charAt(0) || '?'}\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-bold text-white\">{user.displayName}</h3>\r\n                        <p className=\"text-sm text-slate-400\">Lv.{user.level || 1}</p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => sendFriendRequest(user.id)}\r\n                        className=\"px-4 py-1.5 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm font-medium transition-colors\"\r\n                      >\r\n                        Arkada┼ş Ekle\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              \r\n              {!isSearching && searchQuery.length >= 2 && searchResults.length === 0 && (\r\n                <div className=\"text-center py-8\">\r\n                  <p className=\"text-slate-400\">Kullan─▒c─▒ bulunamad─▒</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Activity Feed */}\r\n          {activeTab === 'activity' && (\r\n            <div className=\"space-y-3\">\r\n              {friendActivities.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"text-5xl mb-4\">­şôè</div>\r\n                  <p className=\"text-slate-400\">Hen├╝z aktivite yok</p>\r\n                </div>\r\n              ) : (\r\n                friendActivities.map(activity => (\r\n                  <div\r\n                    key={activity.id}\r\n                    className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\"\r\n                  >\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-white font-bold text-sm\">\r\n                        {activity.user?.displayName?.charAt(0) || '?'}\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"text-white\">\r\n                          <span className=\"font-bold\">{activity.user?.displayName}</span>\r\n                          {' '}{activity.description}\r\n                        </p>\r\n                        <p className=\"text-xs text-slate-500 mt-1\">\r\n                          {new Date(activity.createdAt).toLocaleDateString('tr-TR')}\r\n                        </p>\r\n                      </div>\r\n                      <span className=\"text-2xl\">{getActivityIcon(activity.activityType)}</span>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction getActivityIcon(type: string): string {\r\n  switch (type) {\r\n    case 'prediction': return '­şÄ»';\r\n    case 'achievement': return '­şÅå';\r\n    case 'level_up': return 'Ô¼å´©Å';\r\n    case 'badge': return '­şÄû´©Å';\r\n    case 'streak': return '­şöÑ';\r\n    default: return '­şôî';\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\global-error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useAIPredictions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useAdvancedStats.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsLoading' is assigned a value but never used.","line":30,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":30,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useCallback, useEffect, useMemo } from \"react\";\r\nimport { \r\n  TeamDetailedStats, \r\n  UserPredictionStats, \r\n  HeadToHeadStats,\r\n  TeamForm\r\n} from \"../types\";\r\n\r\ninterface TeamStatsInput {\r\n  name: string;\r\n  played: number;\r\n  wins: number;\r\n  points: number;\r\n  setsWon: number;\r\n  setsLost: number;\r\n}\r\n\r\ninterface MatchResult {\r\n  homeTeam: string;\r\n  awayTeam: string;\r\n  homeScore: number;\r\n  awayScore: number;\r\n  date?: string;\r\n}\r\n\r\nexport function useAdvancedStats(teams: TeamStatsInput[], matches: MatchResult[]) {\r\n  const [selectedTeam, setSelectedTeam] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Calculate detailed stats for all teams\r\n  const teamStats = useMemo((): Map<string, TeamDetailedStats> => {\r\n    const stats = new Map<string, TeamDetailedStats>();\r\n    \r\n    teams.forEach(team => {\r\n      const teamMatches = matches.filter(\r\n        m => m.homeTeam === team.name || m.awayTeam === team.name\r\n      );\r\n      \r\n      const homeMatches = teamMatches.filter(m => m.homeTeam === team.name);\r\n      const awayMatches = teamMatches.filter(m => m.awayTeam === team.name);\r\n      \r\n      const homeWins = homeMatches.filter(m => m.homeScore > m.awayScore).length;\r\n      const awayWins = awayMatches.filter(m => m.awayScore > m.homeScore).length;\r\n      \r\n      // Calculate score-specific wins/losses\r\n      const threeZeroWins = teamMatches.filter(m => \r\n        (m.homeTeam === team.name && m.homeScore === 3 && m.awayScore === 0) ||\r\n        (m.awayTeam === team.name && m.awayScore === 3 && m.homeScore === 0)\r\n      ).length;\r\n      \r\n      const threeOneWins = teamMatches.filter(m => \r\n        (m.homeTeam === team.name && m.homeScore === 3 && m.awayScore === 1) ||\r\n        (m.awayTeam === team.name && m.awayScore === 3 && m.homeScore === 1)\r\n      ).length;\r\n      \r\n      const threeTwoWins = teamMatches.filter(m => \r\n        (m.homeTeam === team.name && m.homeScore === 3 && m.awayScore === 2) ||\r\n        (m.awayTeam === team.name && m.awayScore === 3 && m.homeScore === 2)\r\n      ).length;\r\n      \r\n      const threeZeroLosses = teamMatches.filter(m => \r\n        (m.homeTeam === team.name && m.homeScore === 0 && m.awayScore === 3) ||\r\n        (m.awayTeam === team.name && m.awayScore === 0 && m.homeScore === 3)\r\n      ).length;\r\n      \r\n      const threeOneLosses = teamMatches.filter(m => \r\n        (m.homeTeam === team.name && m.homeScore === 1 && m.awayScore === 3) ||\r\n        (m.awayTeam === team.name && m.awayScore === 1 && m.homeScore === 3)\r\n      ).length;\r\n      \r\n      const threeTwoLosses = teamMatches.filter(m => \r\n        (m.homeTeam === team.name && m.homeScore === 2 && m.awayScore === 3) ||\r\n        (m.awayTeam === team.name && m.awayScore === 2 && m.homeScore === 3)\r\n      ).length;\r\n      \r\n      // Calculate last 10 results\r\n      const sortedMatches = [...teamMatches].sort((a, b) => \r\n        new Date(b.date || 0).getTime() - new Date(a.date || 0).getTime()\r\n      );\r\n      \r\n      const last10: ('W' | 'L')[] = sortedMatches.slice(0, 10).map(m => {\r\n        const isHome = m.homeTeam === team.name;\r\n        const won = isHome ? m.homeScore > m.awayScore : m.awayScore > m.homeScore;\r\n        return won ? 'W' : 'L';\r\n      });\r\n      \r\n      // Calculate current streak\r\n      let currentStreak = 0;\r\n      let streakType: 'W' | 'L' = 'W';\r\n      \r\n      for (const result of last10) {\r\n        if (currentStreak === 0) {\r\n          streakType = result;\r\n          currentStreak = 1;\r\n        } else if (result === streakType) {\r\n          currentStreak++;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      \r\n      // ELO rating calculation (simplified)\r\n      const eloRating = 1500 + (team.wins * 30) - ((team.played - team.wins) * 20) + \r\n        (team.setsWon - team.setsLost) * 2;\r\n      \r\n      stats.set(team.name, {\r\n        teamName: team.name,\r\n        league: '',\r\n        season: '',\r\n        played: team.played,\r\n        wins: team.wins,\r\n        losses: team.played - team.wins,\r\n        points: team.points,\r\n        setsWon: team.setsWon,\r\n        setsLost: team.setsLost,\r\n        setRatio: team.setsLost > 0 ? team.setsWon / team.setsLost : team.setsWon,\r\n        avgPointsPerSet: team.setsWon > 0 ? (team.points / team.setsWon) * 25 : 0,\r\n        avgPointsConcededPerSet: team.setsLost > 0 ? (team.points / team.setsLost) * 20 : 0,\r\n        homeRecord: { wins: homeWins, losses: homeMatches.length - homeWins },\r\n        awayRecord: { wins: awayWins, losses: awayMatches.length - awayWins },\r\n        threeZeroWins,\r\n        threeOneWins,\r\n        threeTwoWins,\r\n        threeZeroLosses,\r\n        threeOneLosses,\r\n        threeTwoLosses,\r\n        currentStreak,\r\n        streakType,\r\n        last10,\r\n        eloRating,\r\n        strengthRank: 0, // Will be calculated after\r\n      });\r\n    });\r\n    \r\n    // Calculate strength rank\r\n    const sortedByElo = [...stats.entries()]\r\n      .sort((a, b) => b[1].eloRating - a[1].eloRating);\r\n    \r\n    sortedByElo.forEach(([name, teamStat], index) => {\r\n      teamStat.strengthRank = index + 1;\r\n      stats.set(name, teamStat);\r\n    });\r\n    \r\n    return stats;\r\n  }, [teams, matches]);\r\n\r\n  // Get head-to-head stats between two teams\r\n  const getHeadToHead = useCallback((team1: string, team2: string): HeadToHeadStats => {\r\n    const h2hMatches = matches.filter(\r\n      m => (m.homeTeam === team1 && m.awayTeam === team2) ||\r\n           (m.homeTeam === team2 && m.awayTeam === team1)\r\n    );\r\n    \r\n    let team1Wins = 0;\r\n    let team2Wins = 0;\r\n    let team1Sets = 0;\r\n    let team2Sets = 0;\r\n    \r\n    h2hMatches.forEach(m => {\r\n      const isTeam1Home = m.homeTeam === team1;\r\n      if (isTeam1Home) {\r\n        if (m.homeScore > m.awayScore) team1Wins++;\r\n        else team2Wins++;\r\n        team1Sets += m.homeScore;\r\n        team2Sets += m.awayScore;\r\n      } else {\r\n        if (m.awayScore > m.homeScore) team1Wins++;\r\n        else team2Wins++;\r\n        team1Sets += m.awayScore;\r\n        team2Sets += m.homeScore;\r\n      }\r\n    });\r\n    \r\n    return {\r\n      totalMatches: h2hMatches.length,\r\n      homeWins: team1Wins,\r\n      awayWins: team2Wins,\r\n      homeSetWins: team1Sets,\r\n      awaySetWins: team2Sets,\r\n      lastMeetings: h2hMatches.slice(0, 5).map(m => ({\r\n        date: m.date || '',\r\n        homeTeam: m.homeTeam,\r\n        awayTeam: m.awayTeam,\r\n        score: `${m.homeScore}-${m.awayScore}`,\r\n        venue: '',\r\n        competition: '',\r\n      })),\r\n      averageHomeScore: h2hMatches.length > 0 ? team1Sets / h2hMatches.length : 0,\r\n      averageAwayScore: h2hMatches.length > 0 ? team2Sets / h2hMatches.length : 0,\r\n    };\r\n  }, [matches]);\r\n\r\n  // Get team form\r\n  const getTeamForm = useCallback((teamName: string): TeamForm => {\r\n    const teamData = teamStats.get(teamName);\r\n    \r\n    if (!teamData) {\r\n      return {\r\n        teamName,\r\n        last5Results: [],\r\n        last5Scores: [],\r\n        winRate: 0,\r\n        avgPointsScored: 0,\r\n        avgPointsConceded: 0,\r\n        trend: 'stable',\r\n        strengthRating: 0,\r\n      };\r\n    }\r\n    \r\n    const last5 = teamData.last10.slice(0, 5) as ('W' | 'L')[];\r\n    const recentWins = last5.filter(r => r === 'W').length;\r\n    const previousWins = teamData.last10.slice(5, 10).filter(r => r === 'W').length;\r\n    \r\n    let trend: 'improving' | 'declining' | 'stable' = 'stable';\r\n    if (recentWins > previousWins + 1) trend = 'improving';\r\n    else if (recentWins < previousWins - 1) trend = 'declining';\r\n    \r\n    return {\r\n      teamName,\r\n      last5Results: last5,\r\n      last5Scores: [],\r\n      winRate: teamData.played > 0 ? (teamData.wins / teamData.played) * 100 : 0,\r\n      avgPointsScored: teamData.avgPointsPerSet,\r\n      avgPointsConceded: teamData.avgPointsConcededPerSet,\r\n      trend,\r\n      strengthRating: teamData.eloRating,\r\n    };\r\n  }, [teamStats]);\r\n\r\n  // Get top performers in various categories\r\n  const getTopPerformers = useCallback((category: keyof TeamDetailedStats, count: number = 5) => {\r\n    return [...teamStats.values()]\r\n      .sort((a, b) => {\r\n        const aVal = a[category];\r\n        const bVal = b[category];\r\n        if (typeof aVal === 'number' && typeof bVal === 'number') {\r\n          return bVal - aVal;\r\n        }\r\n        return 0;\r\n      })\r\n      .slice(0, count);\r\n  }, [teamStats]);\r\n\r\n  // Get comparison between teams\r\n  const compareTeams = useCallback((team1: string, team2: string) => {\r\n    const stats1 = teamStats.get(team1);\r\n    const stats2 = teamStats.get(team2);\r\n    \r\n    if (!stats1 || !stats2) return null;\r\n    \r\n    const h2h = getHeadToHead(team1, team2);\r\n    \r\n    return {\r\n      team1: stats1,\r\n      team2: stats2,\r\n      headToHead: h2h,\r\n      comparison: {\r\n        winRate: {\r\n          team1: stats1.played > 0 ? (stats1.wins / stats1.played) * 100 : 0,\r\n          team2: stats2.played > 0 ? (stats2.wins / stats2.played) * 100 : 0,\r\n        },\r\n        setRatio: {\r\n          team1: stats1.setRatio,\r\n          team2: stats2.setRatio,\r\n        },\r\n        elo: {\r\n          team1: stats1.eloRating,\r\n          team2: stats2.eloRating,\r\n        },\r\n        form: {\r\n          team1: stats1.last10.slice(0, 5).filter(r => r === 'W').length,\r\n          team2: stats2.last10.slice(0, 5).filter(r => r === 'W').length,\r\n        },\r\n      },\r\n    };\r\n  }, [teamStats, getHeadToHead]);\r\n\r\n  return {\r\n    teamStats,\r\n    selectedTeam,\r\n    setSelectedTeam,\r\n    getHeadToHead,\r\n    getTeamForm,\r\n    getTopPerformers,\r\n    compareTeams,\r\n    isLoading,\r\n    getTeamDetails: (name: string) => teamStats.get(name),\r\n  };\r\n}\r\n\r\n// Hook for user prediction stats\r\nexport function useUserPredictionStats(userId: string) {\r\n  const [stats, setStats] = useState<UserPredictionStats | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchStats = useCallback(async () => {\r\n    if (!userId) return;\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await fetch(`/api/users/${userId}/prediction-stats`);\r\n      \r\n      if (!response.ok) throw new Error('Failed to fetch prediction stats');\r\n      \r\n      const data = await response.json();\r\n      setStats(data.stats);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, [fetchStats]);\r\n\r\n  return {\r\n    stats,\r\n    isLoading,\r\n    error,\r\n    refetch: fetchStats,\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useLeagueQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useLocalStorage.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isHydrated' is assigned a value but never used.","line":14,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\n/**\r\n * Type-safe localStorage hook with SSR support\r\n */\r\nexport function useLocalStorage<T>(\r\n    key: string,\r\n    initialValue: T\r\n): [T, (value: T | ((prev: T) => T)) => void, () => void] {\r\n    // State to store our value\r\n    const [storedValue, setStoredValue] = useState<T>(initialValue);\r\n    const [isHydrated, setIsHydrated] = useState(false);\r\n\r\n    // Hydrate from localStorage after mount\r\n    useEffect(() => {\r\n        const value = (() => {\r\n            try {\r\n                const item = window.localStorage.getItem(key);\r\n                return item ? JSON.parse(item) : initialValue;\r\n            } catch (error) {\r\n                console.warn(`Error reading localStorage key \"${key}\":`, error);\r\n                return initialValue;\r\n            }\r\n        })();\r\n\r\n        // Defer state updates to avoid \"cascading renders\" warning \r\n        // and ensure the initial render matches the server output.\r\n        Promise.resolve().then(() => {\r\n            setStoredValue(value);\r\n            setIsHydrated(true);\r\n        });\r\n    }, [key, initialValue]);\r\n\r\n    // Return a wrapped version of useState's setter function\r\n    const setValue = useCallback((value: T | ((prev: T) => T)) => {\r\n        try {\r\n            // Allow value to be a function for same API as useState\r\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\r\n            setStoredValue(valueToStore);\r\n\r\n            if (typeof window !== 'undefined') {\r\n                window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n            }\r\n        } catch (error) {\r\n            console.warn(`Error setting localStorage key \"${key}\":`, error);\r\n        }\r\n    }, [key, storedValue]);\r\n\r\n    // Remove from localStorage\r\n    const removeValue = useCallback(() => {\r\n        try {\r\n            setStoredValue(initialValue);\r\n            if (typeof window !== 'undefined') {\r\n                window.localStorage.removeItem(key);\r\n            }\r\n        } catch (error) {\r\n            console.warn(`Error removing localStorage key \"${key}\":`, error);\r\n        }\r\n    }, [key, initialValue]);\r\n\r\n    return [storedValue, setValue, removeValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useMatchSimulation.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'homeTeam' is defined but never used.","line":36,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'awayTeam' is defined but never used.","line":37,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":37,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useCallback, useEffect, useRef } from \"react\";\r\nimport {\r\n  MatchSimulation,\r\n  SimulatedSet,\r\n  SimulatedPoint,\r\n  SimulationMoment\r\n} from \"../types\";\r\n\r\ninterface UseMatchSimulationOptions {\r\n  speed?: number; // Animation speed multiplier\r\n  autoPlay?: boolean;\r\n}\r\n\r\ninterface UseMatchSimulationReturn {\r\n  simulation: MatchSimulation | null;\r\n  isSimulating: boolean;\r\n  isPlaying: boolean;\r\n  currentSet: number;\r\n  currentPoint: number;\r\n  progress: number; // 0-100\r\n  // Actions\r\n  startSimulation: (homeTeam: string, awayTeam: string) => Promise<void>;\r\n  play: () => void;\r\n  pause: () => void;\r\n  reset: () => void;\r\n  skipToEnd: () => void;\r\n  setSpeed: (speed: number) => void;\r\n}\r\n\r\n// Simulate a single set\r\nconst simulateSet = (\r\n  setNumber: number,\r\n  endScore: number,\r\n  homeTeam: string,\r\n  awayTeam: string\r\n): SimulatedSet => {\r\n  const points: SimulatedPoint[] = [];\r\n  let homeScore = 0;\r\n  let awayScore = 0;\r\n  let pointNumber = 0;\r\n\r\n  // Randomly determine which team is slightly favored\r\n  const homeBias = 0.48 + Math.random() * 0.08; // 48-56% for home\r\n\r\n  while (true) {\r\n    pointNumber++;\r\n\r\n    // Determine point type\r\n    const types: Array<'attack' | 'block' | 'ace' | 'error'> = ['attack', 'attack', 'attack', 'block', 'ace', 'error'];\r\n    const type = types[Math.floor(Math.random() * types.length)];\r\n\r\n    // Determine scorer\r\n    const scorer = Math.random() < homeBias ? 'home' : 'away';\r\n\r\n    if (scorer === 'home') {\r\n      homeScore++;\r\n    } else {\r\n      awayScore++;\r\n    }\r\n\r\n    points.push({\r\n      pointNumber,\r\n      homeScore,\r\n      awayScore,\r\n      scorer,\r\n      type,\r\n    });\r\n\r\n    // Check if set is over\r\n    const maxScore = Math.max(homeScore, awayScore);\r\n    const minScore = Math.min(homeScore, awayScore);\r\n\r\n    if (maxScore >= endScore && maxScore - minScore >= 2) {\r\n      break;\r\n    }\r\n\r\n    // Safety limit\r\n    if (pointNumber > 100) break;\r\n  }\r\n\r\n  return {\r\n    setNumber,\r\n    homePoints: homeScore,\r\n    awayPoints: awayScore,\r\n    winner: homeScore > awayScore ? 'home' : 'away',\r\n    pointByPoint: points,\r\n  };\r\n};\r\n\r\nexport function useMatchSimulation(\r\n  options: UseMatchSimulationOptions = {}\r\n): UseMatchSimulationReturn {\r\n  const { speed: initialSpeed = 1, autoPlay = true } = options;\r\n\r\n  const [simulation, setSimulation] = useState<MatchSimulation | null>(null);\r\n  const [isSimulating, setIsSimulating] = useState(false);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentSet, setCurrentSet] = useState(0);\r\n  const [currentPoint, setCurrentPoint] = useState(0);\r\n  const [speed, setSpeedState] = useState(initialSpeed);\r\n\r\n  const animationRef = useRef<NodeJS.Timeout | null>(null);\r\n  const progressRef = useRef(0);\r\n  const [progressState, setProgressState] = useState(0);\r\n\r\n  // Generate a simulated match\r\n  const generateSimulation = useCallback((\r\n    homeTeam: string,\r\n    awayTeam: string\r\n  ): MatchSimulation => {\r\n    const sets: SimulatedSet[] = [];\r\n    let homeSetsWon = 0;\r\n    let awaySetsWon = 0;\r\n    let setNumber = 0;\r\n    const moments: SimulationMoment[] = [];\r\n    let totalDuration = 0;\r\n\r\n    // Simulate sets until one team wins 3\r\n    while (homeSetsWon < 3 && awaySetsWon < 3) {\r\n      setNumber++;\r\n      const isDecidingSet = homeSetsWon === 2 && awaySetsWon === 2;\r\n      const setEndScore = isDecidingSet ? 15 : 25;\r\n\r\n      const set = simulateSet(setNumber, setEndScore, homeTeam, awayTeam);\r\n      sets.push(set);\r\n\r\n      if (set.winner === 'home') {\r\n        homeSetsWon++;\r\n      } else {\r\n        awaySetsWon++;\r\n      }\r\n\r\n      // Add set end moment\r\n      moments.push({\r\n        time: totalDuration + set.pointByPoint.length * 2,\r\n        type: 'set_point',\r\n        description: `${set.winner === 'home' ? homeTeam : awayTeam} ${setNumber}. seti kazand─▒ (${set.homePoints}-${set.awayPoints})`,\r\n      });\r\n\r\n      totalDuration += set.pointByPoint.length * 2;\r\n    }\r\n\r\n    const winner = homeSetsWon === 3 ? homeTeam : awayTeam;\r\n\r\n    // Add match end moment\r\n    moments.push({\r\n      time: totalDuration,\r\n      type: 'match_point',\r\n      description: `${winner} ma├ğ─▒ kazand─▒! (${homeSetsWon}-${awaySetsWon})`,\r\n    });\r\n\r\n    return {\r\n      matchId: `sim-${Date.now()}`,\r\n      homeTeam,\r\n      awayTeam,\r\n      simulatedSets: sets,\r\n      finalScore: `${homeSetsWon}-${awaySetsWon}`,\r\n      winner,\r\n      keyMoments: moments,\r\n      duration: totalDuration,\r\n    };\r\n  }, []);\r\n\r\n  // Calculate progress - use state to avoid accessing ref during render\r\n  const progress = simulation\r\n    ? (progressState / simulation.duration) * 100\r\n    : 0;\r\n\r\n  // Start simulation\r\n  const startSimulation = useCallback(async (\r\n    homeTeam: string,\r\n    awayTeam: string\r\n  ) => {\r\n    setIsSimulating(true);\r\n    setCurrentSet(0);\r\n    setCurrentPoint(0);\r\n    progressRef.current = 0;\r\n    setProgressState(0);\r\n\r\n    // Generate simulation\r\n    const sim = generateSimulation(homeTeam, awayTeam);\r\n    setSimulation(sim);\r\n    setIsSimulating(false);\r\n\r\n    if (autoPlay) {\r\n      setIsPlaying(true);\r\n    }\r\n  }, [generateSimulation, autoPlay]);\r\n\r\n  // Play animation\r\n  const play = useCallback(() => {\r\n    if (!simulation) return;\r\n    setIsPlaying(true);\r\n  }, [simulation]);\r\n\r\n  // Pause animation\r\n  const pause = useCallback(() => {\r\n    setIsPlaying(false);\r\n    if (animationRef.current) {\r\n      clearTimeout(animationRef.current);\r\n      animationRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  // Reset simulation\r\n  const reset = useCallback(() => {\r\n    pause();\r\n    setCurrentSet(0);\r\n    setCurrentPoint(0);\r\n    progressRef.current = 0;\r\n    setProgressState(0);\r\n  }, [pause]);\r\n\r\n  // Skip to end\r\n  const skipToEnd = useCallback(() => {\r\n    if (!simulation) return;\r\n\r\n    pause();\r\n    setCurrentSet(simulation.simulatedSets.length - 1);\r\n    const lastSet = simulation.simulatedSets[simulation.simulatedSets.length - 1];\r\n    setCurrentPoint(lastSet.pointByPoint.length - 1);\r\n    progressRef.current = simulation.duration;\r\n    setProgressState(simulation.duration);\r\n  }, [simulation, pause]);\r\n\r\n  // Set speed\r\n  const setSpeed = useCallback((newSpeed: number) => {\r\n    setSpeedState(Math.max(0.25, Math.min(4, newSpeed)));\r\n  }, []);\r\n\r\n  // Animation loop\r\n  useEffect(() => {\r\n    if (!isPlaying || !simulation) return;\r\n\r\n    const animate = () => {\r\n      progressRef.current += 2 * speed;\r\n      setProgressState(progressRef.current);\r\n\r\n      // Find current set and point based on progress\r\n      let elapsed = 0;\r\n      let foundSet = 0;\r\n      let foundPoint = 0;\r\n\r\n      for (let s = 0; s < simulation.simulatedSets.length; s++) {\r\n        const set = simulation.simulatedSets[s];\r\n        for (let p = 0; p < set.pointByPoint.length; p++) {\r\n          elapsed += 2;\r\n          if (elapsed >= progressRef.current) {\r\n            foundSet = s;\r\n            foundPoint = p;\r\n            break;\r\n          }\r\n        }\r\n        if (elapsed >= progressRef.current) break;\r\n      }\r\n\r\n      setCurrentSet(foundSet);\r\n      setCurrentPoint(foundPoint);\r\n\r\n      // Check if animation is complete\r\n      if (progressRef.current >= simulation.duration) {\r\n        setIsPlaying(false);\r\n        return;\r\n      }\r\n\r\n      animationRef.current = setTimeout(animate, 50 / speed);\r\n    };\r\n\r\n    animationRef.current = setTimeout(animate, 50 / speed);\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        clearTimeout(animationRef.current);\r\n      }\r\n    };\r\n  }, [isPlaying, simulation, speed]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (animationRef.current) {\r\n        clearTimeout(animationRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    simulation,\r\n    isSimulating,\r\n    isPlaying,\r\n    currentSet,\r\n    currentPoint,\r\n    progress,\r\n    startSimulation,\r\n    play,\r\n    pause,\r\n    reset,\r\n    skipToEnd,\r\n    setSpeed,\r\n  };\r\n}\r\n\r\n// Utility to get current state of simulation\r\nexport function getSimulationState(\r\n  simulation: MatchSimulation,\r\n  setIndex: number,\r\n  pointIndex: number\r\n) {\r\n  const currentSetData = simulation.simulatedSets[setIndex];\r\n  const currentPointData = currentSetData?.pointByPoint[pointIndex];\r\n\r\n  let homeSetsWon = 0;\r\n  let awaySetsWon = 0;\r\n\r\n  for (let i = 0; i < setIndex; i++) {\r\n    if (simulation.simulatedSets[i].winner === 'home') {\r\n      homeSetsWon++;\r\n    } else {\r\n      awaySetsWon++;\r\n    }\r\n  }\r\n\r\n  return {\r\n    setScore: { home: homeSetsWon, away: awaySetsWon },\r\n    currentSetScore: currentPointData\r\n      ? { home: currentPointData.homeScore, away: currentPointData.awayScore }\r\n      : { home: 0, away: 0 },\r\n    lastPoint: currentPointData,\r\n    isComplete: setIndex >= simulation.simulatedSets.length - 1 &&\r\n      pointIndex >= currentSetData.pointByPoint.length - 1,\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useModal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\usePerformance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\usePredictions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\usePushNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useSimulationEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useUndoableAction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\hooks\\useUserStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\leaderboard\\LeaderboardClient.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchLeaderboard', 'initialLeaderboard', and 'leaderboard'. Either include them or remove the dependency array.","line":45,"column":8,"nodeType":"ArrayExpression","endLine":45,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchLeaderboard, initialLeaderboard, leaderboard, type]","fix":{"range":[1427,1433],"text":"[fetchLeaderboard, initialLeaderboard, leaderboard, type]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\ninterface LeaderboardEntry {\r\n    rank: number;\r\n    user_id: string;\r\n    display_name: string;\r\n    total_points: number;\r\n    correct_predictions: number;\r\n    total_predictions: number;\r\n    current_streak: number;\r\n    best_streak: number;\r\n    weekly_points: number;\r\n    monthly_points: number;\r\n}\r\n\r\ntype LeaderboardType = 'total' | 'weekly' | 'monthly';\r\n\r\ninterface LeaderboardClientProps {\r\n    initialLeaderboard: LeaderboardEntry[];\r\n    initialUserEntry: LeaderboardEntry | null;\r\n    initialUserRank: number | null;\r\n}\r\n\r\nexport default function LeaderboardClient({\r\n    initialLeaderboard,\r\n    initialUserEntry,\r\n    initialUserRank\r\n}: LeaderboardClientProps) {\r\n    const { user } = useAuth();\r\n    const [loading, setLoading] = useState(false);\r\n    const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>(initialLeaderboard);\r\n    const [userEntry, setUserEntry] = useState<LeaderboardEntry | null>(initialUserEntry);\r\n    const [userRank, setUserRank] = useState<number | null>(initialUserRank);\r\n    const [type, setType] = useState<LeaderboardType>('total');\r\n\r\n    // Only fetch if type changes (initial load is served by SSR)\r\n    useEffect(() => {\r\n        if (type !== 'total' || leaderboard !== initialLeaderboard) {\r\n            fetchLeaderboard();\r\n        }\r\n    }, [type]);\r\n\r\n    async function fetchLeaderboard() {\r\n        try {\r\n            setLoading(true);\r\n            const res = await fetch(`/api/leaderboard?type=${type}&limit=50`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setLeaderboard(data.leaderboard || []);\r\n                setUserEntry(data.userEntry);\r\n                setUserRank(data.userRank);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Leaderboard fetch error:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    const typeLabels: Record<LeaderboardType, string> = {\r\n        total: 'T├╝m Zamanlar',\r\n        weekly: 'Bu Hafta',\r\n        monthly: 'Bu Ay'\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-2 sm:p-4 font-sans\">\r\n            <div className=\"max-w-4xl mx-auto space-y-4\">\r\n                <div className=\"flex flex-col gap-1 px-1\">\r\n                    <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">S─▒ralama Tablosu</h1>\r\n                    <p className=\"text-[10px] text-slate-400 hidden sm:block\">En iyi tahmin uzmanlar─▒</p>\r\n                </div>\r\n\r\n                {/* Type Selector */}\r\n                <div className=\"flex gap-2 p-1 bg-slate-900 rounded-xl border border-slate-800\">\r\n                    {(['total', 'weekly', 'monthly'] as LeaderboardType[]).map((t) => (\r\n                        <button\r\n                            key={t}\r\n                            onClick={() => setType(t)}\r\n                            className={`flex-1 px-4 py-2 rounded-lg text-sm font-bold transition-all ${type === t\r\n                                ? 'bg-emerald-700 text-white shadow-lg'\r\n                                : 'text-slate-400 hover:text-white hover:bg-slate-800'\r\n                                }`}\r\n                        >\r\n                            {typeLabels[t]}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* User's Position (if not in top 50) */}\r\n                {userEntry && userRank && userRank > 50 && (\r\n                    <div className=\"bg-gradient-to-r from-emerald-900/30 to-teal-900/30 rounded-xl border border-emerald-600/30 p-4\">\r\n                        <div className=\"text-xs text-emerald-400 mb-2\">Senin S─▒ran</div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center font-bold text-white\">\r\n                                    #{userRank}\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"font-bold text-white\">{userEntry.display_name || 'Anonim'}</div>\r\n                                    <div className=\"text-xs text-slate-400\">\r\n                                        {userEntry.correct_predictions}/{userEntry.total_predictions} do─şru\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"text-2xl font-bold text-emerald-400\">\r\n                                {type === 'weekly' ? userEntry.weekly_points :\r\n                                    type === 'monthly' ? userEntry.monthly_points :\r\n                                        userEntry.total_points}\r\n                                <span className=\"text-xs ml-1\">P</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Leaderboard Table */}\r\n                <div className=\"bg-slate-900 rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative\">\r\n                    {loading && (\r\n                        <div className=\"absolute inset-0 bg-slate-950/50 backdrop-blur-sm z-10 flex items-center justify-center\">\r\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500\"></div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {leaderboard.length === 0 && !loading ? (\r\n                        <div className=\"p-12 text-center text-slate-500\">\r\n                            <div className=\"text-4xl mb-3\">­şİ┤</div>\r\n                            Hen├╝z s─▒ralama verisi yok\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"divide-y divide-slate-800\">\r\n                            {leaderboard.map((entry) => {\r\n                                const isCurrentUser = user?.id === entry.user_id;\r\n                                const points = type === 'weekly' ? entry.weekly_points :\r\n                                    type === 'monthly' ? entry.monthly_points :\r\n                                        entry.total_points;\r\n\r\n                                return (\r\n                                    <div\r\n                                        key={entry.user_id}\r\n                                        className={`flex items-center justify-between p-3 sm:p-4 transition-colors ${isCurrentUser ? 'bg-emerald-900/20' : 'hover:bg-slate-800/50'\r\n                                            }`}\r\n                                    >\r\n                                        <div className=\"flex items-center gap-3 sm:gap-4\">\r\n                                            {/* Rank */}\r\n                                            <div className={`w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center font-bold text-sm ${entry.rank === 1 ? 'bg-gradient-to-br from-amber-400 to-orange-500 text-white shadow-lg shadow-amber-500/30' :\r\n                                                entry.rank === 2 ? 'bg-gradient-to-br from-slate-300 to-slate-400 text-slate-800' :\r\n                                                    entry.rank === 3 ? 'bg-gradient-to-br from-amber-600 to-amber-700 text-white' :\r\n                                                        'bg-slate-800 text-slate-500'\r\n                                                }`}>\r\n                                                {entry.rank === 1 ? '­şææ' : entry.rank}\r\n                                            </div>\r\n\r\n                                            {/* Avatar Fallback / Decoration */}\r\n                                            <div className=\"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-[10px] text-slate-400 font-bold border border-slate-700\">\r\n                                                {(entry.display_name || 'A').slice(0, 1).toUpperCase()}\r\n                                            </div>\r\n\r\n                                            {/* Name & Stats */}\r\n                                            <div>\r\n                                                <div className={`font-bold flex items-center gap-2 ${isCurrentUser ? 'text-emerald-400' : 'text-white'}`}>\r\n                                                    <span className=\"truncate max-w-[120px] sm:max-w-none\">{entry.display_name || 'Anonim'}</span>\r\n                                                    {isCurrentUser && <span className=\"text-[9px] px-1.5 py-0.5 bg-emerald-500/20 text-emerald-400 rounded uppercase tracking-wider\">Sen</span>}\r\n                                                </div>\r\n                                                <div className=\"text-[10px] sm:text-xs text-slate-500 flex gap-2\">\r\n                                                    <span>Ô£ô {entry.correct_predictions} Do─şru</span>\r\n                                                    <span>­şöÑ {entry.best_streak} Seri</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Points */}\r\n                                        <div className={`text-lg sm:text-xl font-bold ${entry.rank <= 3 ? 'text-amber-400' : 'text-slate-300'\r\n                                            }`}>\r\n                                            {points}\r\n                                            <span className=\"text-xs text-slate-500 ml-1\">P</span>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Stats Info */}\r\n                <div className=\"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50\">\r\n                    <h4 className=\"text-xs font-bold text-slate-500 uppercase mb-3 text-center tracking-widest\">Sistem Bilgisi</h4>\r\n                    <div className=\"flex flex-wrap gap-x-8 gap-y-3 text-[10px] text-slate-500 justify-center\">\r\n                        <div className=\"flex items-center gap-1.5\">\r\n                            <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\"></span>\r\n                            <span>Do─şru Tahmin: +10 Puan</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1.5\">\r\n                            <span className=\"w-1.5 h-1.5 rounded-full bg-amber-500\"></span>\r\n                            <span>Seri Bonusu: Her 3 ma├ğta +5 Puan</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1.5\">\r\n                            <span className=\"w-1.5 h-1.5 rounded-full bg-blue-500\"></span>\r\n                            <span>S─▒ralama her 15 dakikada bir g├╝ncellenir</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\leaderboard\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\leaderboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":13,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerSupabaseClient } from \"../utils/supabase-server\";\r\nimport LeaderboardClient from \"./LeaderboardClient\";\r\n\r\nexport const metadata = {\r\n    title: \"S─▒ralama Tablosu | VolleySimulator\",\r\n    description: \"VolleySimulator s─▒ralama tablosu ile en iyi tahmincileri g├Âr├╝n.\",\r\n};\r\n\r\nexport default async function LeaderboardPage() {\r\n    const supabase = await createServerSupabaseClient();\r\n\r\n    // Fetch initial total leaderboard\r\n    const { data: leaderboardData, error } = await supabase\r\n        .from('leaderboard')\r\n        .select('*')\r\n        .order('total_points', { ascending: false })\r\n        .limit(50);\r\n\r\n    const rankedData = leaderboardData?.map((entry, index) => ({\r\n        ...entry,\r\n        rank: index + 1\r\n    })) || [];\r\n\r\n    // Get current user details\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    let userEntry = null;\r\n    let userRank = null;\r\n\r\n    if (user) {\r\n        // Find user rank\r\n        const { data: allData } = await supabase\r\n            .from('leaderboard')\r\n            .select('user_id')\r\n            .order('total_points', { ascending: false });\r\n\r\n        if (allData) {\r\n            const userIndex = allData.findIndex(e => e.user_id === user.id);\r\n            if (userIndex !== -1) {\r\n                userRank = userIndex + 1;\r\n                userEntry = rankedData.find(e => e.user_id === user.id) || null;\r\n\r\n                if (!userEntry) {\r\n                    const { data: userData } = await supabase\r\n                        .from('leaderboard')\r\n                        .select('*')\r\n                        .eq('user_id', user.id)\r\n                        .single();\r\n\r\n                    if (userData) {\r\n                        userEntry = { ...userData, rank: userRank };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <LeaderboardClient\r\n            initialLeaderboard={rankedData}\r\n            initialUserEntry={userEntry}\r\n            initialUserRank={userRank}\r\n        />\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\ligler\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\ligler\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\live\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SetScore' is defined but never used.","line":6,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":7,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":24,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":14},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'currentMatch', 'subscribeToMatch', and 'unsubscribeFromMatch'. Either include them or remove the dependency array.","line":39,"column":6,"nodeType":"ArrayExpression","endLine":39,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [currentMatch, currentMatch.id, subscribeToMatch, unsubscribeFromMatch]","fix":{"range":[992,1010],"text":"[currentMatch, currentMatch.id, subscribeToMatch, unsubscribeFromMatch]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useLiveMatch } from \"../context/LiveMatchContext\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { LiveMatch, SetScore } from \"../types\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function LivePage() {\r\n  const { user } = useAuth();\r\n  const { \r\n    liveMatches, \r\n    currentMatch,\r\n    comments,\r\n    chatMessages,\r\n    isConnected,\r\n    selectMatch,\r\n    addComment,\r\n    likeComment,\r\n    sendChatMessage,\r\n    subscribeToMatch,\r\n    unsubscribeFromMatch,\r\n    refreshLiveMatches,\r\n    isLoading\r\n  } = useLiveMatch();\r\n  \r\n  const [newComment, setNewComment] = useState('');\r\n  const [newChatMessage, setNewChatMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState<'matches' | 'chat' | 'comments'>('matches');\r\n\r\n  useEffect(() => {\r\n    if (currentMatch) {\r\n      subscribeToMatch(currentMatch.id);\r\n    }\r\n    \r\n    return () => {\r\n      unsubscribeFromMatch();\r\n    };\r\n  }, [currentMatch?.id]);\r\n\r\n  const handleSendComment = async () => {\r\n    if (!currentMatch || !newComment.trim()) return;\r\n    \r\n    await addComment(currentMatch.id, newComment.trim());\r\n    setNewComment('');\r\n  };\r\n\r\n  const handleSendChat = async () => {\r\n    if (!currentMatch || !newChatMessage.trim()) return;\r\n    \r\n    await sendChatMessage(currentMatch.id, newChatMessage.trim());\r\n    setNewChatMessage('');\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-red-600 to-orange-600 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                <span className=\"animate-pulse\">­şö┤</span> Canl─▒ Ma├ğlar\r\n              </h1>\r\n              <p className=\"text-white/70 text-sm mt-1\">\r\n                {liveMatches.filter(m => m.status === 'live').length} canl─▒ ma├ğ\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={refreshLiveMatches}\r\n              className=\"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl text-sm font-medium transition-colors\"\r\n            >\r\n              ­şöä Yenile\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 py-6\">\r\n        {/* Live Matches Grid */}\r\n        {!currentMatch ? (\r\n          <div className=\"space-y-4\">\r\n            {liveMatches.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"text-5xl mb-4\">­şô║</div>\r\n                <p className=\"text-slate-400\">┼Şu anda canl─▒ ma├ğ bulunmuyor</p>\r\n                <p className=\"text-sm text-slate-500 mt-2\">\r\n                  Yakla┼şan ma├ğlar i├ğin tahminlerinizi yapmay─▒ unutmay─▒n!\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid gap-4\">\r\n                {liveMatches.map(match => (\r\n                  <LiveMatchCard \r\n                    key={match.id} \r\n                    match={match} \r\n                    onClick={() => selectMatch(match.id)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          // Match Detail View\r\n          <div className=\"space-y-4\">\r\n            {/* Back Button */}\r\n            <button\r\n              onClick={() => selectMatch('')}\r\n              className=\"flex items-center gap-2 text-slate-400 hover:text-white transition-colors\"\r\n            >\r\n              ÔåÉ Geri\r\n            </button>\r\n\r\n            {/* Match Score Board */}\r\n            <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-2xl p-6\">\r\n              {/* Connection Status */}\r\n              <div className=\"flex items-center justify-center gap-2 mb-4\">\r\n                <span className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`} />\r\n                <span className=\"text-xs text-slate-500\">\r\n                  {isConnected ? 'Canl─▒ Ba─şlant─▒' : 'Ba─şlant─▒ Bekleniyor...'}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Teams and Score */}\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex-1 text-center\">\r\n                  <div className=\"w-20 h-20 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-3xl mb-3\">\r\n                    ­şÅÉ\r\n                  </div>\r\n                  <h3 className=\"font-bold text-white text-lg\">{currentMatch.homeTeam}</h3>\r\n                </div>\r\n\r\n                <div className=\"px-8 text-center\">\r\n                  <div className=\"text-5xl font-black text-white\">\r\n                    {currentMatch.homeSetScore} - {currentMatch.awaySetScore}\r\n                  </div>\r\n                  <div className=\"text-sm text-slate-400 mt-2\">Set Skoru</div>\r\n                  \r\n                  {currentMatch.status === 'live' && (\r\n                    <div className=\"mt-4 bg-red-500/20 border border-red-500/30 rounded-lg px-4 py-2\">\r\n                      <div className=\"text-2xl font-bold text-white\">\r\n                        {currentMatch.currentSetHomePoints} - {currentMatch.currentSetAwayPoints}\r\n                      </div>\r\n                      <div className=\"text-xs text-red-400\">{currentMatch.currentSet}. Set</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex-1 text-center\">\r\n                  <div className=\"w-20 h-20 mx-auto bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center text-3xl mb-3\">\r\n                    ­şÅÉ\r\n                  </div>\r\n                  <h3 className=\"font-bold text-white text-lg\">{currentMatch.awayTeam}</h3>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Set Scores */}\r\n              {currentMatch.setScores.length > 0 && (\r\n                <div className=\"mt-6 flex justify-center gap-4\">\r\n                  {currentMatch.setScores.map((set, index) => (\r\n                    <div \r\n                      key={index}\r\n                      className={`px-4 py-2 rounded-lg text-center ${\r\n                        set.winner === 'home' \r\n                          ? 'bg-blue-500/20 border border-blue-500/30' \r\n                          : 'bg-orange-500/20 border border-orange-500/30'\r\n                      }`}\r\n                    >\r\n                      <div className=\"text-xs text-slate-400\">{index + 1}. Set</div>\r\n                      <div className=\"font-bold text-white\">{set.homePoints}-{set.awayPoints}</div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-2 border-b border-slate-800 pb-4\">\r\n              {[\r\n                { key: 'chat', label: 'Canl─▒ Sohbet', icon: '­şÆ¼' },\r\n                { key: 'comments', label: 'Yorumlar', icon: '­şôØ' },\r\n              ].map(tab => (\r\n                <button\r\n                  key={tab.key}\r\n                  onClick={() => setActiveTab(tab.key as typeof activeTab)}\r\n                  className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${\r\n                    activeTab === tab.key\r\n                      ? 'bg-white/10 text-white'\r\n                      : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n                  }`}\r\n                >\r\n                  <span>{tab.icon}</span>\r\n                  <span>{tab.label}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Chat */}\r\n            {activeTab === 'chat' && (\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl\">\r\n                <div className=\"h-64 overflow-y-auto p-4 space-y-3\">\r\n                  {chatMessages.length === 0 ? (\r\n                    <div className=\"text-center text-slate-500 py-8\">\r\n                      Hen├╝z mesaj yok. ─░lk mesaj─▒ sen yaz!\r\n                    </div>\r\n                  ) : (\r\n                    chatMessages.map(msg => (\r\n                      <div key={msg.id} className=\"flex items-start gap-3\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold\">\r\n                          {msg.user?.displayName?.charAt(0) || '?'}\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className=\"font-bold text-white text-sm\">\r\n                              {msg.user?.displayName}\r\n                            </span>\r\n                            <span className=\"text-xs text-slate-500\">\r\n                              {new Date(msg.timestamp).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-slate-300 text-sm\">{msg.message}</p>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n\r\n                {user && (\r\n                  <div className=\"border-t border-slate-800 p-4\">\r\n                    <div className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newChatMessage}\r\n                        onChange={(e) => setNewChatMessage(e.target.value)}\r\n                        onKeyPress={(e) => e.key === 'Enter' && handleSendChat()}\r\n                        placeholder=\"Mesaj yaz...\"\r\n                        className=\"flex-1 bg-slate-800 border border-slate-700 rounded-xl px-4 py-2 text-white placeholder:text-slate-500 focus:outline-none focus:border-indigo-500\"\r\n                      />\r\n                      <button\r\n                        onClick={handleSendChat}\r\n                        className=\"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl font-medium transition-colors\"\r\n                      >\r\n                        G├Ânder\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Comments */}\r\n            {activeTab === 'comments' && (\r\n              <div className=\"space-y-4\">\r\n                {user && (\r\n                  <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\">\r\n                    <textarea\r\n                      value={newComment}\r\n                      onChange={(e) => setNewComment(e.target.value)}\r\n                      placeholder=\"Ma├ğ hakk─▒nda yorumunuzu yaz─▒n...\"\r\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:border-indigo-500 resize-none h-20\"\r\n                    />\r\n                    <div className=\"flex justify-end mt-2\">\r\n                      <button\r\n                        onClick={handleSendComment}\r\n                        className=\"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl text-sm font-medium transition-colors\"\r\n                      >\r\n                        Yorum Yap\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"space-y-3\">\r\n                  {comments.length === 0 ? (\r\n                    <div className=\"text-center py-8 text-slate-500\">\r\n                      Hen├╝z yorum yok\r\n                    </div>\r\n                  ) : (\r\n                    comments.map(comment => (\r\n                      <div \r\n                        key={comment.id}\r\n                        className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\"\r\n                      >\r\n                        <div className=\"flex items-start gap-3\">\r\n                          <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center text-white font-bold\">\r\n                            {comment.user?.displayName?.charAt(0) || '?'}\r\n                          </div>\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"font-bold text-white\">{comment.user?.displayName}</span>\r\n                              <span className=\"text-xs text-slate-500\">\r\n                                {new Date(comment.createdAt).toLocaleString('tr-TR')}\r\n                              </span>\r\n                            </div>\r\n                            <p className=\"text-slate-300 mt-1\">{comment.message}</p>\r\n                            <button\r\n                              onClick={() => likeComment(comment.id)}\r\n                              className=\"flex items-center gap-1 text-sm text-slate-500 hover:text-red-400 mt-2 transition-colors\"\r\n                            >\r\n                              ÔØñ´©Å {comment.likes}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\n// Live Match Card Component\r\nfunction LiveMatchCard({ match, onClick }: { match: LiveMatch; onClick: () => void }) {\r\n  const isLive = match.status === 'live';\r\n  \r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`w-full bg-slate-900/50 border rounded-xl p-4 text-left transition-all hover:border-slate-600 ${\r\n        isLive ? 'border-red-500/50' : 'border-slate-800'\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4 flex-1\">\r\n          {/* Home Team */}\r\n          <div className=\"flex-1 text-right\">\r\n            <span className=\"font-bold text-white\">{match.homeTeam}</span>\r\n          </div>\r\n\r\n          {/* Score */}\r\n          <div className=\"text-center px-4\">\r\n            {isLive ? (\r\n              <div>\r\n                <div className=\"flex items-center gap-2 justify-center\">\r\n                  <span className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\" />\r\n                  <span className=\"text-xs text-red-400 font-medium\">CANLI</span>\r\n                </div>\r\n                <div className=\"text-2xl font-black text-white mt-1\">\r\n                  {match.homeSetScore} - {match.awaySetScore}\r\n                </div>\r\n                <div className=\"text-xs text-slate-400\">\r\n                  {match.currentSetHomePoints}-{match.currentSetAwayPoints} ({match.currentSet}. Set)\r\n                </div>\r\n              </div>\r\n            ) : match.status === 'finished' ? (\r\n              <div>\r\n                <span className=\"text-xs text-slate-500\">Bitti</span>\r\n                <div className=\"text-2xl font-black text-white mt-1\">\r\n                  {match.homeSetScore} - {match.awaySetScore}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <span className=\"text-xs text-slate-500\">\r\n                  {new Date(match.startTime).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })}\r\n                </span>\r\n                <div className=\"text-lg font-bold text-slate-400 mt-1\">vs</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Away Team */}\r\n          <div className=\"flex-1 text-left\">\r\n            <span className=\"font-bold text-white\">{match.awayTeam}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <span className=\"text-slate-400 ml-4\">ÔåÆ</span>\r\n      </div>\r\n\r\n      <div className=\"mt-3 text-xs text-slate-500 text-center\">\r\n        {match.league} {match.venue && `ÔÇó ${match.venue}`}\r\n      </div>\r\n    </button>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\login\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\notifications\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":21,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { useNotifications } from \"../context/NotificationsContext\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { Notification, NotificationType } from \"../types\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function NotificationsPage() {\r\n  const { user } = useAuth();\r\n  const { \r\n    notifications, \r\n    unreadCount,\r\n    preferences,\r\n    markAsRead, \r\n    markAllAsRead,\r\n    deleteNotification,\r\n    clearAll,\r\n    updatePreferences,\r\n    requestPushPermission,\r\n    isLoading \r\n  } = useNotifications();\r\n  \r\n  const [activeTab, setActiveTab] = useState<'all' | 'unread' | 'settings'>('all');\r\n  const [filter, setFilter] = useState<NotificationType | 'all'>('all');\r\n\r\n  // Filter notifications\r\n  const filteredNotifications = useMemo(() => {\r\n    let filtered = notifications;\r\n    \r\n    if (activeTab === 'unread') {\r\n      filtered = filtered.filter(n => !n.isRead);\r\n    }\r\n    \r\n    if (filter !== 'all') {\r\n      filtered = filtered.filter(n => n.type === filter);\r\n    }\r\n    \r\n    return filtered;\r\n  }, [notifications, activeTab, filter]);\r\n\r\n  // Group notifications by date\r\n  const groupedNotifications = useMemo(() => {\r\n    const groups: Record<string, Notification[]> = {};\r\n    \r\n    filteredNotifications.forEach(notification => {\r\n      const date = new Date(notification.createdAt).toLocaleDateString('tr-TR');\r\n      if (!groups[date]) {\r\n        groups[date] = [];\r\n      }\r\n      groups[date].push(notification);\r\n    });\r\n    \r\n    return groups;\r\n  }, [filteredNotifications]);\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-slate-400 mb-4\">Bu sayfay─▒ g├Âr├╝nt├╝lemek i├ğin giri┼ş yapmal─▒s─▒n─▒z.</p>\r\n          <Link href=\"/\" className=\"text-emerald-400 hover:underline\">Giri┼ş Yap</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-cyan-600 to-blue-600 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-white\">Bildirimler</h1>\r\n              <p className=\"text-white/70 text-sm mt-1\">\r\n                {unreadCount > 0 ? `${unreadCount} okunmam─▒┼ş bildirim` : 'T├╝m bildirimler okundu'}\r\n              </p>\r\n            </div>\r\n            {unreadCount > 0 && (\r\n              <button\r\n                onClick={markAllAsRead}\r\n                className=\"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl text-sm font-medium transition-colors\"\r\n              >\r\n                T├╝m├╝n├╝ Okundu ─░┼şaretle\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"max-w-4xl mx-auto px-4\">\r\n        <div className=\"flex gap-2 py-4 border-b border-slate-800\">\r\n          {[\r\n            { key: 'all', label: 'T├╝m├╝', icon: '­şô¼', count: notifications.length },\r\n            { key: 'unread', label: 'Okunmam─▒┼ş', icon: '­şöö', count: unreadCount },\r\n            { key: 'settings', label: 'Ayarlar', icon: 'ÔÜÖ´©Å' },\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setActiveTab(tab.key as typeof activeTab)}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${\r\n                activeTab === tab.key\r\n                  ? 'bg-white/10 text-white'\r\n                  : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n              }`}\r\n            >\r\n              <span>{tab.icon}</span>\r\n              <span>{tab.label}</span>\r\n              {tab.count !== undefined && tab.count > 0 && (\r\n                <span className=\"bg-cyan-500 text-white text-xs px-2 py-0.5 rounded-full\">\r\n                  {tab.count}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"py-6\">\r\n          {/* Notification List */}\r\n          {(activeTab === 'all' || activeTab === 'unread') && (\r\n            <div className=\"space-y-6\">\r\n              {/* Filter */}\r\n              <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n                {[\r\n                  { key: 'all', label: 'T├╝m├╝' },\r\n                  { key: 'match_reminder', label: 'Ma├ğ Hat─▒rlatma' },\r\n                  { key: 'match_result', label: 'Sonu├ğlar' },\r\n                  { key: 'friend_request', label: 'Arkada┼şl─▒k' },\r\n                  { key: 'achievement', label: 'Ba┼şar─▒mlar' },\r\n                  { key: 'leaderboard_change', label: 'S─▒ralama' },\r\n                ].map(f => (\r\n                  <button\r\n                    key={f.key}\r\n                    onClick={() => setFilter(f.key as typeof filter)}\r\n                    className={`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${\r\n                      filter === f.key\r\n                        ? 'bg-cyan-600 text-white'\r\n                        : 'bg-slate-800 text-slate-400 hover:text-white'\r\n                    }`}\r\n                  >\r\n                    {f.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Notifications */}\r\n              {Object.keys(groupedNotifications).length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"text-5xl mb-4\">­şöö</div>\r\n                  <p className=\"text-slate-400\">Bildirim yok</p>\r\n                </div>\r\n              ) : (\r\n                Object.entries(groupedNotifications).map(([date, notifs]) => (\r\n                  <div key={date}>\r\n                    <h3 className=\"text-sm font-medium text-slate-500 mb-3\">{date}</h3>\r\n                    <div className=\"space-y-2\">\r\n                      {notifs.map(notification => (\r\n                        <NotificationItem\r\n                          key={notification.id}\r\n                          notification={notification}\r\n                          onRead={() => markAsRead(notification.id)}\r\n                          onDelete={() => deleteNotification(notification.id)}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n\r\n              {notifications.length > 0 && (\r\n                <div className=\"text-center pt-4\">\r\n                  <button\r\n                    onClick={clearAll}\r\n                    className=\"text-sm text-slate-500 hover:text-red-400 transition-colors\"\r\n                  >\r\n                    T├╝m Bildirimleri Temizle\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Settings */}\r\n          {activeTab === 'settings' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Push Notifications */}\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"font-bold text-white\">Push Bildirimleri</h3>\r\n                    <p className=\"text-sm text-slate-400 mt-1\">\r\n                      Taray─▒c─▒ bildirimleri al─▒n\r\n                    </p>\r\n                  </div>\r\n                  {preferences.pushEnabled ? (\r\n                    <span className=\"text-emerald-400 text-sm\">Ô£ô Aktif</span>\r\n                  ) : (\r\n                    <button\r\n                      onClick={requestPushPermission}\r\n                      className=\"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 rounded-lg text-sm font-medium transition-colors\"\r\n                    >\r\n                      Etkinle┼ştir\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Notification Types */}\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden\">\r\n                <div className=\"p-4 border-b border-slate-800\">\r\n                  <h3 className=\"font-bold text-white\">Bildirim T├╝rleri</h3>\r\n                </div>\r\n                \r\n                <div className=\"divide-y divide-slate-800\">\r\n                  {[\r\n                    { key: 'matchReminders', label: 'Ma├ğ Hat─▒rlatmalar─▒', icon: 'ÔÅ░', desc: 'Tahmin edilmemi┼ş ma├ğlar i├ğin hat─▒rlatma' },\r\n                    { key: 'matchResults', label: 'Ma├ğ Sonu├ğlar─▒', icon: 'ÔÜ¢', desc: 'Tahmin edilen ma├ğlar─▒n sonu├ğlar─▒' },\r\n                    { key: 'friendRequests', label: 'Arkada┼şl─▒k ─░stekleri', icon: '­şæÑ', desc: 'Yeni arkada┼şl─▒k istekleri' },\r\n                    { key: 'friendActivity', label: 'Arkada┼ş Aktiviteleri', icon: '­şôè', desc: 'Arkada┼şlar─▒n tahminleri ve ba┼şar─▒mlar─▒' },\r\n                    { key: 'achievements', label: 'Ba┼şar─▒mlar', icon: '­şÅå', desc: 'Yeni rozetler ve ba┼şar─▒mlar' },\r\n                    { key: 'leaderboardChanges', label: 'S─▒ralama De─şi┼şiklikleri', icon: '­şôê', desc: 'Liderlik tablosu g├╝ncellemeleri' },\r\n                    { key: 'dailyQuests', label: 'G├╝nl├╝k G├Ârevler', icon: '­şôï', desc: 'G├╝nl├╝k g├Ârev hat─▒rlatmalar─▒' },\r\n                    { key: 'weeklyDigest', label: 'Haftal─▒k ├ûzet', icon: '­şô░', desc: 'Haftal─▒k performans ├Âzeti' },\r\n                  ].map(setting => (\r\n                    <div key={setting.key} className=\"flex items-center justify-between p-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-2xl\">{setting.icon}</span>\r\n                        <div>\r\n                          <h4 className=\"font-medium text-white\">{setting.label}</h4>\r\n                          <p className=\"text-xs text-slate-500\">{setting.desc}</p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => updatePreferences({ \r\n                          [setting.key]: !preferences[setting.key as keyof typeof preferences]\r\n                        })}\r\n                        className={`relative w-12 h-6 rounded-full transition-colors ${\r\n                          preferences[setting.key as keyof typeof preferences]\r\n                            ? 'bg-cyan-600'\r\n                            : 'bg-slate-700'\r\n                        }`}\r\n                      >\r\n                        <span \r\n                          className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${\r\n                            preferences[setting.key as keyof typeof preferences]\r\n                              ? 'left-7'\r\n                              : 'left-1'\r\n                          }`}\r\n                        />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quiet Hours */}\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n                <h3 className=\"font-bold text-white mb-4\">Sessiz Saatler</h3>\r\n                <p className=\"text-sm text-slate-400 mb-4\">\r\n                  Bu saatler aras─▒nda bildirim almay─▒n\r\n                </p>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-xs text-slate-500 mb-2\">Ba┼şlang─▒├ğ</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      value={preferences.quietHoursStart || '23:00'}\r\n                      onChange={(e) => updatePreferences({ quietHoursStart: e.target.value })}\r\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-xs text-slate-500 mb-2\">Biti┼ş</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      value={preferences.quietHoursEnd || '08:00'}\r\n                      onChange={(e) => updatePreferences({ quietHoursEnd: e.target.value })}\r\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email Notifications */}\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"font-bold text-white\">E-posta Bildirimleri</h3>\r\n                    <p className=\"text-sm text-slate-400 mt-1\">\r\n                      ├ûnemli g├╝ncellemeler i├ğin e-posta al─▒n\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => updatePreferences({ emailEnabled: !preferences.emailEnabled })}\r\n                    className={`relative w-12 h-6 rounded-full transition-colors ${\r\n                      preferences.emailEnabled ? 'bg-cyan-600' : 'bg-slate-700'\r\n                    }`}\r\n                  >\r\n                    <span \r\n                      className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${\r\n                        preferences.emailEnabled ? 'left-7' : 'left-1'\r\n                      }`}\r\n                    />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\n// Notification Item Component\r\nfunction NotificationItem({ \r\n  notification, \r\n  onRead, \r\n  onDelete \r\n}: { \r\n  notification: Notification; \r\n  onRead: () => void;\r\n  onDelete: () => void;\r\n}) {\r\n  const icon = getNotificationIcon(notification.type);\r\n  \r\n  return (\r\n    <div \r\n      className={`bg-slate-900/50 border rounded-xl p-4 transition-all ${\r\n        notification.isRead \r\n          ? 'border-slate-800 opacity-70' \r\n          : 'border-cyan-500/30 bg-cyan-500/5'\r\n      }`}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <div className=\"text-2xl\">{icon}</div>\r\n        <div className=\"flex-1\">\r\n          <h4 className={`font-medium ${notification.isRead ? 'text-slate-300' : 'text-white'}`}>\r\n            {notification.title}\r\n          </h4>\r\n          <p className=\"text-sm text-slate-400 mt-1\">{notification.message}</p>\r\n          <div className=\"flex items-center gap-4 mt-2\">\r\n            <span className=\"text-xs text-slate-500\">\r\n              {new Date(notification.createdAt).toLocaleTimeString('tr-TR', { \r\n                hour: '2-digit', \r\n                minute: '2-digit' \r\n              })}\r\n            </span>\r\n            {notification.link && (\r\n              <Link \r\n                href={notification.link}\r\n                className=\"text-xs text-cyan-400 hover:underline\"\r\n              >\r\n                G├Âr├╝nt├╝le ÔåÆ\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          {!notification.isRead && (\r\n            <button\r\n              onClick={onRead}\r\n              className=\"p-1 text-slate-400 hover:text-white transition-colors\"\r\n              title=\"Okundu i┼şaretle\"\r\n            >\r\n              Ô£ô\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={onDelete}\r\n            className=\"p-1 text-slate-400 hover:text-red-400 transition-colors\"\r\n            title=\"Sil\"\r\n          >\r\n            Ô£ò\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getNotificationIcon(type: NotificationType): string {\r\n  switch (type) {\r\n    case 'match_reminder': return 'ÔÅ░';\r\n    case 'match_result': return 'ÔÜ¢';\r\n    case 'prediction_result': return '­şÄ»';\r\n    case 'friend_request': return '­şæÑ';\r\n    case 'friend_activity': return '­şôè';\r\n    case 'achievement': return '­şÅå';\r\n    case 'level_up': return 'Ô¼å´©Å';\r\n    case 'leaderboard_change': return '­şôê';\r\n    case 'daily_quest': return '­şôï';\r\n    case 'weekly_challenge': return '­şÅà';\r\n    case 'system': return '­şôó';\r\n    default: return '­şöö';\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\oauth\\consent\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\offline\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\opengraph-image.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\premium\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":115,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":115,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'selectedPlan' is assigned a value but never used.","line":116,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":116,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSelectedPlan' is assigned a value but never used.","line":116,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":116,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport Link from \"next/link\";\r\n\r\ninterface PremiumPlan {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  period: 'monthly' | 'yearly';\r\n  features: string[];\r\n  popular?: boolean;\r\n}\r\n\r\nconst PREMIUM_PLANS: PremiumPlan[] = [\r\n  {\r\n    id: 'basic',\r\n    name: 'Temel',\r\n    price: 0,\r\n    period: 'monthly',\r\n    features: [\r\n      'Ma├ğ tahminleri',\r\n      'Temel istatistikler',\r\n      'Haftal─▒k s─▒ralama',\r\n      'Arkada┼şl─▒k sistemi',\r\n    ]\r\n  },\r\n  {\r\n    id: 'pro',\r\n    name: 'Pro',\r\n    price: 29.99,\r\n    period: 'monthly',\r\n    features: [\r\n      'T├╝m Temel ├Âzellikler',\r\n      'AI Tahmin Asistan─▒',\r\n      'Geli┼şmi┼ş istatistikler',\r\n      '├ûzel rozetler',\r\n      'Reklams─▒z deneyim',\r\n      '├ûncelikli destek',\r\n      '├ûzel temalar',\r\n      'Ma├ğ sim├╝lasyonu',\r\n    ],\r\n    popular: true\r\n  },\r\n  {\r\n    id: 'elite',\r\n    name: 'Elite',\r\n    price: 199.99,\r\n    period: 'yearly',\r\n    features: [\r\n      'T├╝m Pro ├Âzellikler',\r\n      'S─▒n─▒rs─▒z ├Âzel lig',\r\n      'Elit rozetler',\r\n      'VIP Discord kanal─▒',\r\n      'Erken eri┼şim',\r\n      'Ayl─▒k ├Âd├╝ller',\r\n      '%40 indirim',\r\n    ]\r\n  }\r\n];\r\n\r\nconst PREMIUM_FEATURES = [\r\n  {\r\n    icon: '­şñû',\r\n    title: 'AI Tahmin Asistan─▒',\r\n    description: 'Yapay zeka destekli tahmin ├Ânerileri ve analiz',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: '­şôè',\r\n    title: 'Geli┼şmi┼ş ─░statistikler',\r\n    description: 'Tak─▒m formlar─▒, H2H analizleri ve trend grafikleri',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: '­şÄ«',\r\n    title: 'Ma├ğ Sim├╝lasyonu',\r\n    description: 'Ma├ğlar─▒ sim├╝le et ve sonu├ğlar─▒ tahmin et',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: '­şÄ¿',\r\n    title: '├ûzel Temalar',\r\n    description: '15+ ├Âzel tema ve renk se├ğene─şi',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: '­şÅå',\r\n    title: '├ûzel Rozetler',\r\n    description: 'Premium ├╝yelere ├Âzel rozetler ve unvanlar',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: '­şÜ½',\r\n    title: 'Reklams─▒z Deneyim',\r\n    description: 'Hi├ğbir reklam g├Ârmeden oyunun keyfini ├ğ─▒kar',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: 'ÔÜí',\r\n    title: '├ûncelikli Destek',\r\n    description: '24 saat i├ğinde yan─▒t garantisi',\r\n    premium: true\r\n  },\r\n  {\r\n    icon: '­şö«',\r\n    title: 'Erken Eri┼şim',\r\n    description: 'Yeni ├Âzelliklere ilk sen eri┼ş',\r\n    premium: true\r\n  }\r\n];\r\n\r\nexport default function PremiumPage() {\r\n  const { user } = useAuth();\r\n  const [selectedPlan, setSelectedPlan] = useState<string | null>(null);\r\n  const [billingPeriod, setBillingPeriod] = useState<'monthly' | 'yearly'>('monthly');\r\n\r\n  const handleSubscribe = (planId: string) => {\r\n    // In real app, this would open payment modal\r\n    alert(`${planId} plan─▒na abone olunuyor...`);\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Hero Section */}\r\n      <div className=\"relative bg-gradient-to-br from-amber-600 via-orange-600 to-red-600 px-4 py-16 overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n        <div className=\"absolute top-20 left-10 w-32 h-32 bg-white/10 rounded-full blur-3xl\" />\r\n        <div className=\"absolute bottom-10 right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl\" />\r\n        \r\n        <div className=\"max-w-4xl mx-auto text-center relative\">\r\n          <div className=\"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium mb-6\">\r\n            <span className=\"animate-pulse\">Ô£¿</span>\r\n            <span>Premium ├£yelik</span>\r\n          </div>\r\n          \r\n          <h1 className=\"text-4xl md:text-5xl font-black text-white mb-4\">\r\n            Tahmin G├╝c├╝n├╝\r\n            <span className=\"block text-amber-200\">S─▒n─▒rs─▒z Hale Getir</span>\r\n          </h1>\r\n          \r\n          <p className=\"text-white/80 text-lg max-w-2xl mx-auto\">\r\n            AI destekli tahminler, geli┼şmi┼ş istatistikler ve ├Âzel ├Âzelliklerle \r\n            rakiplerinin bir ad─▒m ├Ân├╝nde ol.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-5xl mx-auto px-4 py-12 space-y-16\">\r\n        {/* Billing Toggle */}\r\n        <div className=\"flex items-center justify-center gap-4\">\r\n          <button\r\n            onClick={() => setBillingPeriod('monthly')}\r\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n              billingPeriod === 'monthly'\r\n                ? 'bg-white text-slate-900'\r\n                : 'text-slate-400 hover:text-white'\r\n            }`}\r\n          >\r\n            Ayl─▒k\r\n          </button>\r\n          <button\r\n            onClick={() => setBillingPeriod('yearly')}\r\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n              billingPeriod === 'yearly'\r\n                ? 'bg-white text-slate-900'\r\n                : 'text-slate-400 hover:text-white'\r\n            }`}\r\n          >\r\n            Y─▒ll─▒k <span className=\"text-emerald-400 text-sm ml-1\">%40 indirim</span>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Pricing Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          {PREMIUM_PLANS.map(plan => {\r\n            const displayPrice = billingPeriod === 'yearly' && plan.id === 'pro' \r\n              ? (plan.price * 12 * 0.6).toFixed(2)\r\n              : plan.price;\r\n            \r\n            return (\r\n              <div\r\n                key={plan.id}\r\n                className={`relative bg-slate-900/50 border rounded-2xl p-6 transition-all ${\r\n                  plan.popular \r\n                    ? 'border-amber-500 scale-105 shadow-2xl shadow-amber-500/20' \r\n                    : 'border-slate-800 hover:border-slate-700'\r\n                }`}\r\n              >\r\n                {plan.popular && (\r\n                  <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-1 rounded-full text-sm font-bold text-white\">\r\n                    En Pop├╝ler\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"text-center mb-6\">\r\n                  <h3 className=\"text-xl font-bold text-white\">{plan.name}</h3>\r\n                  <div className=\"mt-4\">\r\n                    <span className=\"text-4xl font-black text-white\">\r\n                      {displayPrice === 0 ? '├£cretsiz' : `Ôé║${displayPrice}`}\r\n                    </span>\r\n                    {plan.price > 0 && (\r\n                      <span className=\"text-slate-400 ml-2\">\r\n                        /{billingPeriod === 'yearly' ? 'y─▒l' : 'ay'}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <ul className=\"space-y-3 mb-6\">\r\n                  {plan.features.map((feature, index) => (\r\n                    <li key={index} className=\"flex items-center gap-2 text-sm text-slate-300\">\r\n                      <span className=\"text-emerald-400\">Ô£ô</span>\r\n                      {feature}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n\r\n                <button\r\n                  onClick={() => handleSubscribe(plan.id)}\r\n                  className={`w-full py-3 rounded-xl font-bold transition-all ${\r\n                    plan.price === 0\r\n                      ? 'bg-slate-800 text-slate-400 cursor-default'\r\n                      : plan.popular\r\n                        ? 'bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white'\r\n                        : 'bg-slate-800 hover:bg-slate-700 text-white'\r\n                  }`}\r\n                  disabled={plan.price === 0}\r\n                >\r\n                  {plan.price === 0 ? 'Mevcut Plan' : 'Abone Ol'}\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Features Grid */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-white text-center mb-8\">\r\n            Premium ├ûzellikleri\r\n          </h2>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            {PREMIUM_FEATURES.map((feature, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6 hover:border-amber-500/50 transition-colors\"\r\n              >\r\n                <span className=\"text-3xl\">{feature.icon}</span>\r\n                <h3 className=\"font-bold text-white mt-3\">{feature.title}</h3>\r\n                <p className=\"text-sm text-slate-400 mt-1\">{feature.description}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats */}\r\n        <div className=\"bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/30 rounded-2xl p-8\">\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 text-center\">\r\n            {[\r\n              { value: '10,000+', label: 'Premium ├£ye' },\r\n              { value: '%89', label: 'Daha Y├╝ksek Do─şruluk' },\r\n              { value: '50+', label: 'AI Modeli' },\r\n              { value: '24/7', label: 'Destek' },\r\n            ].map((stat, index) => (\r\n              <div key={index}>\r\n                <div className=\"text-3xl font-black text-amber-400\">{stat.value}</div>\r\n                <div className=\"text-sm text-slate-400 mt-1\">{stat.label}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* FAQ */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-white text-center mb-8\">\r\n            S─▒k Sorulan Sorular\r\n          </h2>\r\n          \r\n          <div className=\"space-y-4 max-w-3xl mx-auto\">\r\n            {[\r\n              {\r\n                q: 'Premium ├╝yelik nas─▒l ├ğal─▒┼ş─▒r?',\r\n                a: 'Premium ├╝yelik sat─▒n ald─▒─ş─▒n─▒zda, t├╝m premium ├Âzelliklere an─▒nda eri┼şim kazan─▒rs─▒n─▒z. ├£yeli─şiniz otomatik olarak yenilenir.'\r\n              },\r\n              {\r\n                q: '─░stedi─şim zaman iptal edebilir miyim?',\r\n                a: 'Evet, ├╝yeli─şinizi istedi─şiniz zaman iptal edebilirsiniz. ─░ptal etti─şinizde, mevcut d├Ânemin sonuna kadar premium ├Âzelliklere eri┼şiminiz devam eder.'\r\n              },\r\n              {\r\n                q: 'AI Tahmin Asistan─▒ ne kadar do─şru?',\r\n                a: 'AI modelimiz, tarihsel veriler ve form analizleri ile %89 do─şruluk oran─▒na sahiptir. Ancak futbol her zaman s├╝rprizlere a├ğ─▒kt─▒r!'\r\n              },\r\n              {\r\n                q: '├ûzel rozetler nas─▒l kazan─▒l─▒r?',\r\n                a: 'Premium ├╝ye oldu─şunuzda otomatik olarak ├Âzel Premium rozeti al─▒rs─▒n─▒z. Ayr─▒ca premium g├Ârevleri tamamlayarak ek rozetler kazanabilirsiniz.'\r\n              },\r\n            ].map((faq, index) => (\r\n              <details\r\n                key={index}\r\n                className=\"bg-slate-900/50 border border-slate-800 rounded-xl group\"\r\n              >\r\n                <summary className=\"px-6 py-4 cursor-pointer font-medium text-white flex items-center justify-between\">\r\n                  {faq.q}\r\n                  <span className=\"text-slate-500 group-open:rotate-180 transition-transform\">Ôû╝</span>\r\n                </summary>\r\n                <div className=\"px-6 pb-4 text-slate-400 text-sm\">\r\n                  {faq.a}\r\n                </div>\r\n              </details>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* CTA */}\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-white mb-4\">\r\n            Hala D├╝┼ş├╝n├╝yor musun?\r\n          </h2>\r\n          <p className=\"text-slate-400 mb-6\">\r\n            7 g├╝nl├╝k ├╝cretsiz deneme ile t├╝m ├Âzellikleri ke┼şfet!\r\n          </p>\r\n          <button className=\"px-8 py-4 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 rounded-xl font-bold text-lg transition-all\">\r\n            ­şÜÇ ├£cretsiz Denemeyi Ba┼şlat\r\n          </button>\r\n        </div>\r\n\r\n        {/* Guarantee */}\r\n        <div className=\"flex items-center justify-center gap-4 py-6 border-t border-slate-800\">\r\n          <span className=\"text-2xl\">­şöÆ</span>\r\n          <div>\r\n            <div className=\"font-medium text-white\">30 G├╝n Para ─░ade Garantisi</div>\r\n            <div className=\"text-sm text-slate-400\">Memnun kalmazsan, paran─▒ iade ederiz</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\profile\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\providers\\QueryProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\quests\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'gameState' is assigned a value but never used.","line":12,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":21,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { useQuests } from \"../context/QuestsContext\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useGameState } from \"../utils/gameState\";\r\nimport { BADGE_RARITY_COLORS, Badge } from \"../types\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function QuestsPage() {\r\n  const { user } = useAuth();\r\n  const { gameState } = useGameState();\r\n  const { \r\n    dailyQuests, \r\n    weeklyChallenge, \r\n    streakData, \r\n    badges,\r\n    unlockedBadges,\r\n    claimQuestReward,\r\n    useStreakFreeze,\r\n    isLoading \r\n  } = useQuests();\r\n  \r\n  const [activeTab, setActiveTab] = useState<'quests' | 'badges' | 'streak'>('quests');\r\n  const [showRewardModal, setShowRewardModal] = useState<{ xp: number; coins: number } | null>(null);\r\n\r\n  // Calculate streak status\r\n  const streakStatus = useMemo(() => {\r\n    if (!streakData.lastPredictionDate) return 'inactive';\r\n    \r\n    const lastDate = new Date(streakData.lastPredictionDate);\r\n    const today = new Date();\r\n    const diffDays = Math.floor((today.getTime() - lastDate.getTime()) / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays === 0) return 'active';\r\n    if (diffDays === 1) return 'at_risk';\r\n    return 'broken';\r\n  }, [streakData.lastPredictionDate]);\r\n\r\n  const handleClaimReward = async (questId: string) => {\r\n    const reward = await claimQuestReward(questId);\r\n    if (reward) {\r\n      setShowRewardModal(reward);\r\n      setTimeout(() => setShowRewardModal(null), 3000);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-slate-400 mb-4\">Bu sayfay─▒ g├Âr├╝nt├╝lemek i├ğin giri┼ş yapmal─▒s─▒n─▒z.</p>\r\n          <Link href=\"/\" className=\"text-emerald-400 hover:underline\">Giri┼ş Yap</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header with Streak */}\r\n      <div className=\"bg-gradient-to-r from-orange-600 to-red-600 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-white\">G├Ârevler & Ba┼şar─▒mlar</h1>\r\n              <p className=\"text-white/70 text-sm mt-1\">\r\n                G├╝nl├╝k g├Ârevleri tamamla, XP kazan!\r\n              </p>\r\n            </div>\r\n            \r\n            {/* Streak Display */}\r\n            <div className=\"text-center\">\r\n              <div className={`text-4xl font-black ${\r\n                streakStatus === 'active' ? 'text-white' : \r\n                streakStatus === 'at_risk' ? 'text-amber-300' : 'text-slate-300'\r\n              }`}>\r\n                {streakData.currentStreak}­şöÑ\r\n              </div>\r\n              <div className=\"text-xs text-white/70\">G├╝nl├╝k Seri</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"max-w-4xl mx-auto px-4\">\r\n        <div className=\"flex gap-2 py-4 border-b border-slate-800\">\r\n          {[\r\n            { key: 'quests', label: 'G├╝nl├╝k G├Ârevler', icon: '­şôï' },\r\n            { key: 'badges', label: 'Rozetler', icon: '­şÄû´©Å' },\r\n            { key: 'streak', label: 'Seri', icon: '­şöÑ' },\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setActiveTab(tab.key as typeof activeTab)}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${\r\n                activeTab === tab.key\r\n                  ? 'bg-white/10 text-white'\r\n                  : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n              }`}\r\n            >\r\n              <span>{tab.icon}</span>\r\n              <span>{tab.label}</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"py-6\">\r\n          {/* Daily Quests */}\r\n          {activeTab === 'quests' && (\r\n            <div className=\"space-y-4\">\r\n              {/* Daily Quest Progress */}\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <h3 className=\"font-bold text-white\">G├╝nl├╝k ─░lerleme</h3>\r\n                  <span className=\"text-sm text-slate-400\">\r\n                    {dailyQuests.filter(q => q.completed).length}/{dailyQuests.length} tamamland─▒\r\n                  </span>\r\n                </div>\r\n                <div className=\"h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                  <div \r\n                    className=\"h-full bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-500\"\r\n                    style={{ width: `${(dailyQuests.filter(q => q.completed).length / dailyQuests.length) * 100}%` }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quest Cards */}\r\n              <div className=\"space-y-3\">\r\n                {dailyQuests.map(quest => (\r\n                  <div\r\n                    key={quest.id}\r\n                    className={`bg-slate-900/50 border rounded-xl p-4 transition-all ${\r\n                      quest.completed \r\n                        ? quest.claimed \r\n                          ? 'border-slate-700 opacity-60' \r\n                          : 'border-emerald-500/50 bg-emerald-500/10'\r\n                        : 'border-slate-800'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"text-3xl\">{quest.icon}</div>\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-bold text-white\">{quest.title}</h3>\r\n                        <p className=\"text-sm text-slate-400\">{quest.description}</p>\r\n                        \r\n                        {/* Progress Bar */}\r\n                        <div className=\"mt-2\">\r\n                          <div className=\"flex items-center justify-between text-xs text-slate-500 mb-1\">\r\n                            <span>{quest.progress}/{quest.target}</span>\r\n                            <span>{Math.round((quest.progress / quest.target) * 100)}%</span>\r\n                          </div>\r\n                          <div className=\"h-1.5 bg-slate-800 rounded-full overflow-hidden\">\r\n                            <div \r\n                              className={`h-full transition-all duration-300 ${\r\n                                quest.completed ? 'bg-emerald-500' : 'bg-orange-500'\r\n                              }`}\r\n                              style={{ width: `${Math.min((quest.progress / quest.target) * 100, 100)}%` }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {/* Rewards */}\r\n                      <div className=\"text-right\">\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <span className=\"text-amber-400\">+{quest.xpReward} XP</span>\r\n                          <span className=\"text-yellow-400\">+{quest.coinReward} ­ş¬Ö</span>\r\n                        </div>\r\n                        \r\n                        {quest.completed && !quest.claimed && (\r\n                          <button\r\n                            onClick={() => handleClaimReward(quest.id)}\r\n                            className=\"mt-2 px-4 py-1.5 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-sm font-medium transition-colors\"\r\n                          >\r\n                            ├ûd├╝l├╝ Al\r\n                          </button>\r\n                        )}\r\n                        \r\n                        {quest.claimed && (\r\n                          <span className=\"text-xs text-slate-500\">Ô£ô Al─▒nd─▒</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Weekly Challenge */}\r\n              {weeklyChallenge && (\r\n                <div className=\"mt-8\">\r\n                  <h2 className=\"text-lg font-bold text-white mb-4\">­şÅå Haftal─▒k Meydan Okuma</h2>\r\n                  <div className=\"bg-gradient-to-br from-purple-900/50 to-pink-900/50 border border-purple-500/30 rounded-xl p-6\">\r\n                    <div className=\"flex items-start gap-4\">\r\n                      <div className=\"text-4xl\">{weeklyChallenge.icon}</div>\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"text-xl font-bold text-white\">{weeklyChallenge.title}</h3>\r\n                        <p className=\"text-slate-300 mt-1\">{weeklyChallenge.description}</p>\r\n                        \r\n                        <div className=\"mt-4\">\r\n                          <div className=\"flex items-center justify-between text-sm text-slate-400 mb-2\">\r\n                            <span>{weeklyChallenge.progress}/{weeklyChallenge.target}</span>\r\n                            <span>{weeklyChallenge.participants} kat─▒l─▒mc─▒</span>\r\n                          </div>\r\n                          <div className=\"h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                            <div \r\n                              className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500\"\r\n                              style={{ width: `${(weeklyChallenge.progress / weeklyChallenge.target) * 100}%` }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"mt-4 flex items-center gap-4\">\r\n                          <span className=\"text-amber-400 font-bold\">+{weeklyChallenge.xpReward} XP</span>\r\n                          {weeklyChallenge.badgeReward && (\r\n                            <span className=\"text-purple-400\">­şÄû´©Å ├ûzel Rozet</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Badges */}\r\n          {activeTab === 'badges' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Unlocked Badges */}\r\n              <div>\r\n                <h2 className=\"text-lg font-bold text-white mb-4\">\r\n                  Kazan─▒lan Rozetler ({unlockedBadges.length})\r\n                </h2>\r\n                {unlockedBadges.length === 0 ? (\r\n                  <div className=\"text-center py-8 bg-slate-900/50 border border-slate-800 rounded-xl\">\r\n                    <div className=\"text-5xl mb-4\">­şÄû´©Å</div>\r\n                    <p className=\"text-slate-400\">Hen├╝z rozet kazanmad─▒n─▒z</p>\r\n                    <p className=\"text-sm text-slate-500 mt-2\">G├Ârevleri tamamlayarak rozetler kazan─▒n!</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                    {unlockedBadges.map(badge => (\r\n                      <BadgeCard key={badge.id} badge={badge} unlocked />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* All Badges */}\r\n              <div>\r\n                <h2 className=\"text-lg font-bold text-white mb-4\">\r\n                  T├╝m Rozetler ({badges.length})\r\n                </h2>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                  {badges.map(badge => {\r\n                    const isUnlocked = unlockedBadges.some(b => b.id === badge.id);\r\n                    return (\r\n                      <BadgeCard \r\n                        key={badge.id} \r\n                        badge={badge} \r\n                        unlocked={isUnlocked}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Streak */}\r\n          {activeTab === 'streak' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Current Streak */}\r\n              <div className=\"bg-gradient-to-br from-orange-900/50 to-red-900/50 border border-orange-500/30 rounded-xl p-8 text-center\">\r\n                <div className=\"text-6xl font-black text-white mb-2\">\r\n                  {streakData.currentStreak}\r\n                </div>\r\n                <div className=\"text-2xl mb-4\">­şöÑ</div>\r\n                <p className=\"text-slate-300\">G├╝nl├╝k Seri</p>\r\n                \r\n                {streakStatus === 'at_risk' && (\r\n                  <div className=\"mt-4 p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg\">\r\n                    <p className=\"text-amber-300 text-sm\">\r\n                      ÔÜá´©Å Seriniz risk alt─▒nda! Bug├╝n tahmin yaparak koruyun.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                \r\n                {streakStatus === 'broken' && (\r\n                  <div className=\"mt-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg\">\r\n                    <p className=\"text-red-300 text-sm\">\r\n                      ÔØî Seriniz k─▒r─▒ld─▒. Yeni bir seri ba┼şlat─▒n!\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Stats Grid */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4 text-center\">\r\n                  <div className=\"text-3xl font-bold text-amber-400\">{streakData.longestStreak}</div>\r\n                  <p className=\"text-sm text-slate-400 mt-1\">En Uzun Seri</p>\r\n                </div>\r\n                <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4 text-center\">\r\n                  <div className=\"text-3xl font-bold text-cyan-400\">{streakData.streakFreezeAvailable}</div>\r\n                  <p className=\"text-sm text-slate-400 mt-1\">Dondurma Hakk─▒</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Streak Freeze */}\r\n              {streakData.streakFreezeAvailable > 0 && streakStatus === 'at_risk' && (\r\n                <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h3 className=\"font-bold text-white\">ÔØä´©Å Seri Dondurma</h3>\r\n                      <p className=\"text-sm text-slate-400\">Bug├╝n oynayamazsan─▒z serinizi koruyun</p>\r\n                    </div>\r\n                    <button\r\n                      onClick={useStreakFreeze}\r\n                      className=\"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 rounded-lg text-sm font-medium transition-colors\"\r\n                    >\r\n                      Kullan\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Streak History */}\r\n              {streakData.streakHistory.length > 0 && (\r\n                <div>\r\n                  <h3 className=\"font-bold text-white mb-4\">Son 7 G├╝n</h3>\r\n                  <div className=\"flex gap-2\">\r\n                    {streakData.streakHistory.slice(0, 7).map((entry, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className={`flex-1 text-center p-3 rounded-xl ${\r\n                          entry.predictionsCount > 0\r\n                            ? 'bg-emerald-500/20 border border-emerald-500/30'\r\n                            : 'bg-slate-800/50 border border-slate-700'\r\n                        }`}\r\n                      >\r\n                        <div className=\"text-lg\">\r\n                          {entry.predictionsCount > 0 ? 'Ô£à' : 'ÔØî'}\r\n                        </div>\r\n                        <div className=\"text-xs text-slate-400 mt-1\">\r\n                          {new Date(entry.date).toLocaleDateString('tr-TR', { weekday: 'short' })}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reward Modal */}\r\n      {showRewardModal && (\r\n        <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50\">\r\n          <div className=\"bg-slate-900 border border-slate-700 rounded-2xl p-8 text-center animate-bounce-in\">\r\n            <div className=\"text-5xl mb-4\">­şÄë</div>\r\n            <h2 className=\"text-2xl font-bold text-white mb-4\">├ûd├╝l Kazand─▒n─▒z!</h2>\r\n            <div className=\"flex items-center justify-center gap-6\">\r\n              <div className=\"text-amber-400 text-xl font-bold\">+{showRewardModal.xp} XP</div>\r\n              <div className=\"text-yellow-400 text-xl font-bold\">+{showRewardModal.coins} ­ş¬Ö</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\n// Badge Card Component\r\nfunction BadgeCard({ badge, unlocked }: { badge: Badge; unlocked: boolean }) {\r\n  return (\r\n    <div \r\n      className={`relative bg-slate-900/50 border rounded-xl p-4 text-center transition-all ${\r\n        unlocked \r\n          ? 'border-slate-700 hover:border-slate-600' \r\n          : 'border-slate-800 opacity-50 grayscale'\r\n      }`}\r\n    >\r\n      <div className=\"text-4xl mb-2\">{badge.icon}</div>\r\n      <h3 className={`font-bold text-sm ${unlocked ? 'text-white' : 'text-slate-500'}`}>\r\n        {badge.name}\r\n      </h3>\r\n      <p className=\"text-xs text-slate-500 mt-1\">{badge.description}</p>\r\n      \r\n      {/* Rarity indicator */}\r\n      <div className={`mt-3 text-xs font-medium px-2 py-0.5 rounded-full bg-gradient-to-r ${BADGE_RARITY_COLORS[badge.rarity]} text-white inline-block`}>\r\n        {badge.rarity.toUpperCase()}\r\n      </div>\r\n      \r\n      {/* Progress bar for locked badges */}\r\n      {!unlocked && badge.progress !== undefined && badge.target !== undefined && (\r\n        <div className=\"mt-2\">\r\n          <div className=\"h-1 bg-slate-800 rounded-full overflow-hidden\">\r\n            <div \r\n              className=\"h-full bg-slate-600\"\r\n              style={{ width: `${(badge.progress / badge.target) * 100}%` }}\r\n            />\r\n          </div>\r\n          <p className=\"text-xs text-slate-600 mt-1\">{badge.progress}/{badge.target}</p>\r\n        </div>\r\n      )}\r\n      \r\n      {unlocked && badge.unlockedAt && (\r\n        <p className=\"text-xs text-slate-600 mt-2\">\r\n          {new Date(badge.unlockedAt).toLocaleDateString('tr-TR')}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\register\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\register\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":11,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardHeader' is defined but never used.","line":11,"column":46,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":56},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":11,"column":58,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":67}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { validators, sanitize } from \"../utils/validation\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Loader2, ArrowRight, ArrowLeft, AlertCircle, Gamepad2 } from \"lucide-react\";\r\n\r\nexport default function RegisterPage() {\r\n    const router = useRouter();\r\n    const { signUp, signInWithGoogle, user } = useAuth();\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        favoriteTeam: \"\"\r\n    });\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [step, setStep] = useState(1);\r\n\r\n    // Redirect if already logged in\r\n    if (user) {\r\n        router.push('/profile');\r\n        return null;\r\n    }\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (step === 1) {\r\n            // Use validation utilities\r\n            const nameError = validators.string.required(formData.name, \"Ad gerekli\");\r\n            const emailError = validators.string.required(formData.email, \"E-posta gerekli\")\r\n                || validators.string.email(formData.email, \"Ge├ğerli bir e-posta girin\");\r\n\r\n            if (nameError || emailError) {\r\n                setError(nameError || emailError || \"\");\r\n                return;\r\n            }\r\n            // Sanitize inputs\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                name: sanitize.normalizeWhitespace(prev.name),\r\n                email: prev.email.trim().toLowerCase()\r\n            }));\r\n            setError(\"\");\r\n            setStep(2);\r\n            return;\r\n        }\r\n\r\n        if (formData.password !== formData.confirmPassword) {\r\n            setError(\"┼Şifreler e┼şle┼şmiyor\");\r\n            return;\r\n        }\r\n\r\n        if (formData.password.length < 6) {\r\n            setError(\"┼Şifre en az 6 karakter olmal─▒\");\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setError(\"\");\r\n\r\n        const { error } = await signUp(formData.email, formData.password, {\r\n            name: formData.name\r\n        });\r\n\r\n        if (error) {\r\n            setError(error.message === \"User already registered\"\r\n                ? \"Bu e-posta zaten kay─▒tl─▒\"\r\n                : error.message\r\n            );\r\n            setIsLoading(false);\r\n        } else {\r\n            // Save favorite team to localStorage for now\r\n            if (formData.favoriteTeam) {\r\n                localStorage.setItem('favoriteTeam', formData.favoriteTeam);\r\n            }\r\n            router.push('/profile');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-background text-foreground flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <Link href=\"/\" className=\"inline-block mb-4\">\r\n                        <span className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-teal-200\">\r\n                            VolleySimulator\r\n                        </span>\r\n                    </Link>\r\n                    <h1 className=\"text-3xl font-black\">Kay─▒t Ol</h1>\r\n                    <p className=\"text-muted-foreground text-sm mt-2\">Tahmin oyununa kat─▒l ve XP kazan!</p>\r\n                </div>\r\n\r\n                {/* Progress Steps */}\r\n                <div className=\"flex items-center justify-center gap-4 mb-6\">\r\n                    <div className={`flex items-center gap-2 ${step >= 1 ? 'text-primary' : 'text-muted-foreground'}`}>\r\n                        <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${step >= 1 ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\r\n                            1\r\n                        </div>\r\n                        <span className=\"text-sm font-medium hidden sm:inline\">Bilgiler</span>\r\n                    </div>\r\n                    <div className={`w-12 h-0.5 ${step >= 2 ? 'bg-primary' : 'bg-muted'}`} />\r\n                    <div className={`flex items-center gap-2 ${step >= 2 ? 'text-primary' : 'text-muted-foreground'}`}>\r\n                        <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${step >= 2 ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\r\n                            2\r\n                        </div>\r\n                        <span className=\"text-sm font-medium hidden sm:inline\">┼Şifre</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Register Form */}\r\n                <Card>\r\n                    <CardContent className=\"pt-6\">\r\n                        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                            {error && (\r\n                                <Alert variant=\"destructive\">\r\n                                    <AlertCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>{error}</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n\r\n                            {step === 1 ? (\r\n                                <>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"name\">Kullan─▒c─▒ Ad─▒</Label>\r\n                                        <Input\r\n                                            id=\"name\"\r\n                                            type=\"text\"\r\n                                            name=\"name\"\r\n                                            value={formData.name}\r\n                                            onChange={handleChange}\r\n                                            placeholder=\"Takma ad─▒n\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"email\">E-posta</Label>\r\n                                        <Input\r\n                                            id=\"email\"\r\n                                            type=\"email\"\r\n                                            name=\"email\"\r\n                                            value={formData.email}\r\n                                            onChange={handleChange}\r\n                                            placeholder=\"ornek@email.com\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label>Favori Tak─▒m (Opsiyonel)</Label>\r\n                                        <Select\r\n                                            value={formData.favoriteTeam}\r\n                                            onValueChange={(value) => setFormData({ ...formData, favoriteTeam: value })}\r\n                                        >\r\n                                            <SelectTrigger>\r\n                                                <SelectValue placeholder=\"Tak─▒m se├ğ...\" />\r\n                                            </SelectTrigger>\r\n                                            <SelectContent>\r\n                                                <SelectItem value=\"Fenerbah├ğe Medicana\">Fenerbah├ğe Medicana</SelectItem>\r\n                                                <SelectItem value=\"Vak─▒fBank\">Vak─▒fBank</SelectItem>\r\n                                                <SelectItem value=\"Eczac─▒ba┼ş─▒ Dynavit\">Eczac─▒ba┼ş─▒ Dynavit</SelectItem>\r\n                                                <SelectItem value=\"THY\">THY</SelectItem>\r\n                                                <SelectItem value=\"Galatasaray\">Galatasaray</SelectItem>\r\n                                            </SelectContent>\r\n                                        </Select>\r\n                                        <p className=\"text-xs text-amber-500\">+20% XP bonus favori tak─▒m─▒n ma├ğlar─▒nda!</p>\r\n                                    </div>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"password\">┼Şifre</Label>\r\n                                        <Input\r\n                                            id=\"password\"\r\n                                            type=\"password\"\r\n                                            name=\"password\"\r\n                                            value={formData.password}\r\n                                            onChange={handleChange}\r\n                                            placeholder=\"En az 6 karakter\"\r\n                                            required\r\n                                            minLength={6}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"confirmPassword\">┼Şifre Tekrar</Label>\r\n                                        <Input\r\n                                            id=\"confirmPassword\"\r\n                                            type=\"password\"\r\n                                            name=\"confirmPassword\"\r\n                                            value={formData.confirmPassword}\r\n                                            onChange={handleChange}\r\n                                            placeholder=\"┼Şifreyi tekrar gir\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"bg-muted rounded-lg p-4\">\r\n                                        <div className=\"text-xs text-muted-foreground mb-2\">Kay─▒t oldu─şunda kazanacaklar─▒n:</div>\r\n                                        <div className=\"flex flex-wrap gap-2\">\r\n                                            <Badge variant=\"secondary\" className=\"bg-amber-500/20 text-amber-400\">+50 XP</Badge>\r\n                                            <Badge variant=\"secondary\" className=\"bg-emerald-500/20 text-emerald-400\">­şÄ» ─░lk Ad─▒m Rozeti</Badge>\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n\r\n                            <div className=\"flex gap-3\">\r\n                                {step === 2 && (\r\n                                    <Button\r\n                                        type=\"button\"\r\n                                        variant=\"outline\"\r\n                                        onClick={() => setStep(1)}\r\n                                        className=\"flex-1\"\r\n                                    >\r\n                                        <ArrowLeft className=\"mr-2 h-4 w-4\" />\r\n                                        Geri\r\n                                    </Button>\r\n                                )}\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    disabled={isLoading}\r\n                                    className=\"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500\"\r\n                                >\r\n                                    {isLoading ? (\r\n                                        <>\r\n                                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                            Kay─▒t yap─▒l─▒yor...\r\n                                        </>\r\n                                    ) : step === 1 ? (\r\n                                        <>\r\n                                            Devam Et\r\n                                            <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Gamepad2 className=\"mr-2 h-4 w-4\" />\r\n                                            Kay─▒t Ol\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Divider */}\r\n                <div className=\"relative my-6\">\r\n                    <Separator />\r\n                    <span className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-4 text-muted-foreground text-sm\">\r\n                        veya\r\n                    </span>\r\n                </div>\r\n\r\n                {/* Google Sign Up */}\r\n                <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={signInWithGoogle}\r\n                    className=\"w-full\"\r\n                >\r\n                    <svg className=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\">\r\n                        <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\r\n                        <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\r\n                        <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\r\n                        <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\r\n                    </svg>\r\n                    Google ile Kay─▒t Ol\r\n                </Button>\r\n\r\n                {/* Login Link */}\r\n                <p className=\"text-center mt-6 text-muted-foreground\">\r\n                    Zaten hesab─▒n var m─▒?{\" \"}\r\n                    <Link href=\"/login\" className=\"text-primary font-bold hover:underline\">\r\n                        Giri┼ş Yap\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\scenario-standings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'calculateGroupStandings' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":33},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[496,499],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[496,499],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'saved' is assigned a value but never used.","line":18,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":103,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":106,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1441,1444],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1441,1444],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":111,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":114,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1449,1452],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1449,1452],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { TeamStats } from \"../types\";\r\nimport Link from \"next/link\";\r\nimport { calculateGroupStandings, applyOverridesToTeams } from \"../utils/playoffUtils\";\r\n\r\n\r\nexport default function ScenarioStandingsPage() {\r\n    const [loading, setLoading] = useState(true);\r\n    const [allTeams, setAllTeams] = useState<TeamStats[]>([]);\r\n    const [groups, setGroups] = useState<string[]>([]);\r\n    const [scenarios, setScenarios] = useState<any>({});\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n        // Load overrides correctly\r\n        const saved = localStorage.getItem('playoffScenarios'); // Actually this might be wrong key.\r\n        // Let's check how GroupPage saves it.\r\n        // In GroupPage it saves to `playoffScenarios`? No, let's check group page.\r\n        // GroupPage saves to: localStorage.setItem(`group_matches_${groupId}`, ...);\r\n        // Wait, the user wants \"Oyundan gelen puan durumu\". \r\n        // This implies we need to read ALL `group_matches_X` keys.\r\n    }, []);\r\n\r\n    async function fetchData() {\r\n        try {\r\n            setLoading(true);\r\n            const res = await fetch(\"/api/scrape\");\r\n            if (!res.ok) throw new Error(\"Veri ├ğekilemedi\");\r\n            const data = await res.json();\r\n            setAllTeams(data.teams);\r\n\r\n            const uniqueGroups = [...new Set(data.teams.map((t: TeamStats) => t.groupName))].sort((a: any, b: any) => {\r\n                const numA = parseInt(a.match(/\\d+/)?.[0] || \"0\");\r\n                const numB = parseInt(b.match(/\\d+/)?.[0] || \"0\");\r\n                return numA - numB;\r\n            });\r\n            setGroups(uniqueGroups as string[]);\r\n\r\n            // Load all scenarios\r\n            const savedScenarios = localStorage.getItem('groupScenarios');\r\n            if (savedScenarios) {\r\n                try {\r\n                    setScenarios(JSON.parse(savedScenarios));\r\n                } catch (e) {\r\n                    console.error(\"Failed to parse scenarios\", e);\r\n                }\r\n            }\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    // Calculate simulated standings for all groups\r\n    const teamsByGroup = groups.reduce((acc, groupName) => {\r\n        const originalGroupTeams = allTeams.filter(t => t.groupName === groupName);\r\n        const groupOverrides = scenarios[groupName] || [];\r\n\r\n        // Apply Logic\r\n        // We need a way to verify if applyOverridesToTeams works with just Match objects or the full logic.\r\n        // Looking at GroupPage, it does:\r\n        // const newTeams = applyOverridesToTeams(originalTeams, overrides);\r\n        // So we can perform the simulation here!\r\n\r\n        const simulatedTeams = applyOverridesToTeams(originalGroupTeams, groupOverrides);\r\n\r\n        acc[groupName] = simulatedTeams.sort((a: TeamStats, b: TeamStats) => b.points - a.points || b.wins - a.wins || (b.setsWon - b.setsLost) - (a.setsWon - a.setsLost));\r\n        return acc;\r\n    }, {} as Record<string, TeamStats[]>);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"h-[calc(100vh-64px)] flex items-center justify-center text-slate-400\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500\"></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-2 sm:p-4 font-sans\">\r\n            <div className=\"max-w-7xl mx-auto flex flex-col gap-4\">\r\n\r\n                {/* Header */}\r\n                <div className=\"flex flex-col gap-1 px-1\">\r\n                    <h1 className=\"font-bold text-white text-lg tracking-tight leading-none hidden sm:block\">Senaryo Puan Durumu</h1>\r\n                    <p className=\"text-[10px] text-slate-400 hidden sm:block\">Yapt─▒─ş─▒n─▒z ma├ğ tahminlerine g├Âre olu┼şan puan durumu</p>\r\n                </div>\r\n\r\n                {/* Global Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n                    {groups.map(groupName => {\r\n                        const groupTeams = teamsByGroup[groupName] || [];\r\n                        return (\r\n                            <div key={groupName} className=\"bg-slate-900 border border-slate-800 rounded-lg overflow-hidden flex flex-col h-full\">\r\n                                {/* Header */}\r\n                                <div className=\"bg-slate-800/50 px-3 py-2 border-b border-slate-800 flex justify-between items-center\">\r\n                                    <h3 className=\"font-bold text-slate-200\">{groupName}. Grup</h3>\r\n                                    <span className=\"text-[10px] text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded border border-emerald-500/20\">\r\n                                        Sim├╝lasyon\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {/* Table */}\r\n                                <div className=\"p-2 space-y-0.5 flex-1\">\r\n                                    <div className=\"flex text-[9px] text-slate-500 px-2 pb-1 border-b border-slate-800/50 uppercase tracking-wider font-semibold\">\r\n                                        <span className=\"w-4\">#</span>\r\n                                        <span className=\"flex-1\">Tak─▒m</span>\r\n                                        <span className=\"w-6 text-center\">O</span>\r\n                                        <span className=\"w-6 text-center text-slate-300 font-bold\">P</span>\r\n                                    </div>\r\n                                    {groupTeams.map((team, idx) => {\r\n                                        const isRelegation = idx >= groupTeams.length - 2;\r\n                                        const isPromotion = idx < 2;\r\n                                        return (\r\n                                            <div key={team.name} className={`flex items-center text-xs py-1.5 px-2 rounded ${isPromotion ? 'bg-emerald-500/10' : isRelegation ? 'bg-rose-500/10' : ''}`}>\r\n                                                <span className={`w-4 text-[10px] font-bold ${isPromotion ? 'text-emerald-400' : isRelegation ? 'text-rose-500' : 'text-slate-600'}`}>\r\n                                                    {idx + 1}\r\n                                                </span>\r\n                                                <span className={`flex-1 truncate pr-2 ${isPromotion ? 'text-slate-200 font-medium' : isRelegation ? 'text-rose-200/80' : 'text-slate-400'}`} title={team.name}>\r\n                                                    {team.name}\r\n                                                </span>\r\n                                                <span className=\"w-6 text-center text-[10px] text-slate-500 font-mono\">{team.played}</span>\r\n                                                <span className={`w-6 text-center font-bold relative ${isPromotion ? 'text-white' : isRelegation ? 'text-rose-200' : 'text-slate-500'}`}>\r\n                                                    {team.points}\r\n                                                </span>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\simulation\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":6,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":21,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useMatchSimulation, getSimulationState } from \"../hooks/useMatchSimulation\";\r\nimport Link from \"next/link\";\r\n\r\n// Sample teams for simulation\r\nconst SAMPLE_TEAMS = [\r\n  \"FENERBAH├çE MEDICANA\",\r\n  \"ECZACIBA┼ŞI DYNAV─░T\",\r\n  \"VAKIFBANK\",\r\n  \"GALATASARAY DAIKIN\",\r\n  \"THY\",\r\n  \"N─░L├£FER BELED─░YESPOR\",\r\n  \"BE┼Ş─░KTA┼Ş\",\r\n  \"ARAS KARGO\",\r\n];\r\n\r\nexport default function SimulationPage() {\r\n  const { user } = useAuth();\r\n  const { \r\n    simulation, \r\n    isSimulating, \r\n    isPlaying,\r\n    currentSet,\r\n    currentPoint,\r\n    progress,\r\n    startSimulation,\r\n    play,\r\n    pause,\r\n    reset,\r\n    skipToEnd,\r\n    setSpeed,\r\n  } = useMatchSimulation({ autoPlay: false });\r\n  \r\n  const [homeTeam, setHomeTeam] = useState(SAMPLE_TEAMS[0]);\r\n  const [awayTeam, setAwayTeam] = useState(SAMPLE_TEAMS[1]);\r\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\r\n\r\n  const handleSpeedChange = (speed: number) => {\r\n    setPlaybackSpeed(speed);\r\n    setSpeed(speed);\r\n  };\r\n\r\n  const simulationState = useMemo(() => {\r\n    if (!simulation) return null;\r\n    return getSimulationState(simulation, currentSet, currentPoint);\r\n  }, [simulation, currentSet, currentPoint]);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-violet-600 to-purple-600 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h1 className=\"text-2xl font-bold text-white\">Ma├ğ Sim├╝lasyonu</h1>\r\n          <p className=\"text-white/70 text-sm mt-1\">\r\n            Tak─▒mlar─▒ se├ğ ve ma├ğ─▒n nas─▒l oynanabilece─şini izle\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 py-6 space-y-6\">\r\n        {/* Team Selection */}\r\n        {!simulation && (\r\n          <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n            <h2 className=\"font-bold text-white mb-4\">Tak─▒mlar─▒ Se├ğ</h2>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Home Team */}\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Ev Sahibi</label>\r\n                <select\r\n                  value={homeTeam}\r\n                  onChange={(e) => setHomeTeam(e.target.value)}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-violet-500\"\r\n                >\r\n                  {SAMPLE_TEAMS.map(team => (\r\n                    <option key={team} value={team} disabled={team === awayTeam}>\r\n                      {team}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Away Team */}\r\n              <div>\r\n                <label className=\"block text-sm text-slate-400 mb-2\">Deplasman</label>\r\n                <select\r\n                  value={awayTeam}\r\n                  onChange={(e) => setAwayTeam(e.target.value)}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-violet-500\"\r\n                >\r\n                  {SAMPLE_TEAMS.map(team => (\r\n                    <option key={team} value={team} disabled={team === homeTeam}>\r\n                      {team}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => startSimulation(homeTeam, awayTeam)}\r\n              disabled={isSimulating}\r\n              className=\"w-full mt-6 px-6 py-4 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 disabled:opacity-50 rounded-xl font-bold text-lg transition-all\"\r\n            >\r\n              {isSimulating ? 'Sim├╝lasyon Haz─▒rlan─▒yor...' : '­şÄ« Sim├╝lasyonu Ba┼şlat'}\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Simulation Display */}\r\n        {simulation && simulationState && (\r\n          <>\r\n            {/* Scoreboard */}\r\n            <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-2xl p-8\">\r\n              <div className=\"flex items-center justify-between\">\r\n                {/* Home Team */}\r\n                <div className=\"flex-1 text-center\">\r\n                  <div className=\"w-24 h-24 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-4xl mb-4 shadow-lg\">\r\n                    ­şÅÉ\r\n                  </div>\r\n                  <h3 className=\"font-bold text-white text-xl\">{simulation.homeTeam}</h3>\r\n                </div>\r\n\r\n                {/* Score */}\r\n                <div className=\"px-12 text-center\">\r\n                  <div className=\"text-6xl font-black text-white mb-4\">\r\n                    {simulationState.setScore.home} - {simulationState.setScore.away}\r\n                  </div>\r\n                  <div className=\"text-sm text-slate-400\">Set Skoru</div>\r\n                  \r\n                  {!simulationState.isComplete && (\r\n                    <div className=\"mt-6 bg-violet-500/20 border border-violet-500/30 rounded-xl px-8 py-4\">\r\n                      <div className=\"text-3xl font-bold text-white\">\r\n                        {simulationState.currentSetScore.home} - {simulationState.currentSetScore.away}\r\n                      </div>\r\n                      <div className=\"text-sm text-violet-400 mt-1\">\r\n                        {currentSet + 1}. Set\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {simulationState.isComplete && (\r\n                    <div className=\"mt-6 bg-emerald-500/20 border border-emerald-500/30 rounded-xl px-8 py-4\">\r\n                      <div className=\"text-lg font-bold text-emerald-400\">\r\n                        ­şÅå {simulation.winner} Kazand─▒!\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Away Team */}\r\n                <div className=\"flex-1 text-center\">\r\n                  <div className=\"w-24 h-24 mx-auto bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center text-4xl mb-4 shadow-lg\">\r\n                    ­şÅÉ\r\n                  </div>\r\n                  <h3 className=\"font-bold text-white text-xl\">{simulation.awayTeam}</h3>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Last Point Animation */}\r\n              {simulationState.lastPoint && !simulationState.isComplete && (\r\n                <div className=\"mt-6 text-center\">\r\n                  <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm ${\r\n                    simulationState.lastPoint.scorer === 'home'\r\n                      ? 'bg-blue-500/20 text-blue-400'\r\n                      : 'bg-orange-500/20 text-orange-400'\r\n                  }`}>\r\n                    {getPointTypeIcon(simulationState.lastPoint.type)}\r\n                    <span>\r\n                      {simulationState.lastPoint.scorer === 'home' ? simulation.homeTeam : simulation.awayTeam}\r\n                      {' - '}\r\n                      {getPointTypeText(simulationState.lastPoint.type)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Progress Bar */}\r\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\">\r\n              <div className=\"h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"h-full bg-gradient-to-r from-violet-500 to-purple-500 transition-all duration-100\"\r\n                  style={{ width: `${progress}%` }}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-between mt-2 text-xs text-slate-500\">\r\n                <span>Ba┼şlang─▒├ğ</span>\r\n                <span>Biti┼ş</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-4\">\r\n              <div className=\"flex items-center justify-center gap-4\">\r\n                <button\r\n                  onClick={reset}\r\n                  className=\"p-3 bg-slate-800 hover:bg-slate-700 rounded-xl transition-colors\"\r\n                  title=\"Ba┼şa Sar\"\r\n                >\r\n                  ÔÅ«´©Å\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={isPlaying ? pause : play}\r\n                  className=\"p-4 bg-violet-600 hover:bg-violet-700 rounded-xl transition-colors\"\r\n                >\r\n                  {isPlaying ? 'ÔÅ©´©Å' : 'ÔûÂ´©Å'}\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={skipToEnd}\r\n                  className=\"p-3 bg-slate-800 hover:bg-slate-700 rounded-xl transition-colors\"\r\n                  title=\"Sonuca Atla\"\r\n                >\r\n                  ÔÅ¡´©Å\r\n                </button>\r\n              </div>\r\n\r\n              {/* Speed Control */}\r\n              <div className=\"flex items-center justify-center gap-2 mt-4\">\r\n                <span className=\"text-xs text-slate-500\">H─▒z:</span>\r\n                {[0.5, 1, 2, 4].map(speed => (\r\n                  <button\r\n                    key={speed}\r\n                    onClick={() => handleSpeedChange(speed)}\r\n                    className={`px-3 py-1 rounded-lg text-xs font-medium transition-colors ${\r\n                      playbackSpeed === speed\r\n                        ? 'bg-violet-600 text-white'\r\n                        : 'bg-slate-800 text-slate-400 hover:text-white'\r\n                    }`}\r\n                  >\r\n                    {speed}x\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Set Details */}\r\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n              <h3 className=\"font-bold text-white mb-4\">Set Detaylar─▒</h3>\r\n              <div className=\"grid grid-cols-5 gap-4\">\r\n                {simulation.simulatedSets.map((set, index) => {\r\n                  const isCurrentSet = index === currentSet && !simulationState.isComplete;\r\n                  const isPastSet = index < currentSet || simulationState.isComplete;\r\n                  \r\n                  return (\r\n                    <div \r\n                      key={index}\r\n                      className={`text-center p-4 rounded-xl border transition-all ${\r\n                        isCurrentSet \r\n                          ? 'bg-violet-500/20 border-violet-500/50 animate-pulse'\r\n                          : isPastSet\r\n                            ? set.winner === 'home'\r\n                              ? 'bg-blue-500/20 border-blue-500/30'\r\n                              : 'bg-orange-500/20 border-orange-500/30'\r\n                            : 'bg-slate-800/50 border-slate-700'\r\n                      }`}\r\n                    >\r\n                      <div className=\"text-xs text-slate-400 mb-2\">{index + 1}. Set</div>\r\n                      <div className={`text-xl font-bold ${\r\n                        isPastSet \r\n                          ? 'text-white' \r\n                          : isCurrentSet \r\n                            ? 'text-violet-400'\r\n                            : 'text-slate-600'\r\n                      }`}>\r\n                        {isPastSet \r\n                          ? `${set.homePoints}-${set.awayPoints}`\r\n                          : isCurrentSet\r\n                            ? `${simulationState.currentSetScore.home}-${simulationState.currentSetScore.away}`\r\n                            : '-'\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Key Moments */}\r\n            {simulation.keyMoments.length > 0 && (\r\n              <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n                <h3 className=\"font-bold text-white mb-4\">├ûnemli Anlar</h3>\r\n                <div className=\"space-y-3\">\r\n                  {simulation.keyMoments.map((moment, index) => (\r\n                    <div \r\n                      key={index}\r\n                      className={`flex items-center gap-3 p-3 rounded-lg ${\r\n                        moment.type === 'match_point'\r\n                          ? 'bg-emerald-500/20 border border-emerald-500/30'\r\n                          : 'bg-slate-800/50'\r\n                      }`}\r\n                    >\r\n                      <span className=\"text-xl\">\r\n                        {moment.type === 'match_point' ? '­şÅå' : \r\n                         moment.type === 'set_point' ? '­şôı' : 'ÔÜí'}\r\n                      </span>\r\n                      <span className={\r\n                        moment.type === 'match_point' ? 'text-emerald-400' : 'text-slate-300'\r\n                      }>\r\n                        {moment.description}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* New Simulation Button */}\r\n            <button\r\n              onClick={() => {\r\n                reset();\r\n                startSimulation(homeTeam, awayTeam);\r\n              }}\r\n              className=\"w-full px-6 py-3 bg-slate-800 hover:bg-slate-700 rounded-xl font-medium transition-colors\"\r\n            >\r\n              ­şöä Yeni Sim├╝lasyon\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction getPointTypeIcon(type: string): string {\r\n  switch (type) {\r\n    case 'attack': return '­şÆÑ';\r\n    case 'block': return '­şøí´©Å';\r\n    case 'ace': return '­şÄ»';\r\n    case 'error': return 'ÔØî';\r\n    default: return '­şÅÉ';\r\n  }\r\n}\r\n\r\nfunction getPointTypeText(type: string): string {\r\n  switch (type) {\r\n    case 'attack': return 'H├╝cum Say─▒s─▒';\r\n    case 'block': return 'Blok Say─▒s─▒';\r\n    case 'ace': return 'As Servis';\r\n    case 'error': return 'Rakip Hata';\r\n    default: return 'Say─▒';\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\stats\\StatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\stats\\advanced\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has an unnecessary dependency: 'selectedLeague'. Either exclude it or remove the dependency array.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":53,"suggestions":[{"desc":"Update the dependencies array to be: [getTopPerformers, getTeamForm]","fix":{"range":[2405,2452],"text":"[getTopPerformers, getTeamForm]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { useAdvancedStats } from \"@/app/hooks/useAdvancedStats\";\r\nimport { TeamFormDisplay, HeadToHeadDisplay } from \"@/app/components/TeamFormDisplay\";\r\n\r\nconst LEAGUES = [\r\n  { id: 'vsl', name: 'Sultanlar Ligi', icon: '­şææ' },\r\n  { id: '1lig', name: '1. Lig', icon: '­şÑê' },\r\n  { id: '2lig', name: '2. Lig', icon: '­şÑë' },\r\n  { id: 'cev-cl', name: 'CEV ┼ŞL', icon: '­şîş' },\r\n];\r\n\r\nconst SAMPLE_TEAMS: Record<string, string[]> = {\r\n  vsl: [\r\n    \"FENERBAH├çE MEDICANA\", \"ECZACIBA┼ŞI DYNAV─░T\", \"VAKIFBANK\", \"GALATASARAY DAIKIN\",\r\n    \"THY\", \"N─░L├£FER BELED─░YESPOR\", \"BE┼Ş─░KTA┼Ş\", \"ARAS KARGO\",\r\n    \"KUZEYBORU─░STANBUL\", \"SIGORTA SHOP\", \"PTT\", \"TOKAT BELED─░YE PLEVNE\"\r\n  ],\r\n  '1lig': [\"BURSA B├£Y├£K┼ŞEHIR\", \"AYDIN B.┼ŞEH─░R BEL\", \"MERS─░N\", \"KARAYOLLARI\"],\r\n  '2lig': [\"SAKARYA\", \"MU─ŞLA\", \"─░ZM─░R\", \"ESK─░┼ŞEH─░R\"],\r\n  'cev-cl': [\"VAKIFBANK\", \"ECZACIBA┼ŞI\", \"FENERBAH├çE\", \"IMOCO VOLLEY\"],\r\n};\r\n\r\nexport default function AdvancedStatsPage() {\r\n  const [selectedLeague, setSelectedLeague] = useState('vsl');\r\n  const [selectedTeam1, setSelectedTeam1] = useState('');\r\n  const [selectedTeam2, setSelectedTeam2] = useState('');\r\n  const [activeTab, setActiveTab] = useState<'rankings' | 'compare' | 'trends'>('rankings');\r\n\r\n  // Mock data for teams and matches\r\n  const mockTeams = (SAMPLE_TEAMS[selectedLeague] || []).map((name) => ({\r\n    name,\r\n    played: 10,\r\n    wins: 7,\r\n    points: 21,\r\n    setsWon: 25,\r\n    setsLost: 15,\r\n  }));\r\n\r\n  const mockMatches = [\r\n    { homeTeam: SAMPLE_TEAMS[selectedLeague]?.[0] || '', awayTeam: SAMPLE_TEAMS[selectedLeague]?.[1] || '', homeScore: 3, awayScore: 1, date: '2024-01-01' },\r\n    { homeTeam: SAMPLE_TEAMS[selectedLeague]?.[1] || '', awayTeam: SAMPLE_TEAMS[selectedLeague]?.[2] || '', homeScore: 2, awayScore: 3, date: '2024-01-02' },\r\n  ];\r\n\r\n  const {\r\n    getHeadToHead,\r\n    getTeamForm,\r\n    getTopPerformers,\r\n    compareTeams,\r\n  } = useAdvancedStats(mockTeams, mockMatches);\r\n\r\n  const teams = SAMPLE_TEAMS[selectedLeague] || [];\r\n  const topPerformers = useMemo(() => {\r\n    const stats = getTopPerformers('points', 5);\r\n    return stats.map(stat => {\r\n      const form = getTeamForm(stat.teamName);\r\n      return {\r\n        ...stat,\r\n        winPercentage: Math.round(form.winRate),\r\n        trend: form.trend === 'improving' ? 'up' : form.trend === 'declining' ? 'down' : 'stable'\r\n      };\r\n    });\r\n  }, [selectedLeague, getTopPerformers, getTeamForm]);\r\n\r\n  const team1Form = selectedTeam1 ? getTeamForm(selectedTeam1) : null;\r\n  const team2Form = selectedTeam2 ? getTeamForm(selectedTeam2) : null;\r\n  const h2hStats = selectedTeam1 && selectedTeam2\r\n    ? getHeadToHead(selectedTeam1, selectedTeam2)\r\n    : null;\r\n  const comparison = selectedTeam1 && selectedTeam2\r\n    ? compareTeams(selectedTeam1, selectedTeam2)\r\n    : null;\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-950 text-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-600 to-cyan-600 px-4 py-6\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          <h1 className=\"text-2xl font-bold text-white\">Geli┼şmi┼ş ─░statistikler</h1>\r\n          <p className=\"text-white/70 text-sm mt-1\">\r\n            Tak─▒m formlar─▒, kar┼ş─▒la┼şma ge├ğmi┼şleri ve detayl─▒ analizler\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-5xl mx-auto px-4 py-6 space-y-6\">\r\n        {/* League Selector */}\r\n        <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n          {LEAGUES.map(league => (\r\n            <button\r\n              key={league.id}\r\n              onClick={() => {\r\n                setSelectedLeague(league.id);\r\n                setSelectedTeam1('');\r\n                setSelectedTeam2('');\r\n              }}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-colors ${selectedLeague === league.id\r\n                ? 'bg-blue-600 text-white'\r\n                : 'bg-slate-800 text-slate-400 hover:text-white'\r\n                }`}\r\n            >\r\n              <span>{league.icon}</span>\r\n              <span>{league.name}</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex gap-2 border-b border-slate-800 pb-4\">\r\n          {[\r\n            { key: 'rankings', label: 'G├╝├ğ S─▒ralamas─▒', icon: '­şôè' },\r\n            { key: 'compare', label: 'Tak─▒m Kar┼ş─▒la┼şt─▒r', icon: 'ÔÜö´©Å' },\r\n            { key: 'trends', label: 'Trendler', icon: '­şôê' },\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setActiveTab(tab.key as typeof activeTab)}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-colors ${activeTab === tab.key\r\n                ? 'bg-white/10 text-white'\r\n                : 'text-slate-400 hover:text-white'\r\n                }`}\r\n            >\r\n              <span>{tab.icon}</span>\r\n              <span>{tab.label}</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Rankings Tab */}\r\n        {activeTab === 'rankings' && (\r\n          <div className=\"space-y-4\">\r\n            <h2 className=\"text-lg font-bold text-white\">ELO G├╝├ğ S─▒ralamas─▒</h2>\r\n\r\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden\">\r\n              <table className=\"w-full\">\r\n                <thead>\r\n                  <tr className=\"bg-slate-800/50\">\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-400\">#</th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-400\">Tak─▒m</th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-slate-400\">ELO</th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-slate-400\">Form</th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-slate-400\">Kazanma %</th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-slate-400\">Trend</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-slate-800\">\r\n                  {topPerformers.map((team, index) => (\r\n                    <tr key={team.teamName} className=\"hover:bg-slate-800/30 transition-colors\">\r\n                      <td className=\"px-4 py-3\">\r\n                        <span className={`w-6 h-6 rounded flex items-center justify-center text-sm font-bold ${index === 0 ? 'bg-amber-500 text-slate-900' :\r\n                          index === 1 ? 'bg-slate-400 text-slate-900' :\r\n                            index === 2 ? 'bg-amber-700 text-white' :\r\n                              'bg-slate-700 text-slate-300'\r\n                          }`}>\r\n                          {index + 1}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <span className=\"font-medium text-white\">{team.teamName}</span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        <span className=\"font-bold text-cyan-400\">{team.points}</span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        <div className=\"flex justify-center gap-1\">\r\n                          {team.last10?.slice(0, 5).map((result, i) => (\r\n                            <span\r\n                              key={i}\r\n                              className={`w-5 h-5 rounded text-xs flex items-center justify-center font-bold ${result === 'W' ? 'bg-emerald-500/30 text-emerald-400' :\r\n                                'bg-red-500/30 text-red-400'\r\n                                }`}\r\n                            >\r\n                              {result === 'W' ? 'G' : 'M'}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        <span className={`font-medium ${team.winPercentage >= 70 ? 'text-emerald-400' :\r\n                          team.winPercentage >= 50 ? 'text-amber-400' :\r\n                            'text-red-400'\r\n                          }`}>\r\n                          %{team.winPercentage}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        <span className={\r\n                          team.trend === 'up' ? 'text-emerald-400' :\r\n                            team.trend === 'down' ? 'text-red-400' :\r\n                              'text-slate-400'\r\n                        }>\r\n                          {team.trend === 'up' ? 'Ôåæ' : team.trend === 'down' ? 'Ôåô' : 'ÔêÆ'}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Compare Tab */}\r\n        {activeTab === 'compare' && (\r\n          <div className=\"space-y-6\">\r\n            <h2 className=\"text-lg font-bold text-white\">Tak─▒m Kar┼ş─▒la┼şt─▒r</h2>\r\n\r\n            {/* Team Selectors */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"team1-select\" className=\"block text-sm text-slate-400 mb-2\">1. Tak─▒m</label>\r\n                <select\r\n                  id=\"team1-select\"\r\n                  value={selectedTeam1}\r\n                  onChange={(e) => setSelectedTeam1(e.target.value)}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500\"\r\n                >\r\n                  <option value=\"\">Tak─▒m Se├ğ</option>\r\n                  {teams.map(team => (\r\n                    <option key={team} value={team} disabled={team === selectedTeam2}>\r\n                      {team}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"team2-select\" className=\"block text-sm text-slate-400 mb-2\">2. Tak─▒m</label>\r\n                <select\r\n                  id=\"team2-select\"\r\n                  value={selectedTeam2}\r\n                  onChange={(e) => setSelectedTeam2(e.target.value)}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500\"\r\n                >\r\n                  <option value=\"\">Tak─▒m Se├ğ</option>\r\n                  {teams.map(team => (\r\n                    <option key={team} value={team} disabled={team === selectedTeam1}>\r\n                      {team}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Comparison Results */}\r\n            {selectedTeam1 && selectedTeam2 && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* Team Forms */}\r\n                {team1Form && <TeamFormDisplay form={team1Form} teamName={selectedTeam1} />}\r\n                {team2Form && <TeamFormDisplay form={team2Form} teamName={selectedTeam2} />}\r\n\r\n                {/* Head to Head */}\r\n                {h2hStats && (\r\n                  <div className=\"md:col-span-2\">\r\n                    <HeadToHeadDisplay\r\n                      stats={h2hStats}\r\n                      homeTeam={selectedTeam1}\r\n                      awayTeam={selectedTeam2}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Comparison Stats */}\r\n                {comparison && (\r\n                  <div className=\"md:col-span-2 bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n                    <h3 className=\"font-bold text-white mb-4\">Kar┼ş─▒la┼şt─▒rma</h3>\r\n                    <div className=\"grid grid-cols-3 gap-4\">\r\n                      {Object.entries(comparison.comparison || {}).map(([category, data]) => (\r\n                        <div key={category} className=\"text-center\">\r\n                          <div className=\"text-xs text-slate-500 mb-2\">{category}</div>\r\n                          <div className=\"flex items-center justify-center gap-2\">\r\n                            <span className={`font-bold ${(data as { team1: number; team2: number }).team1 > (data as { team1: number; team2: number }).team2 ? 'text-blue-400' : 'text-slate-400'\r\n                              }`}>\r\n                              {(data as { team1: number; team2: number }).team1}\r\n                            </span>\r\n                            <span className=\"text-slate-600\">vs</span>\r\n                            <span className={`font-bold ${(data as { team1: number; team2: number }).team2 > (data as { team1: number; team2: number }).team1 ? 'text-orange-400' : 'text-slate-400'\r\n                              }`}>\r\n                              {(data as { team1: number; team2: number }).team2}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Trends Tab */}\r\n        {activeTab === 'trends' && (\r\n          <div className=\"space-y-6\">\r\n            <h2 className=\"text-lg font-bold text-white\">Sezon Trendleri</h2>\r\n\r\n            {/* Hot & Cold Teams */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Hot Teams */}\r\n              <div className=\"bg-gradient-to-br from-emerald-500/10 to-green-500/10 border border-emerald-500/30 rounded-xl p-6\">\r\n                <h3 className=\"flex items-center gap-2 font-bold text-emerald-400 mb-4\">\r\n                  <span>­şöÑ</span> Formda Tak─▒mlar\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  {topPerformers.filter(t => t.trend === 'up').slice(0, 3).map(team => (\r\n                    <div key={team.teamName} className=\"flex items-center justify-between bg-slate-900/50 rounded-lg p-3\">\r\n                      <span className=\"text-white font-medium\">{team.teamName}</span>\r\n                      <span className=\"text-emerald-400 font-bold\">Ôåæ {team.winPercentage}%</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Cold Teams */}\r\n              <div className=\"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6\">\r\n                <h3 className=\"flex items-center gap-2 font-bold text-red-400 mb-4\">\r\n                  <span>ÔØä´©Å</span> Form D├╝┼ş├╝┼ş├╝nde\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  {topPerformers.filter(t => t.trend === 'down').slice(0, 3).map(team => (\r\n                    <div key={team.teamName} className=\"flex items-center justify-between bg-slate-900/50 rounded-lg p-3\">\r\n                      <span className=\"text-white font-medium\">{team.teamName}</span>\r\n                      <span className=\"text-red-400 font-bold\">Ôåô {team.winPercentage}%</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Season Stats Overview */}\r\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\r\n              <h3 className=\"font-bold text-white mb-4\">Sezon ─░statistikleri</h3>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                {[\r\n                  { label: 'Toplam Ma├ğ', value: '156', icon: '­şÅÉ' },\r\n                  { label: 'Toplam Set', value: '589', icon: '­şôè' },\r\n                  { label: 'Ort. Set/Ma├ğ', value: '3.78', icon: '­şôê' },\r\n                  { label: 'Tie-break', value: '42', icon: 'ÔÜí' },\r\n                ].map(stat => (\r\n                  <div key={stat.label} className=\"bg-slate-800/50 rounded-lg p-4 text-center\">\r\n                    <span className=\"text-2xl\">{stat.icon}</span>\r\n                    <div className=\"text-2xl font-bold text-white mt-2\">{stat.value}</div>\r\n                    <div className=\"text-xs text-slate-500\">{stat.label}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\stats\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\takimlar\\[teamSlug]\\TeamProfileClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\takimlar\\[teamSlug]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\tournament-predictions\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\__tests__\\calculatorUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\apiValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\calculatorUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\eloCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\gameState.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Quest' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'QuestId' is defined but never used.","line":9,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n    GameState,\r\n    Achievement,\r\n    AchievementId,\r\n    Quest,\r\n    QuestId,\r\n    LEVEL_THRESHOLDS,\r\n    LEVEL_TITLES\r\n} from '../types';\r\n\r\n// ============================================\r\n// ACHIEVEMENT DEFINITIONS\r\n// ============================================\r\nexport const ACHIEVEMENTS: Record<AchievementId, Omit<Achievement, 'unlockedAt'>> = {\r\n    first_prediction: {\r\n        id: 'first_prediction',\r\n        name: '─░lk Ad─▒m',\r\n        description: '─░lk tahminini yapt─▒n!',\r\n        icon: '­şÄ»',\r\n        xpReward: 50\r\n    },\r\n    streak_3: {\r\n        id: 'streak_3',\r\n        name: '3\\'l├╝ Seri',\r\n        description: '3 ma├ğ ├╝st ├╝ste do─şru tahmin',\r\n        icon: '­şöÑ',\r\n        xpReward: 100\r\n    },\r\n    streak_5: {\r\n        id: 'streak_5',\r\n        name: '5\\'li Seri',\r\n        description: '5 ma├ğ ├╝st ├╝ste do─şru tahmin',\r\n        icon: '­şÆÑ',\r\n        xpReward: 200\r\n    },\r\n    champion_predictor: {\r\n        id: 'champion_predictor',\r\n        name: '┼Şampiyon Tahmincisi',\r\n        description: 'Sezon ┼şampiyonunu do─şru tahmin ettin',\r\n        icon: '­şÅå',\r\n        xpReward: 500\r\n    },\r\n    perfect_week: {\r\n        id: 'perfect_week',\r\n        name: 'M├╝kemmel Hafta',\r\n        description: 'Bir haftada 5/5 do─şru tahmin',\r\n        icon: '­şÆ»',\r\n        xpReward: 300\r\n    },\r\n    underdog_hero: {\r\n        id: 'underdog_hero',\r\n        name: 'Underdog Kahraman─▒',\r\n        description: 'S├╝rpriz bir sonucu do─şru tahmin ettin',\r\n        icon: '­şĞ©',\r\n        xpReward: 150\r\n    },\r\n    game_addict: {\r\n        id: 'game_addict',\r\n        name: 'Oyun Ba─ş─▒ml─▒s─▒',\r\n        description: '50+ tahmin yapt─▒n',\r\n        icon: '­şÄ«',\r\n        xpReward: 250\r\n    },\r\n    loyal_fan: {\r\n        id: 'loyal_fan',\r\n        name: 'Sad─▒k Taraftar',\r\n        description: 'Favori tak─▒m se├ğtin ve 10 ma├ğ─▒n─▒ tahmin ettin',\r\n        icon: 'ÔØñ´©Å',\r\n        xpReward: 150\r\n    }\r\n};\r\n\r\n// ============================================\r\n// INITIAL STATE\r\n// ============================================\r\nconst getInitialGameState = (): GameState => ({\r\n    xp: 0,\r\n    level: 1,\r\n    favoriteTeam: null,\r\n    achievements: [],\r\n    quests: [],\r\n    stats: {\r\n        totalPredictions: 0,\r\n        correctPredictions: 0,\r\n        currentStreak: 0,\r\n        bestStreak: 0,\r\n        predictedChampions: []\r\n    },\r\n    soundEnabled: true,\r\n    lastActiveDate: new Date().toISOString().split('T')[0]\r\n});\r\n\r\n// ============================================\r\n// HELPER FUNCTIONS\r\n// ============================================\r\nexport function calculateLevel(xp: number): number {\r\n    for (let i = LEVEL_THRESHOLDS.length - 1; i >= 0; i--) {\r\n        if (xp >= LEVEL_THRESHOLDS[i]) {\r\n            return i + 1;\r\n        }\r\n    }\r\n    return 1;\r\n}\r\n\r\nexport function getXPForNextLevel(level: number): number {\r\n    if (level >= LEVEL_THRESHOLDS.length) {\r\n        return LEVEL_THRESHOLDS[LEVEL_THRESHOLDS.length - 1] + 3000 * (level - LEVEL_THRESHOLDS.length + 1);\r\n    }\r\n    return LEVEL_THRESHOLDS[level] || LEVEL_THRESHOLDS[LEVEL_THRESHOLDS.length - 1];\r\n}\r\n\r\nexport function getLevelTitle(level: number): string {\r\n    const titles = Object.entries(LEVEL_TITLES)\r\n        .map(([lvl, title]) => ({ level: parseInt(lvl), title }))\r\n        .sort((a, b) => b.level - a.level);\r\n\r\n    for (const { level: reqLevel, title } of titles) {\r\n        if (level >= reqLevel) return title;\r\n    }\r\n    return '├çaylak';\r\n}\r\n\r\n// ============================================\r\n// GAME STATE HOOK\r\n// ============================================\r\nconst STORAGE_KEY = 'volleySimGameState';\r\n\r\nexport function useGameState() {\r\n    const [gameState, setGameState] = useState<GameState>(getInitialGameState);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    // Load from localStorage on mount\r\n    useEffect(() => {\r\n        const loadState = () => {\r\n            try {\r\n                const saved = localStorage.getItem(STORAGE_KEY);\r\n                if (saved) {\r\n                    const parsed = JSON.parse(saved);\r\n                    setGameState(prev => ({ ...prev, ...parsed }));\r\n                }\r\n            } catch (e) {\r\n                console.error('Failed to load game state:', e);\r\n            }\r\n            setIsLoaded(true);\r\n        };\r\n\r\n        Promise.resolve().then(loadState);\r\n    }, []);\r\n\r\n    // Save to localStorage on change\r\n    useEffect(() => {\r\n        if (isLoaded) {\r\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(gameState));\r\n        }\r\n    }, [gameState, isLoaded]);\r\n\r\n    // Add XP\r\n    const addXP = useCallback((amount: number) => {\r\n        setGameState(prev => {\r\n            const newXP = prev.xp + amount;\r\n            const newLevel = calculateLevel(newXP);\r\n            return {\r\n                ...prev,\r\n                xp: newXP,\r\n                level: newLevel\r\n            };\r\n        });\r\n    }, []);\r\n\r\n    // Record prediction\r\n    const recordPrediction = useCallback((isCorrect: boolean) => {\r\n        setGameState(prev => {\r\n            const newStats = { ...prev.stats };\r\n            newStats.totalPredictions++;\r\n\r\n            if (isCorrect) {\r\n                newStats.correctPredictions++;\r\n                newStats.currentStreak++;\r\n                if (newStats.currentStreak > newStats.bestStreak) {\r\n                    newStats.bestStreak = newStats.currentStreak;\r\n                }\r\n            } else {\r\n                newStats.currentStreak = 0;\r\n            }\r\n\r\n            return { ...prev, stats: newStats };\r\n        });\r\n    }, []);\r\n\r\n    // Unlock achievement\r\n    const unlockAchievement = useCallback((id: AchievementId): boolean => {\r\n        let wasUnlocked = false;\r\n\r\n        setGameState(prev => {\r\n            // Check if already unlocked\r\n            if (prev.achievements.some(a => a.id === id)) {\r\n                return prev;\r\n            }\r\n\r\n            const achievementDef = ACHIEVEMENTS[id];\r\n            if (!achievementDef) return prev;\r\n\r\n            const newAchievement: Achievement = {\r\n                ...achievementDef,\r\n                unlockedAt: new Date().toISOString()\r\n            };\r\n\r\n            wasUnlocked = true;\r\n            const newXP = prev.xp + achievementDef.xpReward;\r\n\r\n            return {\r\n                ...prev,\r\n                xp: newXP,\r\n                level: calculateLevel(newXP),\r\n                achievements: [...prev.achievements, newAchievement]\r\n            };\r\n        });\r\n\r\n        return wasUnlocked;\r\n    }, []);\r\n\r\n    // Set favorite team\r\n    const setFavoriteTeam = useCallback((teamName: string | null) => {\r\n        setGameState(prev => ({ ...prev, favoriteTeam: teamName }));\r\n    }, []);\r\n\r\n    // Toggle sound\r\n    const toggleSound = useCallback(() => {\r\n        setGameState(prev => ({ ...prev, soundEnabled: !prev.soundEnabled }));\r\n    }, []);\r\n\r\n    // Check if achievement is unlocked\r\n    const hasAchievement = useCallback((id: AchievementId): boolean => {\r\n        return gameState.achievements.some(a => a.id === id);\r\n    }, [gameState.achievements]);\r\n\r\n    return {\r\n        gameState,\r\n        isLoaded,\r\n        addXP,\r\n        recordPrediction,\r\n        unlockAchievement,\r\n        setFavoriteTeam,\r\n        toggleSound,\r\n        hasAchievement,\r\n        getLevelTitle: () => getLevelTitle(gameState.level),\r\n        getXPProgress: () => {\r\n            const currentLevelXP = LEVEL_THRESHOLDS[gameState.level - 1] || 0;\r\n            const nextLevelXP = getXPForNextLevel(gameState.level);\r\n            const progress = gameState.xp - currentLevelXP;\r\n            const required = nextLevelXP - currentLevelXP;\r\n            return { progress, required, percentage: (progress / required) * 100 };\r\n        }\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\performance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\playoffUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\rateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\scenarioUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\serverData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\sounds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\supabase-server.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":19,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":26,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient, type CookieOptions } from '@supabase/ssr';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { cookies } from 'next/headers';\r\n\r\nexport async function createServerSupabaseClient() {\r\n    const cookieStore = await cookies();\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                get(name: string) {\r\n                    return cookieStore.get(name)?.value;\r\n                },\r\n                set(name: string, value: string, options: CookieOptions) {\r\n                    try {\r\n                        cookieStore.set({ name, value, ...options });\r\n                    } catch (error) {\r\n                        // Handle errors in server components\r\n                    }\r\n                },\r\n                remove(name: string, options: CookieOptions) {\r\n                    try {\r\n                        cookieStore.set({ name, value: '', ...options });\r\n                    } catch (error) {\r\n                        // Handle errors in server components\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    );\r\n}\r\n\r\n// Service role client for admin operations (bypasses RLS)\r\nexport function createServiceRoleClient() {\r\n    return createClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n        {\r\n            auth: {\r\n                autoRefreshToken: false,\r\n                persistSession: false\r\n            }\r\n        }\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\teamIds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\teamSlug.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\useFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\utils\\validation.ts","messages":[{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":190,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":190,"endColumn":60}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Validation utilities using simple schema-based validation\r\n * Lightweight alternative to Zod for basic validation needs\r\n */\r\n\r\n// ============================================\r\n// VALIDATION RESULT TYPES\r\n// ============================================\r\n\r\nexport interface ValidationResult<T> {\r\n    success: boolean;\r\n    data?: T;\r\n    errors?: string[];\r\n}\r\n\r\n// ============================================\r\n// BASIC VALIDATORS\r\n// ============================================\r\n\r\nexport const validators = {\r\n    // String validators\r\n    string: {\r\n        required: (value: unknown, message = 'Bu alan zorunludur'): string | null => {\r\n            if (typeof value !== 'string' || value.trim() === '') return message;\r\n            return null;\r\n        },\r\n        minLength: (min: number) => (value: string, message = `En az ${min} karakter olmal─▒`): string | null => {\r\n            if (value.length < min) return message;\r\n            return null;\r\n        },\r\n        maxLength: (max: number) => (value: string, message = `En fazla ${max} karakter olmal─▒`): string | null => {\r\n            if (value.length > max) return message;\r\n            return null;\r\n        },\r\n        email: (value: string, message = 'Ge├ğerli bir e-posta adresi girin'): string | null => {\r\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n            if (!emailRegex.test(value)) return message;\r\n            return null;\r\n        },\r\n        pattern: (regex: RegExp, message: string) => (value: string): string | null => {\r\n            if (!regex.test(value)) return message;\r\n            return null;\r\n        }\r\n    },\r\n\r\n    // Number validators\r\n    number: {\r\n        required: (value: unknown, message = 'Bu alan zorunludur'): string | null => {\r\n            if (typeof value !== 'number' || isNaN(value)) return message;\r\n            return null;\r\n        },\r\n        min: (min: number) => (value: number, message = `De─şer en az ${min} olmal─▒`): string | null => {\r\n            if (value < min) return message;\r\n            return null;\r\n        },\r\n        max: (max: number) => (value: number, message = `De─şer en fazla ${max} olmal─▒`): string | null => {\r\n            if (value > max) return message;\r\n            return null;\r\n        },\r\n        integer: (value: number, message = 'Tam say─▒ olmal─▒'): string | null => {\r\n            if (!Number.isInteger(value)) return message;\r\n            return null;\r\n        }\r\n    },\r\n\r\n    // Score validators (volleyball specific)\r\n    score: {\r\n        valid: (value: string, message = 'Ge├ğerli bir skor girin (├Ârn: 3-0, 3-1, 3-2, 2-3, 1-3, 0-3)'): string | null => {\r\n            const validScores = ['3-0', '3-1', '3-2', '2-3', '1-3', '0-3'];\r\n            if (!validScores.includes(value)) return message;\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\n// ============================================\r\n// SCHEMA-BASED VALIDATION\r\n// ============================================\r\n\r\ntype ValidatorFn = (value: unknown, message?: string) => string | null;\r\n\r\ninterface FieldSchema {\r\n    validators: ValidatorFn[];\r\n}\r\n\r\ninterface Schema {\r\n    [field: string]: FieldSchema;\r\n}\r\n\r\nexport function validate<T extends Record<string, unknown>>(\r\n    data: T,\r\n    schema: Schema\r\n): ValidationResult<T> {\r\n    const errors: string[] = [];\r\n\r\n    for (const [field, fieldSchema] of Object.entries(schema)) {\r\n        const value = data[field];\r\n\r\n        for (const validator of fieldSchema.validators) {\r\n            const error = validator(value);\r\n            if (error) {\r\n                errors.push(`${field}: ${error}`);\r\n                break; // Stop on first error for this field\r\n            }\r\n        }\r\n    }\r\n\r\n    if (errors.length > 0) {\r\n        return { success: false, errors };\r\n    }\r\n\r\n    return { success: true, data };\r\n}\r\n\r\n// ============================================\r\n// COMMON SCHEMAS\r\n// ============================================\r\n\r\nexport const schemas = {\r\n    prediction: {\r\n        score: {\r\n            validators: [\r\n                validators.string.required,\r\n                validators.score.valid\r\n            ]\r\n        }\r\n    },\r\n\r\n    user: {\r\n        email: {\r\n            validators: [\r\n                validators.string.required,\r\n                validators.string.email\r\n            ]\r\n        },\r\n        password: {\r\n            validators: [\r\n                validators.string.required,\r\n                validators.string.minLength(6)\r\n            ]\r\n        },\r\n        name: {\r\n            validators: [\r\n                validators.string.required,\r\n                validators.string.minLength(2),\r\n                validators.string.maxLength(50)\r\n            ]\r\n        }\r\n    }\r\n};\r\n\r\n// ============================================\r\n// SANITIZATION\r\n// ============================================\r\n\r\nexport const sanitize = {\r\n    // Remove HTML tags\r\n    stripHtml: (input: string): string => {\r\n        return input.replace(/<[^>]*>/g, '');\r\n    },\r\n\r\n    // Escape special characters\r\n    escapeHtml: (input: string): string => {\r\n        const escapeMap: Record<string, string> = {\r\n            '&': '&amp;',\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            '\"': '&quot;',\r\n            \"'\": '&#39;'\r\n        };\r\n        return input.replace(/[&<>\"']/g, char => escapeMap[char]);\r\n    },\r\n\r\n    // Trim and normalize whitespace\r\n    normalizeWhitespace: (input: string): string => {\r\n        return input.trim().replace(/\\s+/g, ' ');\r\n    },\r\n\r\n    // Remove non-alphanumeric characters\r\n    alphanumericOnly: (input: string): string => {\r\n        return input.replace(/[^a-zA-Z0-9\\s]/g, '');\r\n    },\r\n\r\n    // Sanitize for safe display\r\n    forDisplay: (input: string): string => {\r\n        return sanitize.escapeHtml(sanitize.normalizeWhitespace(input));\r\n    }\r\n};\r\n\r\nexport default { validators, validate, schemas, sanitize };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\gunceldurum\\VSLDetailedClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'groupName' is assigned a value but never used.","line":18,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":20},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has a missing dependency: 'formatDate'. Either include it or remove the dependency array.","line":64,"column":8,"nodeType":"ArrayExpression","endLine":64,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [formatDate, matches]","fix":{"range":[2838,2847],"text":"[formatDate, matches]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { TeamStats, Match } from \"../../types\";\r\n\r\nimport StandingsTable from \"../../components/Calculator/StandingsTable\";\r\nimport { sortStandings } from \"../../utils/calculatorUtils\";\r\nimport TeamAvatar from \"@/app/components/TeamAvatar\";\r\nimport LeagueActionBar from \"../../components/LeagueTemplate/LeagueActionBar\";\r\nimport { LEAGUE_CONFIGS } from \"../../components/LeagueTemplate/types\";\r\n\r\ninterface VSLDetailedClientProps {\r\n    initialTeams: TeamStats[];\r\n    initialMatches: Match[];\r\n}\r\n\r\nexport default function VSLDetailedClient({ initialTeams, initialMatches }: VSLDetailedClientProps) {\r\n    const groupName = \"Vodafone Sultanlar Ligi\";\r\n\r\n    const teams = useMemo(() => sortStandings(initialTeams), [initialTeams]);\r\n    const matches = useMemo(() => initialMatches.map((m: Match & { date?: string }) => ({\r\n        ...m,\r\n        matchDate: m.date || m.matchDate\r\n    })), [initialMatches]);\r\n\r\n    const playedCount = matches.filter(m => m.isPlayed).length;\r\n    const totalCount = matches.length;\r\n    const completionRate = totalCount > 0 ? Math.round((playedCount / totalCount) * 100) : 0;\r\n\r\n    const dayNames = ['PAZAR', 'PAZARTES─░', 'SALI', '├çAR┼ŞAMBA', 'PER┼ŞEMBE', 'CUMA', 'CUMARTES─░'];\r\n\r\n    const formatDate = (dateStr?: string) => {\r\n        if (!dateStr || dateStr.trim() === '') return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n        try {\r\n            const date = new Date(dateStr);\r\n            if (isNaN(date.getTime())) return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n            const day = String(date.getDate()).padStart(2, '0');\r\n            const month = String(date.getMonth() + 1).padStart(2, '0');\r\n            const year = date.getFullYear();\r\n            const dayName = dayNames[date.getDay()];\r\n            return { formatted: `${day}/${month}/${year} ${dayName}`, sortKey: dateStr };\r\n        } catch {\r\n            return { formatted: 'TAR─░H BEL─░RS─░Z', sortKey: '9999-99-99' };\r\n        }\r\n    };\r\n\r\n    const groupedMatches = useMemo(() => {\r\n        const matchesByDate: Record<string, { formatted: string; matches: Match[] }> = {};\r\n        const upcomingMatches = matches.filter(m => !m.isPlayed);\r\n\r\n        upcomingMatches.forEach(match => {\r\n            const { formatted, sortKey } = formatDate(match.matchDate);\r\n            if (!matchesByDate[sortKey]) {\r\n                matchesByDate[sortKey] = { formatted, matches: [] };\r\n            }\r\n            matchesByDate[sortKey].matches.push(match);\r\n        });\r\n\r\n        const sortedDates = Object.keys(matchesByDate).sort();\r\n        return sortedDates.reduce((acc, dateKey) => {\r\n            acc[matchesByDate[dateKey].formatted] = matchesByDate[dateKey].matches;\r\n            return acc;\r\n        }, {} as Record<string, Match[]>);\r\n    }, [matches]);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-950 text-slate-100 p-0 sm:p-2 font-sans overflow-hidden\">\r\n            <div className=\"max-w-7xl mx-auto space-y-1 h-full flex flex-col\">\r\n                <div className=\"space-y-3 bg-slate-900/40 p-3 rounded-2xl border border-slate-800/60 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                    {/* Action Bar using LeagueTemplate */}\r\n                    <LeagueActionBar\r\n                        config={LEAGUE_CONFIGS.vsl}\r\n                        title={LEAGUE_CONFIGS.vsl.name}\r\n                        subtitle=\"2025-2026 Sezonu Puan Durumu\"\r\n                        progress={completionRate}\r\n                        progressLabel={`%${completionRate}`}\r\n                    >\r\n                        {/* Leader Badge */}\r\n                        <div className=\"hidden sm:flex bg-slate-950/50 px-3 py-1.5 rounded-lg border border-slate-800 text-center flex-col justify-center h-full min-h-[32px]\">\r\n                            <div className=\"text-[9px] font-bold text-slate-500 uppercase leading-none mb-0.5\">Lider</div>\r\n                            <div className=\"text-xs font-bold text-white truncate max-w-[100px] leading-none\">{teams[0]?.name}</div>\r\n                        </div>\r\n                        {/* Live Badge */}\r\n                        <div className=\"px-3 h-8 bg-emerald-950/50 rounded-lg border border-emerald-800/50 flex items-center gap-2\">\r\n                            <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase hidden sm:inline\">Otomatik G├╝ncelleme</span>\r\n                            <span className=\"text-[10px] font-bold text-emerald-400 uppercase sm:hidden\">CANLI</span>\r\n                        </div>\r\n                    </LeagueActionBar>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-2 h-full\">\r\n                        <div className=\"lg:col-span-2 space-y-1 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôï</span> Puan Durumu\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 max-h-[calc(100vh-200px)]\">\r\n                                <StandingsTable\r\n                                    teams={teams}\r\n                                    playoffSpots={4}\r\n                                    secondaryPlayoffSpots={4}\r\n                                    relegationSpots={2}\r\n                                    compact={true}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 flex flex-col h-full\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1\">\r\n                                <span>­şôà</span> Gelecek Ma├ğlar\r\n                            </h3>\r\n                            <div className=\"bg-slate-950/40 rounded-xl overflow-hidden border border-slate-800/50 flex-1 relative flex flex-col\">\r\n                                <div className=\"overflow-y-auto p-2 space-y-2 flex-1 custom-scrollbar\">\r\n                                    {Object.keys(groupedMatches).length === 0 ? (\r\n                                        <div className=\"flex flex-col items-center justify-center h-full text-slate-500 text-xs italic\">\r\n                                            Ma├ğ bulunamad─▒ veya sezon tamamland─▒.\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"space-y-2\">\r\n                                            {Object.entries(groupedMatches).map(([date, matches], dateIdx) => (\r\n                                                <div key={date} className={dateIdx > 0 ? 'mt-3' : ''}>\r\n                                                    <div className=\"sticky top-0 bg-slate-950/90 backdrop-blur-sm py-1.5 px-3 rounded-lg border border-slate-800 flex items-center justify-between z-10 mb-2 shadow-sm\">\r\n                                                        <span className=\"text-[10px] font-bold text-indigo-400 uppercase tracking-wide flex items-center gap-2\">\r\n                                                            <span>­şôà</span> {date}\r\n                                                        </span>\r\n                                                        <span className=\"text-[9px] text-slate-400 bg-slate-800/50 px-2 py-0.5 rounded\">{matches.length} ma├ğ</span>\r\n                                                    </div>\r\n                                                    <div className=\"px-1 space-y-2\">\r\n                                                        {matches.map(match => {\r\n                                                            const homeRank = teams.findIndex(t => t.name === match.homeTeam) + 1;\r\n                                                            const awayRank = teams.findIndex(t => t.name === match.awayTeam) + 1;\r\n\r\n                                                            // Determine importance (simplified logic closer to FixtureList)\r\n                                                            let borderColor = 'border-slate-800/50';\r\n                                                            let importanceColor = null;\r\n\r\n                                                            // Top 4 clash\r\n                                                            if (homeRank <= 4 && awayRank <= 4 && homeRank > 0 && awayRank > 0) {\r\n                                                                borderColor = 'border-emerald-700/30';\r\n                                                                importanceColor = 'from-emerald-600/80 to-emerald-500/60 text-emerald-100';\r\n                                                            }\r\n                                                            // Relegation clash (Assuming 14 teams)\r\n                                                            else if (homeRank >= 13 && awayRank >= 13) {\r\n                                                                borderColor = 'border-rose-700/30';\r\n                                                                importanceColor = 'from-rose-600/80 to-rose-500/60 text-rose-100';\r\n                                                            }\r\n\r\n                                                            return (\r\n                                                                <div key={match.id || `${match.homeTeam}-${match.awayTeam}`} className={`bg-slate-900 border ${borderColor} rounded-lg p-2.5 shadow-sm hover:border-slate-700 transition-all group relative overflow-hidden`}>\r\n\r\n                                                                    {importanceColor && (\r\n                                                                        <div className={`absolute top-0 inset-x-0 h-0.5 bg-gradient-to-r ${importanceColor.split(' ')[0]}`}></div>\r\n                                                                    )}\r\n\r\n                                                                    {/* Time Badge */}\r\n                                                                    <div className=\"flex justify-center -mt-1 mb-2\">\r\n                                                                        <span className=\"text-[9px] font-mono bg-slate-950/80 px-2 py-0.5 rounded text-slate-400 border border-slate-800/50 shadow-sm\">\r\n                                                                            {match.matchTime && match.matchTime !== '00:00' ? match.matchTime : '--:--'}\r\n                                                                        </span>\r\n                                                                    </div>\r\n\r\n                                                                    <div className=\"flex items-center justify-between gap-2\">\r\n                                                                        <div className=\"flex-1 flex items-center justify-end gap-2 overflow-hidden\">\r\n                                                                            {homeRank > 0 && homeRank <= 4 && (\r\n                                                                                <span className=\"text-[9px] font-bold text-emerald-500 bg-emerald-950/30 px-1 py-0.5 rounded hidden sm:inline-block\">{homeRank}.</span>\r\n                                                                            )}\r\n                                                                            <div className=\"text-[11px] font-bold text-slate-200 truncate group-hover:text-white transition-colors text-right leading-tight\">{match.homeTeam}</div>\r\n                                                                            <TeamAvatar name={match.homeTeam} size=\"xs\" />\r\n                                                                        </div>\r\n\r\n                                                                        <div className=\"mx-1 shrink-0\">\r\n                                                                            {match.isPlayed ? (\r\n                                                                                <div className=\"px-2.5 py-1 bg-slate-950 rounded text-[11px] font-mono font-bold text-slate-200 border border-slate-800 shadow-inner tracking-wider\">\r\n                                                                                    {match.homeScore}-{match.awayScore}\r\n                                                                                </div>\r\n                                                                            ) : (\r\n                                                                                <div className=\"text-[10px] text-slate-600 font-mono font-bold\">vs</div>\r\n                                                                            )}\r\n                                                                        </div>\r\n\r\n                                                                        <div className=\"flex-1 flex items-center justify-start gap-2 overflow-hidden\">\r\n                                                                            <TeamAvatar name={match.awayTeam} size=\"xs\" />\r\n                                                                            <div className=\"text-[11px] font-bold text-slate-200 truncate group-hover:text-white transition-colors text-left leading-tight\">{match.awayTeam}</div>\r\n                                                                            {awayRank > 0 && awayRank <= 4 && (\r\n                                                                                <span className=\"text-[9px] font-bold text-emerald-500 bg-emerald-950/30 px-1 py-0.5 rounded hidden sm:inline-block\">{awayRank}.</span>\r\n                                                                            )}\r\n                                                                        </div>\r\n                                                                    </div>\r\n\r\n                                                                    <div className=\"mt-2 pt-1.5 border-t border-slate-800/50 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity\">\r\n                                                                        <div className=\"flex items-center gap-1 text-[9px] text-slate-500\">\r\n                                                                            <span>­şôı</span>\r\n                                                                            <span className=\"truncate max-w-[150px]\">{match.venue || 'Salon Belirtilmemi┼ş'}</span>\r\n                                                                        </div>\r\n                                                                        {!match.isPlayed && (\r\n                                                                            <div className=\"text-[9px] text-indigo-400 font-medium\">Yak─▒nda</div>\r\n                                                                        )}\r\n                                                                        {match.isPlayed && (\r\n                                                                            <div className=\"text-[9px] text-emerald-500 font-medium\">Bitti</div>\r\n                                                                        )}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            );\r\n                                                        })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\gunceldurum\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\playoffs\\VSLPlayoffsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\playoffs\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\stats\\VSLStatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\stats\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\tahminoyunu\\VSLCalculatorClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\tahminoyunu\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\projects\\VolleySimulator\\VolleySimulator\\VolleySimulator-main\\app\\vsl\\tahminoyunu\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
